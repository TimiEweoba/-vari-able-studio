module.exports=[61724,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},47909,(e,t,r)=>{t.exports=e.r(61724)},17413,(e,t,r)=>{(()=>{"use strict";let r,n,i,s,a;var o,l,u,c,d,h,f,p,g,m,y,b,v,_,w,S,x={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),s=r(930),a="context",o=new n.NoopContextManager;class l{static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(a)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),s=r(957),a=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:s.DiagLogLevel.INFO})=>{var n,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,a.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!=(o=r.logLevel)?o:s.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),s=r(930),a="metrics";class o{static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(a)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),s=r(194),a=r(277),o=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),s=r(139),a=r(607),o=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(i)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),s=r(830),a=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function i(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),s=r(130),a=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${a}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var s;let a=l[o]=null!=(s=l[o])?s:{version:i.VERSION};if(!n&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=l[o])?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null==(r=l[o])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return a(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease||s.major!==o.major)return a(e);if(0===s.major)return s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):a(e);return s.minor<=o.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class s extends n{add(e,t){}}t.NoopUpDownCounterMetric=s;class a extends n{record(e,t){}}t.NoopHistogramMetric=a;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class u extends o{}t.NoopObservableGaugeMetric=u;class c extends o{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),s=r(403),a=r(139),o=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=o.active()){var n;if(null==t?void 0:t.root)return new s.NonRecordingSpan;let l=r&&(0,i.getSpanContext)(r);return"object"==typeof(n=l)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,a.isSpanContextValid)(l)?new s.NonRecordingSpan(l):new s.NonRecordingSpan}startActiveSpan(e,t,r,n){let s,a,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(s=t,l=r):(s=t,a=r,l=n);let u=null!=a?a:o.active(),c=this.startSpan(e,s,u),d=(0,i.setSpan)(u,c);return o.with(d,l,void 0,c)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),s=r(491),a=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(a)||void 0}function l(e,t){return e.setValue(a,t)}t.getSpan=o,t.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=o(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let s=r.slice(0,i),a=r.slice(i+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(a)&&e.set(s,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${n}|${i})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return a.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),s=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==n.INVALID_TRACEID}function l(e){return a.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},E={};function T(e){var t=E[e];if(void 0!==t)return t.exports;var r=E[e]={exports:{}},n=!0;try{x[e].call(r.exports,r,r.exports,T),n=!1}finally{n&&delete E[e]}return r.exports}T.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.trace=P.propagation=P.metrics=P.diag=P.context=P.INVALID_SPAN_CONTEXT=P.INVALID_TRACEID=P.INVALID_SPANID=P.isValidSpanId=P.isValidTraceId=P.isSpanContextValid=P.createTraceState=P.TraceFlags=P.SpanStatusCode=P.SpanKind=P.SamplingDecision=P.ProxyTracerProvider=P.ProxyTracer=P.defaultTextMapSetter=P.defaultTextMapGetter=P.ValueType=P.createNoopMeter=P.DiagLogLevel=P.DiagConsoleLogger=P.ROOT_CONTEXT=P.createContextKey=P.baggageEntryMetadataFromString=void 0,o=T(369),Object.defineProperty(P,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return o.baggageEntryMetadataFromString}}),l=T(780),Object.defineProperty(P,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(P,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),u=T(972),Object.defineProperty(P,"DiagConsoleLogger",{enumerable:!0,get:function(){return u.DiagConsoleLogger}}),c=T(957),Object.defineProperty(P,"DiagLogLevel",{enumerable:!0,get:function(){return c.DiagLogLevel}}),d=T(102),Object.defineProperty(P,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),h=T(901),Object.defineProperty(P,"ValueType",{enumerable:!0,get:function(){return h.ValueType}}),f=T(194),Object.defineProperty(P,"defaultTextMapGetter",{enumerable:!0,get:function(){return f.defaultTextMapGetter}}),Object.defineProperty(P,"defaultTextMapSetter",{enumerable:!0,get:function(){return f.defaultTextMapSetter}}),p=T(125),Object.defineProperty(P,"ProxyTracer",{enumerable:!0,get:function(){return p.ProxyTracer}}),g=T(846),Object.defineProperty(P,"ProxyTracerProvider",{enumerable:!0,get:function(){return g.ProxyTracerProvider}}),m=T(996),Object.defineProperty(P,"SamplingDecision",{enumerable:!0,get:function(){return m.SamplingDecision}}),y=T(357),Object.defineProperty(P,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),b=T(847),Object.defineProperty(P,"SpanStatusCode",{enumerable:!0,get:function(){return b.SpanStatusCode}}),v=T(475),Object.defineProperty(P,"TraceFlags",{enumerable:!0,get:function(){return v.TraceFlags}}),_=T(98),Object.defineProperty(P,"createTraceState",{enumerable:!0,get:function(){return _.createTraceState}}),w=T(139),Object.defineProperty(P,"isSpanContextValid",{enumerable:!0,get:function(){return w.isSpanContextValid}}),Object.defineProperty(P,"isValidTraceId",{enumerable:!0,get:function(){return w.isValidTraceId}}),Object.defineProperty(P,"isValidSpanId",{enumerable:!0,get:function(){return w.isValidSpanId}}),S=T(476),Object.defineProperty(P,"INVALID_SPANID",{enumerable:!0,get:function(){return S.INVALID_SPANID}}),Object.defineProperty(P,"INVALID_TRACEID",{enumerable:!0,get:function(){return S.INVALID_TRACEID}}),Object.defineProperty(P,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return S.INVALID_SPAN_CONTEXT}}),r=T(67),Object.defineProperty(P,"context",{enumerable:!0,get:function(){return r.context}}),n=T(506),Object.defineProperty(P,"diag",{enumerable:!0,get:function(){return n.diag}}),i=T(886),Object.defineProperty(P,"metrics",{enumerable:!0,get:function(){return i.metrics}}),s=T(939),Object.defineProperty(P,"propagation",{enumerable:!0,get:function(){return s.propagation}}),a=T(845),Object.defineProperty(P,"trace",{enumerable:!0,get:function(){return a.trace}}),P.default={context:r.context,diag:n.diag,metrics:i.metrics,propagation:s.propagation,trace:a.trace},t.exports=P})()},42315,(e,t,r)=>{"use strict";t.exports=e.r(18622)},47540,(e,t,r)=>{"use strict";t.exports=e.r(42315).vendored["react-rsc"].React},19481,(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o={},l={RequestCookies:()=>g,ResponseCookies:()=>m,parseCookie:()=>d,parseSetCookie:()=>h,stringifyCookie:()=>c};for(var u in l)n(o,u,{get:l[u],enumerable:!0});function c(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function d(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function h(e){if(!e)return;let[[t,r],...n]=d(e),{domain:i,expires:s,httponly:a,maxage:o,path:l,samesite:u,secure:c,partitioned:h,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var m,y,b={name:t,value:decodeURIComponent(r),domain:i,...s&&{expires:new Date(s)},...a&&{httpOnly:!0},..."string"==typeof o&&{maxAge:Number(o)},path:l,...u&&{sameSite:f.includes(m=(m=u).toLowerCase())?m:void 0},...c&&{secure:!0},...g&&{priority:p.includes(y=(y=g).toLowerCase())?y:void 0},...h&&{partitioned:!0}};let e={};for(let t in b)b[t]&&(e[t]=b[t]);return e}}t.exports=((e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(o=i(t,l))||o.enumerable});return e})(n({},"__esModule",{value:!0}),o);var f=["strict","lax","none"],p=["low","medium","high"],g=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of d(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>c(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>c(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;const i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(const e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}(i)){const t=h(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=c(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(c).join("; ")}}},93118,(e,t,r)=>{(()=>{"use strict";"u">typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,n,i,s={};s.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},s=t.split(n),a=(r||{}).decode||e,o=0;o<s.length;o++){var l=s[o],u=l.indexOf("=");if(!(u<0)){var c=l.substr(0,u).trim(),d=l.substr(++u,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==i[c]&&(i[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,a))}}return i},s.serialize=function(e,t,n){var s=n||{},a=s.encode||r;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var o=a(t);if(o&&!i.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=s.maxAge){var u=s.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(s.domain){if(!i.test(s.domain))throw TypeError("option domain is invalid");l+="; Domain="+s.domain}if(s.path){if(!i.test(s.path))throw TypeError("option path is invalid");l+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=s})()},47114,(e,t,r)=>{"use strict";function n(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"detectDomainLocale",{enumerable:!0,get:function(){return n}})},49084,(e,t,r)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return n}})},97741,(e,t,r)=>{"use strict";function n(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return n}})},34292,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(97741);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return`${t}${r}${i}${s}`}},87622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=e.r(97741);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return`${r}${t}${i}${s}`}},98389,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(97741);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},95414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return s}});let n=e.r(34292),i=e.r(98389);function s(e,t,r,s){if(!t||t===r)return e;let a=e.toLowerCase();return!s&&((0,i.pathHasPrefix)(a,"/api")||(0,i.pathHasPrefix)(a,`/${t.toLowerCase()}`))?e:(0,n.addPathPrefix)(e,`/${t}`)}},25627,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=e.r(49084),i=e.r(34292),s=e.r(87622),a=e.r(95414);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,s.addPathSuffix)((0,i.addPathPrefix)(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,s.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},64512,(e,t,r)=>{"use strict";function n(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getHostname",{enumerable:!0,get:function(){return n}})},13545,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizeLocalePath",{enumerable:!0,get:function(){return i}});let n=new WeakMap;function i(e,t){let r;if(!t)return{pathname:e};let i=n.get(t);i||(i=t.map(e=>e.toLowerCase()),n.set(t,i));let s=e.split("/",2);if(!s[1])return{pathname:e};let a=s[1].toLowerCase(),o=i.indexOf(a);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}},50955,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(98389);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}},60622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=e.r(13545),i=e.r(50955),s=e.r(98389);function a(e,t){let{basePath:r,i18n:a,trailingSlash:o}=t.nextConfig??{},l={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):o};r&&(0,s.pathHasPrefix)(l.pathname,r)&&(l.pathname=(0,i.removePathPrefix)(l.pathname,r),l.basePath=r);let u=l.pathname;if(l.pathname.startsWith("/_next/data/")&&l.pathname.endsWith(".json")){let e=l.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");l.buildId=e[0],u="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(l.pathname=u)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(l.pathname):(0,n.normalizeLocalePath)(l.pathname,a.locales);l.locale=e.detectedLocale,l.pathname=e.pathname??l.pathname,!e.detectedLocale&&l.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(u):(0,n.normalizeLocalePath)(u,a.locales)).detectedLocale&&(l.locale=e.detectedLocale)}return l}},99536,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextURL",{enumerable:!0,get:function(){return c}});let n=e.r(47114),i=e.r(25627),s=e.r(64512),a=e.r(60622),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let u=Symbol("NextURLInternal");class c{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[u]={url:l(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let l=(0,a.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),c=(0,s.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,c);let d=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[u].options.nextConfig)||null==(i=o.i18n)?void 0:i.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=d,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??d,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[u].options)}}},91401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ACTION_SUFFIX:function(){return m},APP_DIR_ALIAS:function(){return B},CACHE_ONE_YEAR:function(){return A},DOT_NEXT_ALIAS:function(){return D},ESLINT_DEFAULT_DIRS:function(){return ei},GSP_NO_RETURNED_VALUE:function(){return Y},GSSP_COMPONENT_MEMBER_ERROR:function(){return et},GSSP_NO_RETURNED_VALUE:function(){return J},HTML_CONTENT_TYPE_HEADER:function(){return a},INFINITE_CACHE:function(){return N},INSTRUMENTATION_HOOK_FILENAME:function(){return M},JSON_CONTENT_TYPE_HEADER:function(){return o},MATCHED_PATH_HEADER:function(){return c},MIDDLEWARE_FILENAME:function(){return C},MIDDLEWARE_LOCATION_REGEXP:function(){return O},NEXT_BODY_SUFFIX:function(){return v},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return R},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return w},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return S},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return P},NEXT_CACHE_TAGS_HEADER:function(){return _},NEXT_CACHE_TAG_MAX_ITEMS:function(){return E},NEXT_CACHE_TAG_MAX_LENGTH:function(){return T},NEXT_DATA_SUFFIX:function(){return y},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return u},NEXT_META_SUFFIX:function(){return b},NEXT_QUERY_PARAM_PREFIX:function(){return l},NEXT_RESUME_HEADER:function(){return x},NON_STANDARD_NODE_ENV:function(){return er},PAGES_DIR_ALIAS:function(){return L},PRERENDER_REVALIDATE_HEADER:function(){return d},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return h},PROXY_FILENAME:function(){return I},PROXY_LOCATION_REGEXP:function(){return k},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return Z},ROOT_DIR_ALIAS:function(){return j},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return z},RSC_ACTION_ENCRYPTION_ALIAS:function(){return V},RSC_ACTION_PROXY_ALIAS:function(){return q},RSC_ACTION_VALIDATE_ALIAS:function(){return U},RSC_CACHE_WRAPPER_ALIAS:function(){return F},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return Q},RSC_MOD_REF_PROXY_ALIAS:function(){return $},RSC_SEGMENTS_DIR_SUFFIX:function(){return f},RSC_SEGMENT_SUFFIX:function(){return p},RSC_SUFFIX:function(){return g},SERVER_PROPS_EXPORT_ERROR:function(){return K},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return H},SERVER_PROPS_SSG_CONFLICT:function(){return W},SERVER_RUNTIME:function(){return es},SSG_FALLBACK_EXPORT_ERROR:function(){return en},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return G},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return X},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return s},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return ee},WEBPACK_LAYERS:function(){return el},WEBPACK_RESOURCE_QUERIES:function(){return eu},WEB_SOCKET_MAX_RECONNECTIONS:function(){return ea}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="text/plain",a="text/html; charset=utf-8",o="application/json; charset=utf-8",l="nxtP",u="nxtI",c="x-matched-path",d="x-prerender-revalidate",h="x-prerender-revalidate-if-generated",f=".segments",p=".segment.rsc",g=".rsc",m=".action",y=".json",b=".meta",v=".body",_="x-next-cache-tags",w="x-next-revalidated-tags",S="x-next-revalidate-tag-token",x="next-resume",E=128,T=256,P=1024,R="_N_T_",A=31536e3,N=0xfffffffe,C="middleware",O=`(?:src/)?${C}`,I="proxy",k=`(?:src/)?${I}`,M="instrumentation",L="private-next-pages",D="private-dot-next",j="private-next-root-dir",B="private-next-app-dir",$="private-next-rsc-mod-ref-proxy",U="private-next-rsc-action-validate",q="private-next-rsc-server-reference",F="private-next-rsc-cache-wrapper",Q="private-next-rsc-track-dynamic-import",V="private-next-rsc-action-encryption",z="private-next-rsc-action-client-wrapper",Z="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",G="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",H="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",W="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",X="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",K="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Y="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",J="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",ee="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",et="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",er='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',en="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",ei=["app","pages","components","lib","src"],es={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ea=12,eo={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},el={...eo,GROUP:{builtinReact:[eo.reactServerComponents,eo.actionBrowser],serverOnly:[eo.reactServerComponents,eo.actionBrowser,eo.instrument,eo.middleware],neutralTarget:[eo.apiNode,eo.apiEdge],clientOnly:[eo.serverSideRendering,eo.appPagesBrowser],bundled:[eo.reactServerComponents,eo.actionBrowser,eo.serverSideRendering,eo.appPagesBrowser,eo.shared,eo.instrument,eo.middleware],appPages:[eo.reactServerComponents,eo.serverSideRendering,eo.appPagesBrowser,eo.actionBrowser]}},eu={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},80333,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={fromNodeOutgoingHttpHeaders:function(){return a},normalizeNextQueryParam:function(){return c},splitCookiesString:function(){return o},toNodeOutgoingHttpHeaders:function(){return l},validateURL:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(91401);function a(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function o(e){var t,r,n,i,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function l(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...o(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function u(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function c(e){for(let t of[s.NEXT_QUERY_PARAM_PREFIX,s.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},47389,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={PageSignatureError:function(){return s},RemovedPageError:function(){return a},RemovedUAError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});class s extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class o extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},472,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={RequestCookies:function(){return s.RequestCookies},ResponseCookies:function(){return s.ResponseCookies},stringifyCookie:function(){return s.stringifyCookie}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(19481)},29666,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={INTERNALS:function(){return u},NextRequest:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(99536),a=e.r(80333),o=e.r(47389),l=e.r(472),u=Symbol("internal request");class c extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const n=new s.NextURL(r,{headers:(0,a.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[u]={cookies:new l.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[u].cookies}get nextUrl(){return this[u].nextUrl}get page(){throw new o.RemovedPageError}get ua(){throw new o.RemovedUAError}get url(){return this[u].url}}},30759,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return n}});class n{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},46633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextResponse",{enumerable:!0,get:function(){return d}});let n=e.r(472),i=e.r(99536),s=e.r(80333),a=e.r(30759),o=e.r(472),l=Symbol("internal response"),u=new Set([301,302,303,307,308]);function c(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);const r=this.headers,u=new Proxy(new o.ResponseCookies(r),{get(e,i,s){switch(i){case"delete":case"set":return(...s)=>{let a=Reflect.apply(e[i],e,s),l=new Headers(r);return a instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),c(t,l),a};default:return a.ReflectAdapter.get(e,i,s)}}});this[l]={cookies:u,url:t.url?new i.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,s.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,s.validateURL)(e)),c(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),c(e,t),new d(null,{...e,headers:t})}}},87963,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageResponse",{enumerable:!0,get:function(){return n}})},99299,(e,t,r)=>{var n={226:function(t,r){!function(n,i){"use strict";var s="function",a="undefined",o="object",l="string",u="major",c="model",d="name",h="type",f="vendor",p="version",g="architecture",m="console",y="mobile",b="tablet",v="smarttv",_="wearable",w="embedded",S="Amazon",x="Apple",E="ASUS",T="BlackBerry",P="Browser",R="Chrome",A="Firefox",N="Google",C="Huawei",O="Microsoft",I="Motorola",k="Opera",M="Samsung",L="Sharp",D="Sony",j="Xiaomi",B="Zebra",$="Facebook",U="Chromium OS",q="Mac OS",F=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},Q=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},V=function(e,t){return typeof e===l&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},Z=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},G=function(e,t){for(var r,n,i,a,l,u,c=0;c<t.length&&!l;){var d=t[c],h=t[c+1];for(r=n=0;r<d.length&&!l&&d[r];)if(l=d[r++].exec(e))for(i=0;i<h.length;i++)u=l[++n],typeof(a=h[i])===o&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||void 0;c+=2}},H=function(e,t){for(var r in t)if(typeof t[r]===o&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(V(t[r][n],e))return"?"===r?void 0:r}else if(V(t[r],e))return"?"===r?void 0:r;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,k+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,k]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+P],p],[/\bfocus\/([\w\.]+)/i],[p,[d,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,k+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,k+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[p,[d,A]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+P],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,$],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,R+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,p],[/(cobalt)\/([\w\.]+)/i],[d,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,z]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[f,M],[h,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[f,M],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[f,x],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[f,x],[h,b]],[/(macintosh);/i],[c,[f,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[f,L],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[f,C],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[f,C],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[f,j],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[f,j],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[f,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[f,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[f,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[f,I],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[f,I],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[f,"LG"],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[f,"LG"],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[f,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[f,"Nokia"],[h,y]],[/(pixel c)\b/i],[c,[f,N],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[f,N],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[f,D],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[f,D],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[f,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[f,S],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[f,S],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[c,f,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[f,T],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[f,E],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[f,E],[h,y]],[/(nexus 9)/i],[c,[f,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[c,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[f,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[f,"Meizu"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,c,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,c,[h,b]],[/(surface duo)/i],[c,[f,O],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[f,"Fairphone"],[h,y]],[/(u304aa)/i],[c,[f,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[c,[f,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[c,[f,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[c,[f,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[c,[f,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[f,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[c,[f,"NuVision"],[h,b]],[/\b(k88) b/i],[c,[f,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[c,[f,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[c,[f,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[c,[f,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[c,[f,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],c,[h,b]],[/\b(ns-?\w{0,9}) b/i],[c,[f,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[f,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],c,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],c,[h,y]],[/\b(ph-1) /i],[c,[f,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[f,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[c,[f,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[c,[f,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[c,[f,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[f,c,[h,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[f,O],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[f,B],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[f,B],[h,y]],[/smart-tv.+(samsung)/i],[f,[h,v]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[f,M],[h,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[h,v]],[/(apple) ?tv/i],[f,[c,x+" TV"],[h,v]],[/crkey/i],[[c,R+"cast"],[f,N],[h,v]],[/droid.+aft(\w)( bui|\))/i],[c,[f,S],[h,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[f,L],[h,v]],[/(bravia[\w ]+)( bui|\))/i],[c,[f,D],[h,v]],[/(mitv-\w{5}) bui/i],[c,[f,j],[h,v]],[/Hbbtv.*(technisat) (.*);/i],[f,c,[h,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Z],[c,Z],[h,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,c,[h,m]],[/droid.+; (shield) bui/i],[c,[f,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[c,[f,D],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[f,O],[h,m]],[/((pebble))app/i],[f,c,[h,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[f,x],[h,_]],[/droid.+; (glass) \d/i],[c,[f,N],[h,_]],[/droid.+; (wt63?0{2,3})\)/i],[c,[f,B],[h,_]],[/(quest( 2| pro)?)/i],[c,[f,$],[h,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,w]],[/(aeobc)\b/i],[c,[f,S],[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,H,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,H,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,q],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[d,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,U],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},K=function(e,t){if(typeof e===o&&(t=e,e=void 0),!(this instanceof K))return new K(e,t).getResult();var r=typeof n!==a&&n.navigator?n.navigator:void 0,i=e||(r&&r.userAgent?r.userAgent:""),m=r&&r.userAgentData?r.userAgentData:void 0,v=t?F(X,t):X,_=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[d]=void 0,t[p]=void 0,G.call(t,i,v.browser),t[u]=typeof(e=t[p])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,_&&r&&r.brave&&typeof r.brave.isBrave==s&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[g]=void 0,G.call(e,i,v.cpu),e},this.getDevice=function(){var e={};return e[f]=void 0,e[c]=void 0,e[h]=void 0,G.call(e,i,v.device),_&&!e[h]&&m&&m.mobile&&(e[h]=y),_&&"Macintosh"==e[c]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[c]="iPad",e[h]=b),e},this.getEngine=function(){var e={};return e[d]=void 0,e[p]=void 0,G.call(e,i,v.engine),e},this.getOS=function(){var e={};return e[d]=void 0,e[p]=void 0,G.call(e,i,v.os),_&&!e[d]&&m&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,U).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===l&&e.length>350?Z(e,350):e,this},this.setUA(i),this};if(K.VERSION="1.0.35",K.BROWSER=Q([d,p,u]),K.CPU=Q([g]),K.DEVICE=Q([c,f,h,m,y,v,b,_,w]),K.ENGINE=K.OS=Q([d,p]),typeof r!==a)t.exports&&(r=t.exports=K),r.UAParser=K;else if(typeof define===s&&define.amd)e.r,void 0!==K&&e.v(K);else typeof n!==a&&(n.UAParser=K);var Y=typeof n!==a&&(n.jQuery||n.Zepto);if(Y&&!Y.ua){var J=new K;Y.ua=J.getResult(),Y.ua.get=function(){return J.getUA()},Y.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var r in t)Y.ua[r]=t[r]}}}(this)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{n[e].call(r.exports,r,r.exports,s),a=!1}finally{a&&delete i[e]}return r.exports}s.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=s(226)},4386,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={isBot:function(){return o},userAgent:function(){return u},userAgentFromString:function(){return l}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let a=(n=e.r(99299))&&n.__esModule?n:{default:n};function o(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function l(e){return{...(0,a.default)(e),isBot:void 0!==e&&o(e)}}function u({headers:e}){return l(e.get("user-agent")||void 0)}},79187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"URLPattern",{enumerable:!0,get:function(){return n}});let n="u"<typeof URLPattern?void 0:URLPattern},53309,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"after",{enumerable:!0,get:function(){return i}});let n=e.r(56704);function i(e){let t=n.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},81053,(e,t,r)=>{"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),n=e.r(53309),i=r,Object.keys(n).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(i,e)||Object.defineProperty(i,e,{enumerable:!0,get:function(){return n[e]}})})},65252,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DynamicServerError:function(){return a},isDynamicServerError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=s}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===s}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},97573,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={StaticGenBailoutError:function(){return a},isStaticGenBailoutError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="NEXT_STATIC_GEN_BAILOUT";class a extends Error{constructor(...e){super(...e),this.code=s}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===s}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},4642,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isHangingPromiseRejectionError:function(){return s},makeDevtoolsIOAwarePromise:function(){return d},makeHangingPromise:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===a}let a="HANGING_PROMISE_REJECTION";class o extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=a}}let l=new WeakMap;function u(e,t,r){if(e.aborted)return Promise.reject(new o(t,r));{let n=new Promise((n,i)=>{let s=i.bind(null,new o(t,r)),a=l.get(e);if(a)a.push(s);else{let t=[s];l.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(c),n}}function c(){}function d(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},96306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={METADATA_BOUNDARY_NAME:function(){return s},OUTLET_BOUNDARY_NAME:function(){return o},ROOT_LAYOUT_BOUNDARY_NAME:function(){return l},VIEWPORT_BOUNDARY_NAME:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="__next_metadata_boundary__",a="__next_viewport_boundary__",o="__next_outlet_boundary__",l="__next_root_layout_boundary__"},38244,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={atLeastOneTask:function(){return o},scheduleImmediate:function(){return a},scheduleOnNextTick:function(){return s},waitAtLeastOneReactRenderTask:function(){return l}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},a=e=>{setImmediate(e)};function o(){return new Promise(e=>a(e))}function l(){return new Promise(e=>setImmediate(e))}},31584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={BailoutToCSRError:function(){return a},isBailoutToCSRError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s="BAILOUT_TO_CLIENT_SIDE_RENDERING";class a extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=s}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}},76414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return n}});class n extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},68665,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,s={Postpone:function(){return R},PreludeState:function(){return Y},abortAndThrowOnSynchronousRequestDataAccess:function(){return P},abortOnSynchronousPlatformIOAccess:function(){return T},accessedDynamicData:function(){return L},annotateDynamicAccess:function(){return U},consumeDynamicAccess:function(){return D},createDynamicTrackingState:function(){return b},createDynamicValidationState:function(){return v},createHangingInputAbortSignal:function(){return $},createRenderInBrowserAbortSignal:function(){return B},delayUntilRuntimeStage:function(){return er},formatDynamicAPIAccesses:function(){return j},getFirstDynamicReason:function(){return _},getStaticShellDisallowedDynamicReasons:function(){return et},isDynamicPostpone:function(){return C},isPrerenderInterruptedError:function(){return M},logDisallowedDynamicError:function(){return J},markCurrentScopeAsDynamic:function(){return w},postponeWithTracking:function(){return A},throwIfDisallowedDynamic:function(){return ee},throwToInterruptStaticGeneration:function(){return S},trackAllowedDynamicAccess:function(){return H},trackDynamicDataInDynamicRender:function(){return x},trackDynamicHoleInRuntimeShell:function(){return W},trackDynamicHoleInStaticShell:function(){return X},useDynamicRouteParams:function(){return q},useDynamicSearchParams:function(){return F}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let o=(n=e.r(47540))&&n.__esModule?n:{default:n},l=e.r(65252),u=e.r(97573),c=e.r(32319),d=e.r(56704),h=e.r(4642),f=e.r(96306),p=e.r(38244),g=e.r(31584),m=e.r(76414),y="function"==typeof o.default.unstable_postpone;function b(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function v(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,dynamicMetadata:null,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function _(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function w(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return A(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let n=Object.defineProperty(new l.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}function S(e,t,r){let n=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function x(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function E(e,t,r){let n=k(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function T(e,t,r,n){let i=n.dynamicTracking;E(e,t,n),i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}function P(e,t,r,n){if(!1===n.controller.signal.aborted){E(e,t,n);let i=n.dynamicTracking;i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}throw k(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function R({reason:e,route:t}){let r=c.workUnitAsyncStorage.getStore();A(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function A(e,t,r){(function(){if(!y)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),o.default.unstable_postpone(N(e,t))}function N(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function C(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&O(e.message)}function O(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===O(N("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let I="NEXT_PRERENDER_INTERRUPTED";function k(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=I,t}function M(e){return"object"==typeof e&&null!==e&&e.digest===I&&"name"in e&&"message"in e&&e instanceof Error}function L(e){return e.length>0}function D(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function j(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function B(){let e=new AbortController;return e.abort(Object.defineProperty(new g.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function $(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,c.getRuntimeStagePromise)(e);r?r.then(()=>(0,p.scheduleOnNextTick)(()=>t.abort())):(0,p.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function U(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function q(e){let t=d.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let n=r.fallbackRouteParams;n&&n.size>0&&o.default.use((0,h.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let n=r.fallbackRouteParams;if(n&&n.size>0)return A(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function F(e){let t=d.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,c.throwForMissingRequestStore)(e),r.type){case"prerender-client":o.default.use((0,h.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new g.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let Q=/\n\s+at Suspense \(<anonymous>\)/,V=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${f.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),z=RegExp(`\\n\\s+at ${f.METADATA_BOUNDARY_NAME}[\\n\\s]`),Z=RegExp(`\\n\\s+at ${f.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),G=RegExp(`\\n\\s+at ${f.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function H(e,t,r,n){if(!G.test(t)){if(z.test(t)){r.hasDynamicMetadata=!0;return}if(Z.test(t)){r.hasDynamicViewport=!0;return}if(V.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(Q.test(t)){r.hasAllowedDynamic=!0;return}else{if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let i=K(`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(i)}}}function W(e,t,r,n){if(!G.test(t)){if(z.test(t)){r.dynamicMetadata=K(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateMetadata\`. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(Z.test(t)){let n=K(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(n);return}if(V.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(Q.test(t)){r.hasAllowedDynamic=!0;return}else{if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let i=K(`Route "${e.route}": Uncached data or \`connection()\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(i)}}}function X(e,t,r,n){if(!G.test(t)){if(z.test(t)){r.dynamicMetadata=K(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateMetadata\` or you have file-based metadata such as icons that depend on dynamic params segments. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(Z.test(t)){let n=K(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(n);return}if(V.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(Q.test(t)){r.hasAllowedDynamic=!0;return}else{if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let i=K(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(i)}}}function K(e,t){let r=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r.stack=r.name+": "+e+t,r}var Y=((i={})[i.Full=0]="Full",i[i.Empty=1]="Empty",i[i.Errored=2]="Errored",i);function J(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function ee(e,t,r,n){if(n.syncDynamicErrorWithStack)throw J(e,n.syncDynamicErrorWithStack),new u.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let n=r.dynamicErrors;if(n.length>0){for(let t=0;t<n.length;t++)J(e,n[t]);throw new u.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new u.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new u.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new u.StaticGenBailoutError}function et(e,t,r){if(r.hasSuspenseAboveBody)return[];if(0!==t){let n=r.dynamicErrors;if(n.length>0)return n;if(1===t)return[Object.defineProperty(new m.InvariantError(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason.`),"__NEXT_ERROR_CODE",{value:"E936",enumerable:!1,configurable:!0})]}else if(!1===r.hasAllowedDynamic&&0===r.dynamicErrors.length&&r.dynamicMetadata)return[r.dynamicMetadata];return[]}function er(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},43824,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isRequestAPICallableInsideAfter:function(){return u},throwForSearchParamsAccessInUseCache:function(){return l},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(97573),a=e.r(24725);function o(e,t){throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function l(e,t){let r=Object.defineProperty(Error(`Route ${e.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(r,t),e.invalidDynamicUsageError??=r,r}function u(){let e=a.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},8211,(e,t,r)=>{"use strict";function n(){let e,t,r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return n}})},18185,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={RenderStage:function(){return l},StagedRenderingController:function(){return u}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let a=e.r(76414),o=e.r(8211);var l=((n={})[n.Before=1]="Before",n[n.Static=2]="Static",n[n.Runtime=3]="Runtime",n[n.Dynamic=4]="Dynamic",n[n.Abandoned=5]="Abandoned",n);class u{constructor(e=null,t){this.abortSignal=e,this.hasRuntimePrefetch=t,this.currentStage=1,this.staticInterruptReason=null,this.runtimeInterruptReason=null,this.staticStageEndTime=1/0,this.runtimeStageEndTime=1/0,this.runtimeStageListeners=[],this.dynamicStageListeners=[],this.runtimeStagePromise=(0,o.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,o.createPromiseWithResolvers)(),this.mayAbandon=!1,e&&(e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<3&&(this.runtimeStagePromise.promise.catch(c),this.runtimeStagePromise.reject(t)),(this.currentStage<4||5===this.currentStage)&&(this.dynamicStagePromise.promise.catch(c),this.dynamicStagePromise.reject(t))},{once:!0}),this.mayAbandon=!0)}onStage(e,t){if(this.currentStage>=e)t();else if(3===e)this.runtimeStageListeners.push(t);else if(4===e)this.dynamicStageListeners.push(t);else throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}canSyncInterrupt(){if(1===this.currentStage)return!1;let e=this.hasRuntimePrefetch?4:3;return this.currentStage<e}syncInterruptCurrentStageWithReason(e){if(1!==this.currentStage){if(this.mayAbandon)return this.abandonRenderImpl();switch(this.currentStage){case 2:this.staticInterruptReason=e,this.advanceStage(4);return;case 3:this.hasRuntimePrefetch&&(this.runtimeInterruptReason=e,this.advanceStage(4));return}}}getStaticInterruptReason(){return this.staticInterruptReason}getRuntimeInterruptReason(){return this.runtimeInterruptReason}getStaticStageEndTime(){return this.staticStageEndTime}getRuntimeStageEndTime(){return this.runtimeStageEndTime}abandonRender(){if(!this.mayAbandon)throw Object.defineProperty(new a.InvariantError("`abandonRender` called on a stage controller that cannot be abandoned."),"__NEXT_ERROR_CODE",{value:"E938",enumerable:!1,configurable:!0});this.abandonRenderImpl()}abandonRenderImpl(){let{currentStage:e}=this;switch(e){case 2:this.currentStage=5,this.resolveRuntimeStage();return;case 3:this.currentStage=5;return}}advanceStage(e){if(e<=this.currentStage)return;let t=this.currentStage;if(this.currentStage=e,t<3&&e>=3&&(this.staticStageEndTime=performance.now()+performance.timeOrigin,this.resolveRuntimeStage()),t<4&&e>=4){this.runtimeStageEndTime=performance.now()+performance.timeOrigin,this.resolveDynamicStage();return}}resolveRuntimeStage(){let e=this.runtimeStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.runtimeStagePromise.resolve()}resolveDynamicStage(){let e=this.dynamicStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.dynamicStagePromise.resolve()}getStagePromise(e){switch(e){case 3:return this.runtimeStagePromise.promise;case 4:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var n,i,s;let a,o=(n=this.getStagePromise(e),i=t,s=r,a=new Promise((e,t)=>{n.then(e.bind(null,s),t)}),void 0!==i&&(a.displayName=i),a);return this.abortSignal&&o.catch(c),o}}function c(){}},75674,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"connection",{enumerable:!0,get:function(){return u}});let n=e.r(56704),i=e.r(32319),s=e.r(68665),a=e.r(97573),o=e.r(4642),l=e.r(43824);function u(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(t)switch(t.type){case"cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,u),e.invalidDynamicUsageError??=t,t}case"private-cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,u),e.invalidDynamicUsageError??=t,t}case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,o.makeHangingPromise)(t.renderSignal,e.route,"`connection()`");case"prerender-ppr":return(0,s.postponeWithTracking)(e.route,"connection",t.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)("connection",e,t);case"request":return(0,s.trackDynamicDataInDynamicRender)(t),Promise.resolve(void 0)}}(0,i.throwForMissingRequestStore)("connection")}e.r(18185)},89171,(e,t,r)=>{let n={NextRequest:e.r(29666).NextRequest,NextResponse:e.r(46633).NextResponse,ImageResponse:e.r(87963).ImageResponse,userAgentFromString:e.r(4386).userAgentFromString,userAgent:e.r(4386).userAgent,URLPattern:e.r(79187).URLPattern,after:e.r(81053).after,connection:e.r(75674).connection};t.exports=n,r.NextRequest=n.NextRequest,r.NextResponse=n.NextResponse,r.ImageResponse=n.ImageResponse,r.userAgentFromString=n.userAgentFromString,r.userAgent=n.userAgent,r.URLPattern=n.URLPattern,r.after=n.after,r.connection=n.connection},54799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},64328,(e,t,r)=>{t.exports=e.x("mongoose-8b99e611e7552af3",()=>require("mongoose-8b99e611e7552af3"))},74017,95169,61916,10372,220,59756,70101,87718,52474,96250,69741,74677,16795,47587,66012,26937,22632,90337,21127,e=>{"use strict";let t,r,n,i,s,a;var o=((ah={}).PAGES="PAGES",ah.PAGES_API="PAGES_API",ah.APP_PAGE="APP_PAGE",ah.APP_ROUTE="APP_ROUTE",ah.IMAGE="IMAGE",ah);e.s(["RouteKind",()=>o],74017);var l=((af=l||{}).handleRequest="BaseServer.handleRequest",af.run="BaseServer.run",af.pipe="BaseServer.pipe",af.getStaticHTML="BaseServer.getStaticHTML",af.render="BaseServer.render",af.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",af.renderToResponse="BaseServer.renderToResponse",af.renderToHTML="BaseServer.renderToHTML",af.renderError="BaseServer.renderError",af.renderErrorToResponse="BaseServer.renderErrorToResponse",af.renderErrorToHTML="BaseServer.renderErrorToHTML",af.render404="BaseServer.render404",af),u=((ap=u||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",ap.loadComponents="LoadComponents.loadComponents",ap),c=((ag=c||{}).getRequestHandler="NextServer.getRequestHandler",ag.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",ag.getServer="NextServer.getServer",ag.getServerRequestHandler="NextServer.getServerRequestHandler",ag.createServer="createServer.createServer",ag),d=((am=d||{}).compression="NextNodeServer.compression",am.getBuildId="NextNodeServer.getBuildId",am.createComponentTree="NextNodeServer.createComponentTree",am.clientComponentLoading="NextNodeServer.clientComponentLoading",am.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",am.generateStaticRoutes="NextNodeServer.generateStaticRoutes",am.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",am.generatePublicRoutes="NextNodeServer.generatePublicRoutes",am.generateImageRoutes="NextNodeServer.generateImageRoutes.route",am.sendRenderResult="NextNodeServer.sendRenderResult",am.proxyRequest="NextNodeServer.proxyRequest",am.runApi="NextNodeServer.runApi",am.render="NextNodeServer.render",am.renderHTML="NextNodeServer.renderHTML",am.imageOptimizer="NextNodeServer.imageOptimizer",am.getPagePath="NextNodeServer.getPagePath",am.getRoutesManifest="NextNodeServer.getRoutesManifest",am.findPageComponents="NextNodeServer.findPageComponents",am.getFontManifest="NextNodeServer.getFontManifest",am.getServerComponentManifest="NextNodeServer.getServerComponentManifest",am.getRequestHandler="NextNodeServer.getRequestHandler",am.renderToHTML="NextNodeServer.renderToHTML",am.renderError="NextNodeServer.renderError",am.renderErrorToHTML="NextNodeServer.renderErrorToHTML",am.render404="NextNodeServer.render404",am.startResponse="NextNodeServer.startResponse",am.route="route",am.onProxyReq="onProxyReq",am.apiResolver="apiResolver",am.internalFetch="internalFetch",am),h=((ay=h||{}).startServer="startServer.startServer",ay),f=((ab=f||{}).getServerSideProps="Render.getServerSideProps",ab.getStaticProps="Render.getStaticProps",ab.renderToString="Render.renderToString",ab.renderDocument="Render.renderDocument",ab.createBodyResult="Render.createBodyResult",ab),p=((av=p||{}).renderToString="AppRender.renderToString",av.renderToReadableStream="AppRender.renderToReadableStream",av.getBodyResult="AppRender.getBodyResult",av.fetch="AppRender.fetch",av),g=((a_=g||{}).executeRoute="Router.executeRoute",a_),m=((aw=m||{}).runHandler="Node.runHandler",aw),y=((aS=y||{}).runHandler="AppRouteRouteHandlers.runHandler",aS),b=((ax=b||{}).generateMetadata="ResolveMetadata.generateMetadata",ax.generateViewport="ResolveMetadata.generateViewport",ax),v=((aE=v||{}).execute="Middleware.execute",aE);let _=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),w=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);e.s(["AppRenderSpan",()=>p,"BaseServerSpan",()=>l,"LogSpanAllowList",0,w,"NextNodeServerSpan",()=>d,"NextVanillaSpanAllowlist",0,_],95169);let S=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(70406)}catch(r){t=e.r(17413)}let{context:x,propagation:E,trace:T,SpanStatusCode:P,SpanKind:R,ROOT_CONTEXT:A}=t;class N extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let C=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof N&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:P.ERROR,message:null==t?void 0:t.message})),e.end()},O=new Map,I=t.createContextKey("next.rootSpanId"),k=0,M={set(e,t,r){e.push({key:t,value:r})}},L=(a=new class e{getTracerInstance(){return T.getTracer("next.js","0.0.1")}getContext(){return x}getTracePropagationData(){let e=x.active(),t=[];return E.inject(e,t,M),t}getActiveScopeSpan(){return T.getSpan(null==x?void 0:x.active())}withPropagatedContext(e,t,r){let n=x.active();if(T.getSpanContext(n))return t();let i=E.extract(n,e,r);return x.with(i,t)}trace(...e){let[t,r,n]=e,{fn:i,options:s}="function"==typeof r?{fn:r,options:{}}:{fn:n,options:{...r}},a=s.spanName??t;if(!_.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||s.hideSpan)return i();let o=this.getSpanContext((null==s?void 0:s.parentSpan)??this.getActiveScopeSpan());o||(o=(null==x?void 0:x.active())??A);let l=o.getValue(I),u="number"!=typeof l||!O.has(l),c=k++;return s.attributes={"next.span_name":a,"next.span_type":t,...s.attributes},x.with(o.setValue(I,c),()=>this.getTracerInstance().startActiveSpan(a,s,e=>{let r;S&&t&&w.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let n=!1,a=()=>{!n&&(n=!0,O.delete(c),r&&performance.measure(`${S}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(u&&O.set(c,new Map(Object.entries(s.attributes??{}))),i.length>1)try{return i(e,t=>C(e,t))}catch(t){throw C(e,t),t}finally{a()}try{let t=i(e);if(null!==t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then)return t.then(t=>(e.end(),t)).catch(t=>{throw C(e,t),t}).finally(a);return e.end(),a(),t}catch(t){throw C(e,t),a(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return _.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let s=arguments.length-1,a=arguments[s];if("function"!=typeof a)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(x.active(),a);return t.trace(r,e,(e,t)=>(arguments[s]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?T.setSpan(x.active(),e):void 0}getRootSpanAttributes(){let e=x.active().getValue(I);return O.get(e)}setRootSpanAttribute(e,t){let r=x.active().getValue(I),n=O.get(r);n&&!n.has(e)&&n.set(e,t)}withSpan(e,t){let r=T.setSpan(x.active(),e);return x.with(r,t)}},()=>a);e.s(["SpanKind",()=>R,"getTracer",()=>L],61916);let D={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};D.reactServerComponents,D.actionBrowser,D.reactServerComponents,D.actionBrowser,D.instrument,D.middleware,D.apiNode,D.apiEdge,D.serverSideRendering,D.appPagesBrowser,D.reactServerComponents,D.actionBrowser,D.serverSideRendering,D.appPagesBrowser,D.shared,D.instrument,D.middleware,D.reactServerComponents,D.serverSideRendering,D.appPagesBrowser,D.actionBrowser,e.s(["CACHE_ONE_YEAR",0,31536e3,"HTML_CONTENT_TYPE_HEADER",0,"text/html; charset=utf-8","INFINITE_CACHE",0,0xfffffffe,"NEXT_CACHE_TAGS_HEADER",0,"x-next-cache-tags","NEXT_CACHE_TAG_MAX_ITEMS",0,128,"NEXT_CACHE_TAG_MAX_LENGTH",0,256],10372);var j=e.i(47540);class B extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest="DYNAMIC_SERVER_USAGE"}}class $ extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}var U=e.i(32319),q=e.i(56704);class F extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest="HANGING_PROMISE_REJECTION"}}let Q=new WeakMap;function V(e,t,r){if(e.aborted)return Promise.reject(new F(t,r));{let n=new Promise((n,i)=>{let s=i.bind(null,new F(t,r)),a=Q.get(e);if(a)a.push(s);else{let t=[s];Q.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(z),n}}function z(){}class Z extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}let G="function"==typeof j.default.unstable_postpone;function H(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new $(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":var n,i,s;return n=e.route,i=r,s=t.dynamicTracking,void(function(){if(!G)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}(),s&&s.dynamicAccesses.push({stack:s.isDebugDynamicAccesses?Error().stack:void 0,expression:i}),j.default.unstable_postpone(W(n,i)));case"prerender-legacy":t.revalidate=0;let a=Object.defineProperty(new B(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=a.stack,a}}}function W(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===((aT=W("%%%","^^^")).includes("needs to bail out of prerendering at this point because it used")&&aT.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`);let X=()=>{};function K(e){if(!e.body)return[e,e];let[t,n]=e.body.tee(),i=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(i,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),r&&i.body&&r.register(i,new WeakRef(i.body));let s=new Response(n,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(s,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[i,s]}globalThis.FinalizationRegistry&&(r=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(X)}));let Y=new Set(["traceparent","tracestate"]);class J{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}class ee{constructor(e,t,r){this.prev=null,this.next=null,this.key=e,this.data=t,this.size=r}}class et{constructor(){this.prev=null,this.next=null}}class er{constructor(e,t,r){this.cache=new Map,this.totalSize=0,this.maxSize=e,this.calculateSize=t,this.onEvict=r,this.head=new et,this.tail=new et,this.head.next=this.tail,this.tail.prev=this.head}addToHead(e){e.prev=this.head,e.next=this.head.next,this.head.next.prev=e,this.head.next=e}removeNode(e){e.prev.next=e.next,e.next.prev=e.prev}moveToHead(e){this.removeNode(e),this.addToHead(e)}removeTail(){let e=this.tail.prev;return this.removeNode(e),e}set(e,t){let r=(null==this.calculateSize?void 0:this.calculateSize.call(this,t))??1;if(r>this.maxSize)return void console.warn("Single item size exceeds maxSize");let n=this.cache.get(e);if(n)n.data=t,this.totalSize=this.totalSize-n.size+r,n.size=r,this.moveToHead(n);else{let n=new ee(e,t,r);this.cache.set(e,n),this.addToHead(n),this.totalSize+=r}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let e=this.removeTail();this.cache.delete(e.key),this.totalSize-=e.size,null==this.onEvict||this.onEvict.call(this,e.key,e.data)}}has(e){return this.cache.has(e)}get(e){let t=this.cache.get(e);if(t)return this.moveToHead(t),t.data}*[Symbol.iterator](){let e=this.head.next;for(;e&&e!==this.tail;){let t=e;yield[t.key,t.data],e=e.next}}remove(e){let t=this.cache.get(e);t&&(this.removeNode(t),this.cache.delete(e),this.totalSize-=t.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}let{env:en,stdout:ei}=(null==(ak=globalThis)?void 0:ak.process)??{},es=en&&!en.NO_COLOR&&(en.FORCE_COLOR||(null==ei?void 0:ei.isTTY)&&!en.CI&&"dumb"!==en.TERM),ea=(e,t,r,n)=>{let i=e.substring(0,n)+r,s=e.substring(n+t.length),a=s.indexOf(t);return~a?i+ea(s,t,r,a):i+s},eo=(e,t,r=e)=>es?n=>{let i=""+n,s=i.indexOf(t,e.length);return~s?e+ea(i,t,r,s)+t:e+i+t}:String,el=eo("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");eo("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),eo("\x1b[3m","\x1b[23m"),eo("\x1b[4m","\x1b[24m"),eo("\x1b[7m","\x1b[27m"),eo("\x1b[8m","\x1b[28m"),eo("\x1b[9m","\x1b[29m"),eo("\x1b[30m","\x1b[39m");let eu=eo("\x1b[31m","\x1b[39m"),ec=eo("\x1b[32m","\x1b[39m"),ed=eo("\x1b[33m","\x1b[39m");eo("\x1b[34m","\x1b[39m");let eh=eo("\x1b[35m","\x1b[39m");eo("\x1b[38;2;173;127;168m","\x1b[39m"),eo("\x1b[36m","\x1b[39m");let ef=eo("\x1b[37m","\x1b[39m");eo("\x1b[90m","\x1b[39m"),eo("\x1b[40m","\x1b[49m"),eo("\x1b[41m","\x1b[49m"),eo("\x1b[42m","\x1b[49m"),eo("\x1b[43m","\x1b[49m"),eo("\x1b[44m","\x1b[49m"),eo("\x1b[45m","\x1b[49m"),eo("\x1b[46m","\x1b[49m"),eo("\x1b[47m","\x1b[49m"),ef(el("")),eu(el("")),ed(el("")),ef(el(" ")),ec(el("")),eh(el("")),new er(1e4,e=>e.length),new er(1e4,e=>e.length);var ep=((aP={}).APP_PAGE="APP_PAGE",aP.APP_ROUTE="APP_ROUTE",aP.PAGES="PAGES",aP.FETCH="FETCH",aP.REDIRECT="REDIRECT",aP.IMAGE="IMAGE",aP),eg=((aR={}).APP_PAGE="APP_PAGE",aR.APP_ROUTE="APP_ROUTE",aR.PAGES="PAGES",aR.FETCH="FETCH",aR.IMAGE="IMAGE",aR);function em(){}e.s(["CachedRouteKind",()=>ep,"IncrementalCacheKind",()=>eg],220),new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let ey=new TextEncoder;function eb(e){return new ReadableStream({start(t){t.enqueue(ey.encode(e)),t.close()}})}function ev(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function e_(e,t){let r=new TextDecoder("utf-8",{fatal:!0}),n="";for await(let i of e){if(null==t?void 0:t.aborted)return n;n+=r.decode(i,{stream:!0})}return n+r.decode()}let ew=Symbol.for("NextInternalRequestMeta");function eS(e,t){let r=e[ew]||{};return"string"==typeof t?r[t]:r}function ex(e,t,r){let n=eS(e);return n[t]=r,e[ew]=n,n}function eE(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function eT(e){var t,r,n,i,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function eP(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...eT(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function eR(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function eA(e){return e.replace(/\/$/,"")||"/"}function eN(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function eC(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=eN(e);return`${t}${r}${n}${i}`}function eO(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=eN(e);return`${r}${t}${n}${i}`}function eI(e,t){if("string"!=typeof e)return!1;let{pathname:r}=eN(e);return r===t||r.startsWith(t+"/")}e.s(["NEXT_REQUEST_META",0,ew,"addRequestMeta",()=>ex,"getRequestMeta",()=>eS],59756),e.s(["fromNodeOutgoingHttpHeaders",()=>eE,"splitCookiesString",()=>eT,"toNodeOutgoingHttpHeaders",()=>eP,"validateURL",()=>eR],70101);let ek=new WeakMap;function eM(e,t){let r;if(!t)return{pathname:e};let n=ek.get(t);n||(n=t.map(e=>e.toLowerCase()),ek.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let s=i[1].toLowerCase(),a=n.indexOf(s);return a<0?{pathname:e}:(r=t[a],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let eL=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function eD(e,t){return new URL(String(e).replace(eL,"localhost"),t&&String(t).replace(eL,"localhost"))}let ej=Symbol("NextURLInternal");class eB{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[ej]={url:eD(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let s=function(e,t){let{basePath:r,i18n:n,trailingSlash:i}=t.nextConfig??{},s={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};r&&eI(s.pathname,r)&&(s.pathname=function(e,t){if(!eI(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(s.pathname,r),s.basePath=r);let a=s.pathname;if(s.pathname.startsWith("/_next/data/")&&s.pathname.endsWith(".json")){let e=s.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");s.buildId=e[0],a="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(s.pathname=a)}if(n){let e=t.i18nProvider?t.i18nProvider.analyze(s.pathname):eM(s.pathname,n.locales);s.locale=e.detectedLocale,s.pathname=e.pathname??s.pathname,!e.detectedLocale&&s.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(a):eM(a,n.locales)).detectedLocale&&(s.locale=e.detectedLocale)}return s}(this[ej].url.pathname,{nextConfig:this[ej].options.nextConfig,parseData:!0,i18nProvider:this[ej].options.i18nProvider}),a=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[ej].url,this[ej].options.headers);this[ej].domainLocale=this[ej].options.i18nProvider?this[ej].options.i18nProvider.detectDomainLocale(a):function(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}(null==(t=this[ej].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,a);let o=(null==(r=this[ej].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[ej].options.nextConfig)||null==(n=i.i18n)?void 0:n.defaultLocale);this[ej].url.pathname=s.pathname,this[ej].defaultLocale=o,this[ej].basePath=s.basePath??"",this[ej].buildId=s.buildId,this[ej].locale=s.locale??o,this[ej].trailingSlash=s.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(eI(i,"/api")||eI(i,`/${t.toLowerCase()}`))?e:eC(e,`/${t}`)}((e={basePath:this[ej].basePath,buildId:this[ej].buildId,defaultLocale:this[ej].options.forceLocale?void 0:this[ej].defaultLocale,locale:this[ej].locale,pathname:this[ej].url.pathname,trailingSlash:this[ej].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=eA(t)),e.buildId&&(t=eO(eC(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=eC(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:eO(t,"/"):eA(t)}formatSearch(){return this[ej].url.search}get buildId(){return this[ej].buildId}set buildId(e){this[ej].buildId=e}get locale(){return this[ej].locale??""}set locale(e){var t,r;if(!this[ej].locale||!(null==(r=this[ej].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[ej].locale=e}get defaultLocale(){return this[ej].defaultLocale}get domainLocale(){return this[ej].domainLocale}get searchParams(){return this[ej].url.searchParams}get host(){return this[ej].url.host}set host(e){this[ej].url.host=e}get hostname(){return this[ej].url.hostname}set hostname(e){this[ej].url.hostname=e}get port(){return this[ej].url.port}set port(e){this[ej].url.port=e}get protocol(){return this[ej].url.protocol}set protocol(e){this[ej].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[ej].url=eD(e),this.analyze()}get origin(){return this[ej].url.origin}get pathname(){return this[ej].url.pathname}set pathname(e){this[ej].url.pathname=e}get hash(){return this[ej].url.hash}set hash(e){this[ej].url.hash=e}get search(){return this[ej].url.search}set search(e){this[ej].url.search=e}get password(){return this[ej].url.password}set password(e){this[ej].url.password=e}get username(){return this[ej].url.username}set username(e){this[ej].url.username=e}get basePath(){return this[ej].basePath}set basePath(e){this[ej].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new eB(String(this),this[ej].options)}}class e$ extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class eU extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}var eq=e.i(19481);let eF=Symbol("internal request");class eQ extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);eR(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const n=new eB(r,{headers:eP(this.headers),nextConfig:t.nextConfig});this[eF]={cookies:new eq.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[eF].cookies}get nextUrl(){return this[eF].nextUrl}get page(){throw new e$}get ua(){throw new eU}get url(){return this[eF].url}}let eV="ResponseAborted";class ez extends Error{constructor(...e){super(...e),this.name=eV}}function eZ(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new ez)}),t}function eG(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new ez);let{signal:n}=eZ(e);return n}class eH{static fromBaseNextRequest(e,t){return eH.fromNodeNextRequest(e,t)}static fromNodeNextRequest(e,t){let r,n=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(n=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=eS(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new eQ(r,{method:e.method,headers:eE(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:n}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new eQ(e.url,{method:e.method,headers:eE(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}e.s(["NextRequestAdapter",()=>eH,"ResponseAbortedName",0,eV,"createAbortController",()=>eZ,"signalFromNodeResponse",()=>eG],87718);let eW=0,eX=0,eK=0;function eY(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===eV}async function eJ(e,t,r){try{let{errored:n,destroyed:i}=t;if(n||i)return;let s=eZ(t),a=function(e,t){let r=!1,n=new J;function i(){n.resolve()}e.on("drain",i),e.once("close",()=>{e.off("drain",i),n.resolve()});let s=new J;return e.once("finish",()=>{s.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=function(e={}){let t=0===eW?void 0:{clientComponentLoadStart:eW,clientComponentLoadTimes:eX,clientComponentLoadCount:eK};return e.reset&&(eW=0,eX=0,eK=0),t}();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),L().trace(d.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await n.promise,n=new J)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),s.promise}})}(t,r);await e.pipeTo(a,{signal:s.signal})}catch(e){if(eY(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}class e0{static #e=this.EMPTY=new e0(null,{metadata:{},contentType:null});static fromStatic(e,t){return new e0(e,{metadata:{},contentType:t})}constructor(e,{contentType:t,waitUntil:r,metadata:n}){this.response=e,this.contentType=t,this.metadata=n,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!e)throw Object.defineProperty(new Z("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return e_(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(e){e.close()}}):"string"==typeof this.response?eb(this.response):Buffer.isBuffer(this.response)?ev(this.response):Array.isArray(this.response)?function(...e){if(0===e.length)return new ReadableStream({start(e){e.close()}});if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let s=e[i];return(n=n.then(()=>s.pipeTo(r))).catch(em),t}(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[eb(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[ev(this.response)]:[this.response]}unshift(e){this.response=this.coerce(),this.response.unshift(e)}push(e){this.response=this.coerce(),this.response.push(e)}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if(eY(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await eJ(this.readable,e,this.waitUntil)}}function e1(e,t){if(!e)return t;let r=parseInt(e,10);return Number.isFinite(r)&&r>0?r:t}e1(process.env.NEXT_PRIVATE_RESPONSE_CACHE_TTL,1e4),e1(process.env.NEXT_PRIVATE_RESPONSE_CACHE_MAX_SIZE,150),e.s([],52474);let e2=Symbol.for("next-patch");function e6(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function e4(e,t,r,n,i,s){let a=await e.arrayBuffer(),o={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(a).toString("base64"),status:e.status,url:e.url};return r&&await n.set(t,{kind:ep.FETCH,data:o,revalidate:i},r),await s(),new Response(a,{headers:e.headers,status:e.status,statusText:e.statusText})}async function e5(e,t,r,n,i,s,a,o,l){let[u,c]=K(t),d=u.arrayBuffer().then(async e=>{let t=Buffer.from(e),o={headers:Object.fromEntries(u.headers.entries()),body:t.toString("base64"),status:u.status,url:u.url};null==s||s.set(r,o),n&&await i.set(r,{kind:ep.FETCH,data:o,revalidate:a},n)}).catch(e=>console.warn("Failed to set fetch cache",o,e)).finally(l),h=`cache-set-${r}`,f=e.pendingRevalidates??={},p=Promise.resolve();return h in f&&(p=f[h]),f[h]=p.then(()=>d).finally(()=>{(null==f?void 0:f[h])&&delete f[h]}),c}function e3(e){var t;let r;if(!0===globalThis[e2])return;let n=(t=globalThis.fetch,r=j.cache(e=>[]),function(e,n){let i,s;if(n&&n.signal)return t(e,n);if("string"!=typeof e||n){let r,a="string"==typeof e||e instanceof URL?new Request(e,n):e;if("GET"!==a.method&&"HEAD"!==a.method||a.keepalive)return t(e,n);r=Array.from(a.headers.entries()).filter(([e])=>!Y.has(e.toLowerCase())),s=JSON.stringify([a.method,r,a.mode,a.redirect,a.credentials,a.referrer,a.referrerPolicy,a.integrity]),i=a.url}else s='["GET",[],null,"follow",null,null,null,null]',i=e;let a=r(i);for(let e=0,t=a.length;e<t;e+=1){let[t,r]=a[e];if(t===s)return r.then(()=>{let t=a[e][2];if(!t)throw Object.defineProperty(new Z("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,n]=K(t);return a[e][2]=n,r})}let o=t(e,n),l=[s,o,null];return a.push(l),o.then(e=>{let[t,r]=K(e);return l[2]=r,t})});globalThis.fetch=function(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let n=async function(n,i){var s,a;let o;try{(o=new URL(n instanceof Request?n.url:n)).username="",o.password=""}catch{o=void 0}let l=(null==o?void 0:o.href)??"",u=(null==i||null==(s=i.method)?void 0:s.toUpperCase())||"GET",c=(null==i||null==(a=i.next)?void 0:a.internal)===!0,h="1"===process.env.NEXT_OTEL_FETCH_DISABLED,f=c?void 0:performance.timeOrigin+performance.now(),g=t.getStore(),m=r.getStore(),y=m?(0,U.getCacheSignal)(m):null;y&&y.beginRead();let b=L().trace(c?d.internalFetch:p.fetch,{hideSpan:h,kind:R.CLIENT,spanName:["fetch",u,l].filter(Boolean).join(" "),attributes:{"http.url":l,"http.method":u,"net.peer.name":null==o?void 0:o.hostname,"net.peer.port":(null==o?void 0:o.port)||void 0}},async()=>{var t;let r,s,a,o,u,d;if(c||!g||g.isDraftMode)return e(n,i);let h=n&&"object"==typeof n&&"string"==typeof n.method,p=e=>(null==i?void 0:i[e])||(h?n[e]:null),b=e=>{var t,r,s;return void 0!==(null==i||null==(t=i.next)?void 0:t[e])?null==i||null==(r=i.next)?void 0:r[e]:h?null==(s=n.next)?void 0:s[e]:void 0},v=b("revalidate"),_=v,w=function(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if("string"!=typeof s?n.push({tag:s,reason:"invalid type, must be a string"}):s.length>256?n.push({tag:s,reason:"exceeded max length of 256"}):r.push(s),r.length>128){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}(b("tags")||[],`fetch ${n.toString()}`);if(m)switch(m.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":r=m}if(r&&Array.isArray(w)){let e=r.tags??(r.tags=[]);for(let t of w)e.includes(t)||e.push(t)}let S=null==m?void 0:m.implicitTags,x=g.fetchCache;m&&"unstable-cache"===m.type&&(x="force-no-store");let E=!!g.isUnstableNoStore,T=p("cache"),P="";"string"==typeof T&&void 0!==_&&("force-cache"===T&&0===_||"no-store"===T&&(_>0||!1===_))&&(s=`Specified "cache: ${T}" and "revalidate: ${_}", only one should be specified.`,T=void 0,_=void 0);let R="no-cache"===T||"no-store"===T||"force-no-store"===x||"only-no-store"===x,A=!x&&!T&&!_&&g.forceDynamic;"force-cache"===T&&void 0===_?_=!1:(R||A)&&(_=0),("no-cache"===T||"no-store"===T)&&(P=`cache: ${T}`),d=function(e,t){try{let r;if(!1===e)r=0xfffffffe;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(_,g.route);let N=p("headers"),C="function"==typeof(null==N?void 0:N.get)?N:new Headers(N||{}),O=C.get("authorization")||C.get("cookie"),I=!["get","head"].includes((null==(t=p("method"))?void 0:t.toLowerCase())||"get"),k=void 0==x&&(void 0==T||"default"===T)&&void 0==_,M=!!((O||I)&&(null==r?void 0:r.revalidate)===0),L=!1;if(!M&&k&&(g.isBuildTimePrerendering?L=!0:M=!0),k&&void 0!==m)switch(m.type){case"prerender":case"prerender-runtime":case"prerender-client":return y&&(y.endRead(),y=null),V(m.renderSignal,g.route,"fetch()")}switch(x){case"force-no-store":P="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===T||void 0!==d&&d>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${l} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});P="fetchCache = only-no-store";break;case"only-cache":if("no-store"===T)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${l} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===_||0===_)&&(P="fetchCache = force-cache",d=0xfffffffe)}if(void 0===d?"default-cache"!==x||E?"default-no-store"===x?(d=0,P="fetchCache = default-no-store"):E?(d=0,P="noStore call"):M?(d=0,P="auto no cache"):(P="auto cache",d=r?r.revalidate:0xfffffffe):(d=0xfffffffe,P="fetchCache = default-cache"):P||(P=`revalidate: ${d}`),!(g.forceStatic&&0===d)&&!M&&r&&d<r.revalidate){if(0===d){if(m)switch(m.type){case"prerender":case"prerender-client":case"prerender-runtime":return y&&(y.endRead(),y=null),V(m.renderSignal,g.route,"fetch()")}H(g,m,`revalidate: 0 fetch ${n} ${g.route}`)}r&&v===d&&(r.revalidate=d)}let D="number"==typeof d&&d>0,{incrementalCache:j}=g,B=!1;if(m)switch(m.type){case"request":case"cache":case"private-cache":B=m.isHmrRefresh??!1,o=m.serverComponentsHmrCache}if(j&&(D||o))try{a=await j.generateCacheKey(l,h?n:i)}catch(e){console.error("Failed to generate cache key for",n)}let $=g.nextFetchId??1;g.nextFetchId=$+1;let U=()=>{},q=async(t,r)=>{let u=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(h){let e=n,t={body:e._ogBody||e.body};for(let r of u)t[r]=e[r];n=new Request(e.url,t)}else if(i){let{_ogBody:e,body:r,signal:n,...s}=i;i={...s,body:e||r,signal:t?void 0:n}}let c={...i,next:{...null==i?void 0:i.next,fetchType:"origin",fetchIdx:$}};return e(n,c).then(async e=>{if(!t&&f&&e6(g,{start:f,url:l,cacheReason:r||P,cacheStatus:0===d||r?"skip":"miss",cacheWarning:s,status:e.status,method:c.method||"GET"}),200===e.status&&j&&a&&(D||o)){let t=d>=0xfffffffe?31536e3:d,r=D?{fetchCache:!0,fetchUrl:l,fetchIdx:$,tags:w,isImplicitBuildTimeCache:L}:void 0;switch(null==m?void 0:m.type){case"prerender":case"prerender-client":case"prerender-runtime":return e4(e,a,r,j,t,U);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return e5(g,e,a,r,j,o,t,n,U)}}return await U(),e}).catch(e=>{throw U(),e})},F=!1,Q=!1;if(a&&j){let e;if(B&&o&&(e=o.get(a),Q=!0),D&&!e){U=await j.lock(a);let t=g.isOnDemandRevalidate?null:await j.get(a,{kind:eg.FETCH,revalidate:d,fetchUrl:l,fetchIdx:$,tags:w,softTags:null==S?void 0:S.tags});if(k&&m)switch(m.type){case"prerender":case"prerender-client":case"prerender-runtime":await (e8||(e8=new Promise(e=>{setTimeout(()=>{e8=null,e()},0)})),e8)}if(t?await U():u="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===ep.FETCH)if(g.isStaticGeneration&&t.isStale)F=!0;else{if(t.isStale&&(g.pendingRevalidates??={},!g.pendingRevalidates[a])){let e=q(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{g.pendingRevalidates??={},delete g.pendingRevalidates[a||""]});e.catch(console.error),g.pendingRevalidates[a]=e}e=t.value.data}}if(e){f&&e6(g,{start:f,url:l,cacheReason:P,cacheStatus:Q?"hmr":"hit",cacheWarning:s,status:e.status||200,method:(null==i?void 0:i.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(g.isStaticGeneration&&i&&"object"==typeof i){let{cache:e}=i;if("no-store"===e){if(m)switch(m.type){case"prerender":case"prerender-client":case"prerender-runtime":return y&&(y.endRead(),y=null),V(m.renderSignal,g.route,"fetch()")}H(g,m,`no-store fetch ${n} ${g.route}`)}let t="next"in i,{next:s={}}=i;if("number"==typeof s.revalidate&&r&&s.revalidate<r.revalidate){if(0===s.revalidate){if(m)switch(m.type){case"prerender":case"prerender-client":case"prerender-runtime":return V(m.renderSignal,g.route,"fetch()")}H(g,m,`revalidate: 0 fetch ${n} ${g.route}`)}g.forceStatic&&0===s.revalidate||(r.revalidate=s.revalidate)}t&&delete i.next}if(!a||!F)return q(!1,u);{let e=a;g.pendingRevalidates??={};let t=g.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=q(!0,u).then(K);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=g.pendingRevalidates)?void 0:t[e])&&delete g.pendingRevalidates[e]})).catch(()=>{}),g.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(y)try{return await b}finally{y&&y.endRead()}return b};return n.__nextPatched=!0,n.__nextGetStaticStore=()=>t,n._nextOriginalFetch=e,globalThis[e2]=!0,Object.defineProperty(n,"name",{value:"fetch",writable:!1}),n}(n,e)}let e8=null;function e9(e){var t;return(t=e.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?t:`/${t}`}e.s(["patchFetch",()=>e3],96250),e.s(["normalizeAppPath",()=>e9],69741);let e7=Symbol.for("next.server.manifests"),te=globalThis;function tt({page:e,clientReferenceManifest:t,serverActionsManifest:r}){let n=te[e7];if(n)n.clientReferenceManifestsPerRoute.set(e9(e),t),n.serverActionsManifest=r;else{let n,i=new Map([[e9(e),t]]),s=(n=new Map,new Proxy({},{get(e,t){let r=q.workAsyncStorage.getStore();switch(t){case"moduleLoading":case"entryCSSFiles":case"entryJSFiles":{if(!r)throw Object.defineProperty(new Z(`Cannot access "${t}" without a work store.`),"__NEXT_ERROR_CODE",{value:"E952",enumerable:!1,configurable:!0});let e=i.get(r.route);if(!e)throw Object.defineProperty(new Z(`The client reference manifest for route "${r.route}" does not exist.`),"__NEXT_ERROR_CODE",{value:"E951",enumerable:!1,configurable:!0});return e[t]}case"clientModules":case"rscModuleMapping":case"edgeRscModuleMapping":case"ssrModuleMapping":case"edgeSSRModuleMapping":{let e=n.get(t);!e&&(e=new Proxy({},{get(e,r){let n=q.workAsyncStorage.getStore();if(n){let e=i.get(n.route);if(null==e?void 0:e[t][r])return e[t][r]}else for(let e of i.values()){let n=e[t][r];if(void 0!==n)return n}}}),n.set(t,e));return e}default:throw Object.defineProperty(new Z(`This is a proxied client reference manifest. The property "${String(t)}" is not handled.`),"__NEXT_ERROR_CODE",{value:"E953",enumerable:!1,configurable:!0})}}}));te[e7]={clientReferenceManifestsPerRoute:i,proxiedClientReferenceManifest:s,serverActionsManifest:r,serverModuleMap:new Proxy({},{get:(e,t)=>{var r,n,i;let s,a=null==(n=function(){let e=te[e7];if(!e)throw Object.defineProperty(new Z("The manifests singleton was not initialized."),"__NEXT_ERROR_CODE",{value:"E950",enumerable:!1,configurable:!0});return e}().serverActionsManifest.node)||null==(r=n[t])?void 0:r.workers;if(!a)return;let o=q.workAsyncStorage.getStore();if(!(s=o?a[eI(i=o.page,"app")?i:"app"+i]:Object.values(a).at(0)))return;let{moduleId:l,async:u}=s;return{id:l,name:t,chunks:[],async:u}}})}}}e.s(["setManifestsSingleton",()=>tt],74677);class tr{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}class tn extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new tn}}class ti extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return tr.get(t,r,n);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==s)return tr.get(t,s,n)},set(t,r,n,i){if("symbol"==typeof r)return tr.set(t,r,n,i);let s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);return tr.set(t,a??r,n,i)},has(t,r){if("symbol"==typeof r)return tr.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&tr.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return tr.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||tr.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return tn.callable;default:return tr.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new ti(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}Symbol("__next_preview_data");let ts=Symbol("__prerender_bypass");var ta=((aA={})[aA.SeeOther=303]="SeeOther",aA[aA.TemporaryRedirect=307]="TemporaryRedirect",aA[aA.PermanentRedirect=308]="PermanentRedirect",aA);class to{constructor(e,t,r){this.method=e,this.url=t,this.body=r}get cookies(){var t;return this._cookies?this._cookies:this._cookies=(t=this.headers,function(){let{cookie:r}=t;if(!r)return{};let{parse:n}=e.r(93118);return n(Array.isArray(r)?r.join("; "):r)})()}}class tl{constructor(e){this.destination=e}redirect(e,t){return this.setHeader("Location",e),this.statusCode=t,t===ta.PermanentRedirect&&this.setHeader("Refresh",`0;url=${e}`),this}}class tu extends to{static #e=ew;constructor(e){var t;super(e.method.toUpperCase(),e.url,e),this._req=e,this.headers=this._req.headers,this.fetchMetrics=null==(t=this._req)?void 0:t.fetchMetrics,this[ew]=this._req[ew]||{},this.streaming=!1}get originalRequest(){return this._req[ew]=this[ew],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(e){this._req=e}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:e=>{this._req.on("data",t=>{e.enqueue(new Uint8Array(t))}),this._req.on("end",()=>{e.close()}),this._req.on("error",t=>{e.error(t)})}})}}class tc extends tl{get originalResponse(){return ts in this&&(this._res[ts]=this[ts]),this._res}constructor(e){super(e),this._res=e,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(e){this._res.statusCode=e}get statusMessage(){return this._res.statusMessage}set statusMessage(e){this._res.statusMessage=e}setHeader(e,t){return this._res.setHeader(e,t),this}removeHeader(e){return this._res.removeHeader(e),this}getHeaderValues(e){let t=this._res.getHeader(e);if(void 0!==t)return(Array.isArray(t)?t:[t]).map(e=>e.toString())}hasHeader(e){return this._res.hasHeader(e)}getHeader(e){let t=this.getHeaderValues(e);return Array.isArray(t)?t.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(e,t){let r=this.getHeaderValues(e)??[];return r.includes(t)||this._res.setHeader(e,[...r,t]),this}body(e){return this.textBody=e,this}send(){this._res.end(this.textBody)}onClose(e){this.originalResponse.on("close",e)}}function td(e){return e.isOnDemandRevalidate?"on-demand":e.isStaticGeneration?"stale":void 0}async function th(e,t,r,n){{var i;t.statusCode=r.status,t.statusMessage=r.statusText;let s=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(i=r.headers)||i.forEach((e,r)=>{if("x-middleware-set-cookie"!==r.toLowerCase())if("set-cookie"===r.toLowerCase())for(let n of eT(e))t.appendHeader(r,n);else{let n=void 0!==t.getHeader(r);(s.includes(r.toLowerCase())||!n)&&t.appendHeader(r,e)}});let{originalResponse:a}=t;r.body&&"HEAD"!==e.method?await eJ(r.body,a,n):a.end()}}function tf({revalidate:e,expire:t}){let r="number"==typeof e&&void 0!==t&&e<t?`, stale-while-revalidate=${t-e}`:"";return 0===e?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof e?`s-maxage=${e}${r}`:`s-maxage=31536000${r}`}e.s(["NodeNextRequest",()=>tu,"NodeNextResponse",()=>tc],16795),e.s(["getRevalidateReason",()=>td],47587),e.s(["sendResponse",()=>th],66012),e.s(["getCacheControlHeader",()=>tf],26937);let tp=Symbol.for("drizzle:entityKind");function tg(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,tp))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(tp in r&&r[tp]===t[tp])return!0;r=Object.getPrototypeOf(r)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class tm{static [tp]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}class ty{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [tp]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}let tb=Symbol.for("drizzle:Name");class tv{static [tp]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:n}=e();return{name:t,columns:r,foreignTable:n[0].table,foreignColumns:n}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new t_(e,this)}}class t_{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [tp]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),n=t.map(e=>e.name),i=r.map(e=>e.name),s=[this.table[tb],...n,r[0].table[tb],...i];return e??`${s.join("_")}_fk`}}function tw(e,...t){return e(...t)}function tS(e,t){return`${e[tb]}_${t.join("_")}_unique`}class tx{constructor(e,t){this.name=t,this.columns=e}static [tp]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new tT(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class tE{static [tp]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new tx(e,this.name)}}class tT{constructor(e,t,r,n){this.table=e,this.columns=t,this.name=n??tS(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=r}static [tp]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function tP(e,t,r){for(let n=t;n<e.length;n++){let i=e[n];if("\\"===i){n++;continue}if('"'===i)return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(","===i||"}"===i))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}class tR extends tm{foreignKeyConfigs=[];static [tp]="PgColumnBuilder";array(e){return new tO(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:n})=>tw((r,n)=>{let i=new tv(()=>({columns:[e],foreignColumns:[r()]}));return n.onUpdate&&i.onUpdate(n.onUpdate),n.onDelete&&i.onDelete(n.onDelete),i.build(t)},r,n))}buildExtraConfigColumn(e){return new tN(e,this.config)}}class tA extends ty{constructor(e,t){t.uniqueName||(t.uniqueName=tS(e,[t.name])),super(e,t),this.table=e}static [tp]="PgColumn"}class tN extends tA{static [tp]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class tC{static [tp]="IndexedColumn";constructor(e,t,r,n){this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=n}name;keyAsName;type;indexConfig}class tO extends tR{static [tp]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){let t=this.config.baseBuilder.build(e);return new tI(e,this.config,t)}}class tI extends tA{constructor(e,t,r,n){super(e,t),this.baseColumn=r,this.range=n,this.size=t.size}size;static [tp]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,r=0){let n=[],i=r,s=!1;for(;i<t.length;){let a=t[i];if(","===a){(s||i===r)&&n.push(""),s=!0,i++;continue}if(s=!1,"\\"===a){i+=2;continue}if('"'===a){let[e,r]=tP(t,i+1,!0);n.push(e),i=r;continue}if("}"===a)return[n,i+1];if("{"===a){let[r,s]=e(t,i+1);n.push(r),i=s;continue}let[o,l]=tP(t,i,!1);n.push(o),i=l}return[n,i]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let r=e.map(e=>null===e?null:tg(this.baseColumn,tI)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?r:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(r)}}let tk=Symbol.for("drizzle:isPgEnum");class tM extends tR{static [tp]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new tL(e,this.config)}}class tL extends tA{static [tp]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}class tD{static [tp]="Subquery";constructor(e,t,r,n=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:n}}}class tj extends tD{static [tp]="WithSubquery"}let tB=(e,t)=>n?(i||(i=n.trace.getTracer("drizzle-orm","0.39.3")),tw((r,n)=>n.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:r.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),n,i)):t(),t$=Symbol.for("drizzle:ViewBaseConfig"),tU=Symbol.for("drizzle:Schema"),tq=Symbol.for("drizzle:Columns"),tF=Symbol.for("drizzle:ExtraConfigColumns"),tQ=Symbol.for("drizzle:OriginalName"),tV=Symbol.for("drizzle:BaseName"),tz=Symbol.for("drizzle:IsAlias"),tZ=Symbol.for("drizzle:ExtraConfigBuilder"),tG=Symbol.for("drizzle:IsDrizzleTable");class tH{static [tp]="Table";static Symbol={Name:tb,Schema:tU,OriginalName:tQ,Columns:tq,ExtraConfigColumns:tF,BaseName:tV,IsAlias:tz,ExtraConfigBuilder:tZ};[tb];[tQ];[tU];[tq];[tF];[tV];[tz]=!1;[tG]=!0;[tZ]=void 0;constructor(e,t,r){this[tb]=this[tQ]=e,this[tU]=t,this[tV]=r}}function tW(e){return"object"==typeof e&&null!==e&&tG in e}function tX(e){return`${e[tU]??"public"}.${e[tb]}`}class tK{static [tp]="FakePrimitiveParam"}function tY(e){return null!=e&&"function"==typeof e.getSQL}class tJ{static [tp]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new t0([this])}}class t0{constructor(e){this.queryChunks=e}static [tp]="SQL";decoder=t2;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return tB("drizzle.buildSQL",t=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){let r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:n,escapeName:i,escapeParam:s,prepareTyping:a,inlineParams:o,paramStartIndex:l}=r;var u=e.map(e=>{if(tg(e,tJ))return{sql:e.value.join(""),params:[]};if(tg(e,t1))return{sql:i(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new tJ("(")];for(let[r,n]of e.entries())t.push(n),r<e.length-1&&t.push(new tJ(", "));return t.push(new tJ(")")),this.buildQueryFromSourceParams(t,r)}if(tg(e,t0))return this.buildQueryFromSourceParams(e.queryChunks,{...r,inlineParams:o||e.shouldInlineParams});if(tg(e,tH)){let t=e[tH.Symbol.Schema],r=e[tH.Symbol.Name];return{sql:void 0===t||e[tz]?i(r):i(t)+"."+i(r),params:[]}}if(tg(e,ty)){let r=n.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:i(r),params:[]};let s=e.table[tH.Symbol.Schema];return{sql:e.table[tz]||void 0===s?i(e.table[tH.Symbol.Name])+"."+i(r):i(s)+"."+i(e.table[tH.Symbol.Name])+"."+i(r),params:[]}}if(tg(e,rt)){let t=e[t$].schema,r=e[t$].name;return{sql:void 0===t||e[t$].isAlias?i(r):i(t)+"."+i(r),params:[]}}if(tg(e,t4)){if(tg(e.value,t9))return{sql:s(l.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if(tg(t,t0))return this.buildQueryFromSourceParams([t],r);if(o)return{sql:this.mapInlineParam(t,r),params:[]};let n=["none"];return a&&(n=[a(e.encoder)]),{sql:s(l.value++,t),params:[t],typings:n}}return tg(e,t9)?{sql:s(l.value++,e),params:[e],typings:["none"]}:tg(e,t0.Aliased)&&void 0!==e.fieldAlias?{sql:i(e.fieldAlias),params:[]}:tg(e,tD)?e._.isWith?{sql:i(e._.alias),params:[]}:this.buildQueryFromSourceParams([new tJ("("),e._.sql,new tJ(") "),new t1(e._.alias)],r):e&&"function"==typeof e&&tk in e&&!0===e[tk]?e.schema?{sql:i(e.schema)+"."+i(e.enumName),params:[]}:{sql:i(e.enumName),params:[]}:tY(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],r):this.buildQueryFromSourceParams([new tJ("("),e.getSQL(),new tJ(")")],r):o?{sql:this.mapInlineParam(e,r),params:[]}:{sql:s(l.value++,e),params:[e],typings:["none"]}});let c={sql:"",params:[]};for(let e of u)c.sql+=e.sql,c.params.push(...e.params),e.typings?.length&&(c.typings||(c.typings=[]),c.typings.push(...e.typings));return c}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let r=e.toString();return"[object Object]"===r?t(JSON.stringify(e)):t(r)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new t0.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class t1{constructor(e){this.value=e}static [tp]="Name";brand;getSQL(){return new t0([this])}}let t2={mapFromDriverValue:e=>e},t6={mapToDriverValue:e=>e};({...t2,...t6});class t4{constructor(e,t=t6){this.value=e,this.encoder=t}static [tp]="Param";brand;getSQL(){return new t0([this])}}function t5(e,...t){let r=[];for(let[n,i]of((t.length>0||e.length>0&&""!==e[0])&&r.push(new tJ(e[0])),t.entries()))r.push(i,new tJ(e[n+1]));return new t0(r)}(aN=t5||(t5={})).empty=function(){return new t0([])},aN.fromList=function(e){return new t0(e)},aN.raw=function(e){return new t0([new tJ(e)])},aN.join=function(e,t){let r=[];for(let[n,i]of e.entries())n>0&&void 0!==t&&r.push(t),r.push(i);return new t0(r)},aN.identifier=function(e){return new t1(e)},aN.placeholder=function(e){return new t9(e)},aN.param=function(e,t){return new t4(e,t)};var t3=t0||(t0={});class t8{constructor(e,t){this.sql=e,this.fieldAlias=t}static [tp]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t8(this.sql,this.fieldAlias)}}t3.Aliased=t8;class t9{constructor(e){this.name=e}static [tp]="Placeholder";getSQL(){return new t0([this])}}function t7(e,t){return e.map(e=>{if(tg(e,t9)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if(tg(e,t4)&&tg(e.value,t9)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let re=Symbol.for("drizzle:IsDrizzleView");class rt{static [tp]="View";[t$];[re]=!0;constructor({name:e,schema:t,selectedFields:r,query:n}){this[t$]={name:e,originalName:e,schema:t,selectedFields:r,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new t0([this])}}function rr(e,t){return Object.entries(e).reduce((e,[r,n])=>{if("string"!=typeof r)return e;let i=t?[...t,r]:[r];return tg(n,ty)||tg(n,t0)||tg(n,t0.Aliased)?e.push({path:i,field:n}):tg(n,tH)?e.push(...rr(n[tH.Symbol.Columns],i)):e.push(...rr(n,i)),e},[])}function rn(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let[e,t]of r.entries())if(t!==n[e])return!1;return!0}function ri(e,t){let r=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,r])=>tg(r,t0)||tg(r,ty)?[t,r]:[t,new t4(r,e[tH.Symbol.Columns][t])]);if(0===r.length)throw Error("No values to set");return Object.fromEntries(r)}function rs(e){return e[tH.Symbol.Columns]}function ra(e){return tg(e,tD)?e._.alias:tg(e,rt)?e[t$].name:tg(e,t0)?void 0:e[tH.Symbol.IsAlias]?e[tH.Symbol.Name]:e[tH.Symbol.BaseName]}function ro(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}ty.prototype.getSQL=function(){return new t0([this])},tH.prototype.getSQL=function(){return new t0([this])},tD.prototype.getSQL=function(){return new t0([this])};class rl extends tR{static [tp]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class ru extends rl{static [tp]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new rc(e,this.config)}}class rc extends tA{static [tp]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class rd extends rl{static [tp]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new rh(e,this.config)}}class rh extends tA{static [tp]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function rf(e,t){let{name:r,config:n}=ro(e,t);return"number"===n.mode?new ru(r):new rd(r)}class rp extends tR{static [tp]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new rg(e,this.config)}}class rg extends tA{static [tp]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class rm extends tR{static [tp]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new ry(e,this.config)}}class ry extends tA{static [tp]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function rb(e,t){let{name:r,config:n}=ro(e,t);return"number"===n.mode?new rp(r):new rm(r)}class rv extends tR{static [tp]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new r_(e,this.config)}}class r_ extends tA{static [tp]="PgBoolean";getSQLType(){return"boolean"}}function rw(e){return new rv(e??"")}class rS extends tR{static [tp]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new rx(e,this.config)}}class rx extends tA{static [tp]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function rE(e,t={}){let{name:r,config:n}=ro(e,t);return new rS(r,n)}class rT extends tR{static [tp]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new rP(e,this.config)}}class rP extends tA{static [tp]="PgCidr";getSQLType(){return"cidr"}}function rR(e){return new rT(e??"")}class rA extends tR{static [tp]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new rN(e,this.config)}}class rN extends tA{static [tp]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function rC(e){return(t,r)=>{let{name:n,config:i}=ro(t,r);return new rA(n,i,e)}}class rO extends tR{static [tp]="PgDateColumnBaseBuilder";defaultNow(){return this.default(t5`now()`)}}class rI extends rO{static [tp]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new rk(e,this.config)}}class rk extends tA{static [tp]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class rM extends rO{static [tp]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new rL(e,this.config)}}class rL extends tA{static [tp]="PgDateString";getSQLType(){return"date"}}function rD(e,t){let{name:r,config:n}=ro(e,t);return n?.mode==="date"?new rI(r):new rM(r)}class rj extends tR{static [tp]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new rB(e,this.config)}}class rB extends tA{static [tp]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function r$(e){return new rj(e??"")}class rU extends tR{static [tp]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new rq(e,this.config)}}class rq extends tA{static [tp]="PgInet";getSQLType(){return"inet"}}function rF(e){return new rU(e??"")}class rQ extends rl{static [tp]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new rV(e,this.config)}}class rV extends tA{static [tp]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function rz(e){return new rQ(e??"")}class rZ extends tR{static [tp]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new rG(e,this.config)}}class rG extends tA{static [tp]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function rH(e,t={}){let{name:r,config:n}=ro(e,t);return new rZ(r,n)}class rW extends tR{static [tp]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new rX(e,this.config)}}class rX extends tA{static [tp]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function rK(e){return new rW(e??"")}class rY extends tR{static [tp]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new rJ(e,this.config)}}class rJ extends tA{static [tp]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function r0(e){return new rY(e??"")}class r1 extends tR{static [tp]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new r2(e,this.config)}}class r2 extends tA{static [tp]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class r6 extends tR{static [tp]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new r4(e,this.config)}}class r4 extends tA{static [tp]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function r5(e,t){let{name:r,config:n}=ro(e,t);return n?.mode&&"tuple"!==n.mode?new r6(r):new r1(r)}class r3 extends tR{static [tp]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new r8(e,this.config)}}class r8 extends tA{static [tp]="PgMacaddr";getSQLType(){return"macaddr"}}function r9(e){return new r3(e??"")}class r7 extends tR{static [tp]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new ne(e,this.config)}}class ne extends tA{static [tp]="PgMacaddr8";getSQLType(){return"macaddr8"}}function nt(e){return new r7(e??"")}class nr extends tR{static [tp]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new nn(e,this.config)}}class nn extends tA{static [tp]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function ni(e,t){let{name:r,config:n}=ro(e,t);return new nr(r,n?.precision,n?.scale)}class ns extends tR{static [tp]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new na(e,this.config)}}class na extends tA{static [tp]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class no extends tR{static [tp]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new nl(e,this.config)}}class nl extends tA{static [tp]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function nu(e,t){let{name:r,config:n}=ro(e,t);return n?.mode&&"tuple"!==n.mode?new no(r):new ns(r)}function nc(e,t){let r=new DataView(new ArrayBuffer(8));for(let n=0;n<8;n++)r.setUint8(n,e[t+n]);return r.getFloat64(0,!0)}function nd(e){let t=function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}(e),r=0,n=t[0];r+=1;let i=new DataView(t.buffer),s=i.getUint32(r,1===n);if(r+=4,0x20000000&s&&(i.getUint32(r,1===n),r+=4),(65535&s)==1){let e=nc(t,r),n=nc(t,r+=8);return r+=8,[e,n]}throw Error("Unsupported geometry type")}class nh extends tR{static [tp]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new nf(e,this.config)}}class nf extends tA{static [tp]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return nd(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class np extends tR{static [tp]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new ng(e,this.config)}}class ng extends tA{static [tp]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=nd(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function nm(e,t){let{name:r,config:n}=ro(e,t);return n?.mode&&"tuple"!==n.mode?new np(r):new nh(r)}class ny extends tR{static [tp]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new nb(e,this.config)}}class nb extends tA{static [tp]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function nv(e){return new ny(e??"")}class n_ extends tR{static [tp]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new nw(e,this.config)}}class nw extends tA{static [tp]="PgSerial";getSQLType(){return"serial"}}function nS(e){return new n_(e??"")}class nx extends rl{static [tp]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new nE(e,this.config)}}class nE extends tA{static [tp]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function nT(e){return new nx(e??"")}class nP extends tR{static [tp]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new nR(e,this.config)}}class nR extends tA{static [tp]="PgSmallSerial";getSQLType(){return"smallserial"}}function nA(e){return new nP(e??"")}class nN extends tR{static [tp]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new nC(e,this.config)}}class nC extends tA{static [tp]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function nO(e,t={}){let{name:r,config:n}=ro(e,t);return new nN(r,n)}class nI extends rO{constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static [tp]="PgTimeBuilder";build(e){return new nk(e,this.config)}}class nk extends tA{static [tp]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function nM(e,t={}){let{name:r,config:n}=ro(e,t);return new nI(r,n.withTimezone??!1,n.precision)}class nL extends rO{static [tp]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new nD(e,this.config)}}class nD extends tA{static [tp]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class nj extends rO{static [tp]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new nB(e,this.config)}}class nB extends tA{static [tp]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function n$(e,t={}){let{name:r,config:n}=ro(e,t);return n?.mode==="string"?new nj(r,n.withTimezone??!1,n.precision):new nL(r,n?.withTimezone??!1,n?.precision)}class nU extends tR{static [tp]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(t5`gen_random_uuid()`)}build(e){return new nq(e,this.config)}}class nq extends tA{static [tp]="PgUUID";getSQLType(){return"uuid"}}function nF(e){return new nU(e??"")}class nQ extends tR{static [tp]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new nV(e,this.config)}}class nV extends tA{static [tp]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function nz(e,t={}){let{name:r,config:n}=ro(e,t);return new nQ(r,n)}class nZ extends tR{static [tp]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new nG(e,this.config)}}class nG extends tA{static [tp]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function nH(e,t){let{name:r,config:n}=ro(e,t);return new nZ(r,n)}class nW extends tR{static [tp]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new nX(e,this.config)}}class nX extends tA{static [tp]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function nK(e,t){let{name:r,config:n}=ro(e,t);return new nW(r,n)}class nY extends tR{static [tp]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new nJ(e,this.config)}}class nJ extends tA{static [tp]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function n0(e,t){let{name:r,config:n}=ro(e,t);return new nY(r,n)}class n1 extends tR{static [tp]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new n2(e,this.config)}}class n2 extends tA{static [tp]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function n6(e,t){let{name:r,config:n}=ro(e,t);return new n1(r,n)}let n4=Symbol.for("drizzle:PgInlineForeignKeys"),n5=Symbol.for("drizzle:EnableRLS");class n3 extends tH{static [tp]="PgTable";static Symbol=Object.assign({},tH.Symbol,{InlineForeignKeys:n4,EnableRLS:n5});[n4]=[];[n5]=!1;[tH.Symbol.ExtraConfigBuilder]=void 0}let n8=(e,t,r)=>(function(e,t,r,n,i=e){let s=new n3(e,n,i),a="function"==typeof t?t({bigint:rf,bigserial:rb,boolean:rw,char:rE,cidr:rR,customType:rC,date:rD,doublePrecision:r$,inet:rF,integer:rz,interval:rH,json:rK,jsonb:r0,line:r5,macaddr:r9,macaddr8:nt,numeric:ni,point:nu,geometry:nm,real:nv,serial:nS,smallint:nT,smallserial:nA,text:nO,time:nM,timestamp:n$,uuid:nF,varchar:nz,bit:nH,halfvec:nK,sparsevec:n0,vector:n6}):t,o=Object.fromEntries(Object.entries(a).map(([e,t])=>{t.setName(e);let r=t.build(s);return s[n4].push(...t.buildForeignKeys(r,s)),[e,r]})),l=Object.fromEntries(Object.entries(a).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(s)]))),u=Object.assign(s,o);return u[tH.Symbol.Columns]=o,u[tH.Symbol.ExtraConfigColumns]=l,r&&(u[n3.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[n3.Symbol.EnableRLS]=!0,u)})})(e,t,r,void 0);e.s([],54033),e.i(54033),(aC=aM||(aM={})).assertEqual=e=>{},aC.assertIs=function(e){},aC.assertNever=function(e){throw Error()},aC.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},aC.getValidEnumValues=e=>{let t=aC.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return aC.objectValues(r)},aC.objectValues=e=>aC.objectKeys(e).map(function(t){return e[t]}),aC.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},aC.find=(e,t)=>{for(let r of e)if(t(r))return r},aC.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,aC.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},aC.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(aL||(aL={})).mergeShapes=(e,t)=>({...e,...t});let n9=aM.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),n7=e=>{switch(typeof e){case"undefined":return n9.undefined;case"string":return n9.string;case"number":return Number.isNaN(e)?n9.nan:n9.number;case"boolean":return n9.boolean;case"function":return n9.function;case"bigint":return n9.bigint;case"symbol":return n9.symbol;case"object":if(Array.isArray(e))return n9.array;if(null===e)return n9.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return n9.promise;if("u">typeof Map&&e instanceof Map)return n9.map;if("u">typeof Set&&e instanceof Set)return n9.set;if("u">typeof Date&&e instanceof Date)return n9.date;return n9.object;default:return n9.unknown}};e.s(["ZodParsedType",0,n9,"getParsedType",0,n7,"objectUtil",()=>aL,"util",()=>aM],42944);let ie=aM.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),it=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ir extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof ir))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,aM.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ir.create=e=>new ir(e),e.s(["ZodError",()=>ir,"ZodIssueCode",0,ie,"quotelessJson",0,it],15235);let ii=(e,t)=>{let r;switch(e.code){case ie.invalid_type:r=e.received===n9.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,aM.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:r=`Unrecognized key(s) in object: ${aM.joinValues(e.keys,", ")}`;break;case ie.invalid_union:r="Invalid input";break;case ie.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${aM.joinValues(e.options)}`;break;case ie.invalid_enum_value:r=`Invalid enum value. Expected ${aM.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:r="Invalid function arguments";break;case ie.invalid_return_type:r="Invalid function return type";break;case ie.invalid_date:r="Invalid date";break;case ie.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:aM.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ie.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ie.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ie.custom:r="Invalid input";break;case ie.invalid_intersection_types:r="Intersection results could not be merged";break;case ie.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:r="Number must be finite";break;default:r=t.defaultError,aM.assertNever(e)}return{message:r}},is=ii;function ia(e){is=e}function io(){return is}e.s(["getErrorMap",()=>io,"setErrorMap",()=>ia],85676),e.i(85676),e.s(["defaultErrorMap",0,ii,"getErrorMap",()=>io,"setErrorMap",()=>ia],76733),e.i(76733);let il=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},iu=[];function ic(e,t){let r=is,n=il({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ii?void 0:ii].filter(e=>!!e)});e.common.issues.push(n)}class id{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return ih;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return id.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return ih;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let ih=Object.freeze({status:"aborted"}),ip=e=>({status:"dirty",value:e}),ig=e=>({status:"valid",value:e}),im=e=>"aborted"===e.status,iy=e=>"dirty"===e.status,ib=e=>"valid"===e.status,iv=e=>"u">typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,ip,"EMPTY_PATH",0,iu,"INVALID",0,ih,"OK",0,ig,"ParseStatus",()=>id,"addIssueToContext",()=>ic,"isAborted",0,im,"isAsync",0,iv,"isDirty",0,iy,"isValid",0,ib,"makeIssue",0,il],84488),e.i(84488),e.s([],91316),e.i(91316),e.i(42944),(aO=aD||(aD={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},aO.toString=e=>"string"==typeof e?e:e?.message;class i_{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let iw=(e,t)=>{if(ib(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ir(e.common.issues);return this._error=t,this._error}}};function iS(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??r??i.defaultError}},description:i}}class ix{get description(){return this._def.description}_getType(e){return n7(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:n7(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new id,ctx:{common:e.parent.common,data:e.data,parsedType:n7(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(iv(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n7(e)},n=this._parseSync({data:e,path:r.path,parent:r});return iw(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n7(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return ib(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>ib(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:n7(e)},n=this._parse({data:e,path:r.path,parent:r});return iw(r,await (iv(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let i=e(r),s=()=>n.addIssue({code:ie.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"u">typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new so({schema:this,typeName:aj.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return sl.create(this,this._def)}nullable(){return su.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return i0.create(this)}promise(){return sa.create(this,this._def)}or(e){return i2.create([this,e],this._def)}and(e){return i5.create(this,e,this._def)}transform(e){return new so({...iS(this._def),schema:this,typeName:aj.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new sc({...iS(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:aj.ZodDefault})}brand(){return new sp({typeName:aj.ZodBranded,type:this,...iS(this._def)})}catch(e){return new sd({...iS(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:aj.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return sg.create(this,e)}readonly(){return sm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let iE=/^c[^\s-]{8,}$/i,iT=/^[0-9a-z]+$/,iP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iA=/^[a-z0-9_-]{21}$/i,iN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ik=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ij=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",i$=RegExp(`^${iB}$`);function iU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function iq(e){let t=`${iB}T${iU(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class iF extends ix{_parse(e){var t,r,n,i;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==n9.string){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.string,received:t.parsedType}),ih}let o=new id;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(ic(a=this._getOrReturnCtx(e,a),{code:ie.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(ic(a=this._getOrReturnCtx(e,a),{code:ie.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?ic(a,{code:ie.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&ic(a,{code:ie.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)iO.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"email",code:ie.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)s||(s=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),s.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:ie.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)iR.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:ie.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)iA.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:ie.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)iE.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:ie.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)iT.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:ie.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)iP.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:ie.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{ic(a=this._getOrReturnCtx(e,a),{validation:"url",code:ie.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"regex",code:ie.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(ic(a=this._getOrReturnCtx(e,a),{code:ie.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(ic(a=this._getOrReturnCtx(e,a),{code:ie.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(ic(a=this._getOrReturnCtx(e,a),{code:ie.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?iq(l).test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{code:ie.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?i$.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{code:ie.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?RegExp(`^${iU(l)}$`).test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{code:ie.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?iC.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"duration",code:ie.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(r=l.version)||!r)&&iI.test(t)||("v6"===r||!r)&&iM.test(t))&&1&&(ic(a=this._getOrReturnCtx(e,a),{validation:"ip",code:ie.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!iN.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(ic(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:ie.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(n=e.data,!(("v4"===(i=l.version)||!i)&&ik.test(n)||("v6"===i||!i)&&iL.test(n))&&1&&(ic(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:ie.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?iD.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"base64",code:ie.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?ij.test(e.data)||(ic(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:ie.invalid_string,message:l.message}),o.dirty()):aM.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:ie.invalid_string,...aD.errToObj(r)})}_addCheck(e){return new iF({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...aD.errToObj(e)})}url(e){return this._addCheck({kind:"url",...aD.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...aD.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...aD.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...aD.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...aD.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...aD.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...aD.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...aD.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...aD.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...aD.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...aD.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...aD.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...aD.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...aD.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...aD.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...aD.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...aD.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...aD.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...aD.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...aD.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...aD.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...aD.errToObj(t)})}nonempty(e){return this.min(1,aD.errToObj(e))}trim(){return new iF({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new iF({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new iF({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}iF.create=e=>new iF({checks:[],typeName:aj.ZodString,coerce:e?.coerce??!1,...iS(e)});class iQ extends ix{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==n9.number){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.number,received:t.parsedType}),ih}let r=new id;for(let n of this._def.checks)"int"===n.kind?aM.isInteger(e.data)||(ic(t=this._getOrReturnCtx(e,t),{code:ie.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(ic(t=this._getOrReturnCtx(e,t),{code:ie.not_finite,message:n.message}),r.dirty()):aM.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,aD.toString(t))}gt(e,t){return this.setLimit("min",e,!1,aD.toString(t))}lte(e,t){return this.setLimit("max",e,!0,aD.toString(t))}lt(e,t){return this.setLimit("max",e,!1,aD.toString(t))}setLimit(e,t,r,n){return new iQ({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:aD.toString(n)}]})}_addCheck(e){return new iQ({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:aD.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:aD.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:aD.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:aD.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:aD.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:aD.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:aD.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:aD.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:aD.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&aM.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}iQ.create=e=>new iQ({checks:[],typeName:aj.ZodNumber,coerce:e?.coerce||!1,...iS(e)});class iV extends ix{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==n9.bigint)return this._getInvalidInput(e);let r=new id;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):aM.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.bigint,received:t.parsedType}),ih}gte(e,t){return this.setLimit("min",e,!0,aD.toString(t))}gt(e,t){return this.setLimit("min",e,!1,aD.toString(t))}lte(e,t){return this.setLimit("max",e,!0,aD.toString(t))}lt(e,t){return this.setLimit("max",e,!1,aD.toString(t))}setLimit(e,t,r,n){return new iV({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:aD.toString(n)}]})}_addCheck(e){return new iV({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:aD.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:aD.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:aD.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:aD.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:aD.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}iV.create=e=>new iV({checks:[],typeName:aj.ZodBigInt,coerce:e?.coerce??!1,...iS(e)});class iz extends ix{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==n9.boolean){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.boolean,received:t.parsedType}),ih}return ig(e.data)}}iz.create=e=>new iz({typeName:aj.ZodBoolean,coerce:e?.coerce||!1,...iS(e)});class iZ extends ix{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==n9.date){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.date,received:t.parsedType}),ih}if(Number.isNaN(e.data.getTime()))return ic(this._getOrReturnCtx(e),{code:ie.invalid_date}),ih;let r=new id;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(ic(t=this._getOrReturnCtx(e,t),{code:ie.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):aM.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new iZ({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:aD.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:aD.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}iZ.create=e=>new iZ({checks:[],coerce:e?.coerce||!1,typeName:aj.ZodDate,...iS(e)});class iG extends ix{_parse(e){if(this._getType(e)!==n9.symbol){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.symbol,received:t.parsedType}),ih}return ig(e.data)}}iG.create=e=>new iG({typeName:aj.ZodSymbol,...iS(e)});class iH extends ix{_parse(e){if(this._getType(e)!==n9.undefined){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.undefined,received:t.parsedType}),ih}return ig(e.data)}}iH.create=e=>new iH({typeName:aj.ZodUndefined,...iS(e)});class iW extends ix{_parse(e){if(this._getType(e)!==n9.null){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.null,received:t.parsedType}),ih}return ig(e.data)}}iW.create=e=>new iW({typeName:aj.ZodNull,...iS(e)});class iX extends ix{constructor(){super(...arguments),this._any=!0}_parse(e){return ig(e.data)}}iX.create=e=>new iX({typeName:aj.ZodAny,...iS(e)});class iK extends ix{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ig(e.data)}}iK.create=e=>new iK({typeName:aj.ZodUnknown,...iS(e)});class iY extends ix{_parse(e){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.never,received:t.parsedType}),ih}}iY.create=e=>new iY({typeName:aj.ZodNever,...iS(e)});class iJ extends ix{_parse(e){if(this._getType(e)!==n9.undefined){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.void,received:t.parsedType}),ih}return ig(e.data)}}iJ.create=e=>new iJ({typeName:aj.ZodVoid,...iS(e)});class i0 extends ix{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==n9.array)return ic(t,{code:ie.invalid_type,expected:n9.array,received:t.parsedType}),ih;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(ic(t,{code:e?ie.too_big:ie.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(ic(t,{code:ie.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(ic(t,{code:ie.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new i_(t,e,t.path,r)))).then(e=>id.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new i_(t,e,t.path,r)));return id.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new i0({...this._def,minLength:{value:e,message:aD.toString(t)}})}max(e,t){return new i0({...this._def,maxLength:{value:e,message:aD.toString(t)}})}length(e,t){return new i0({...this._def,exactLength:{value:e,message:aD.toString(t)}})}nonempty(e){return this.min(1,e)}}i0.create=(e,t)=>new i0({type:e,minLength:null,maxLength:null,exactLength:null,typeName:aj.ZodArray,...iS(t)});class i1 extends ix{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=aM.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==n9.object){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.object,received:t.parsedType}),ih}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof iY&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new i_(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof iY){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(ic(r,{code:ie.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new i_(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>id.mergeObjectSync(t,e)):id.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return aD.errToObj,new i1({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:aD.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new i1({...this._def,unknownKeys:"strip"})}passthrough(){return new i1({...this._def,unknownKeys:"passthrough"})}extend(e){return new i1({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new i1({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:aj.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new i1({...this._def,catchall:e})}pick(e){let t={};for(let r of aM.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new i1({...this._def,shape:()=>t})}omit(e){let t={};for(let r of aM.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new i1({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof i1){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=sl.create(e(i))}return new i1({...t._def,shape:()=>r})}if(t instanceof i0)return new i0({...t._def,type:e(t.element)});if(t instanceof sl)return sl.create(e(t.unwrap()));if(t instanceof su)return su.create(e(t.unwrap()));if(t instanceof i3)return i3.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of aM.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new i1({...this._def,shape:()=>t})}required(e){let t={};for(let r of aM.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof sl;)e=e._def.innerType;t[r]=e}return new i1({...this._def,shape:()=>t})}keyof(){return sn(aM.objectKeys(this.shape))}}i1.create=(e,t)=>new i1({shape:()=>e,unknownKeys:"strip",catchall:iY.create(),typeName:aj.ZodObject,...iS(t)}),i1.strictCreate=(e,t)=>new i1({shape:()=>e,unknownKeys:"strict",catchall:iY.create(),typeName:aj.ZodObject,...iS(t)}),i1.lazycreate=(e,t)=>new i1({shape:e,unknownKeys:"strip",catchall:iY.create(),typeName:aj.ZodObject,...iS(t)});class i2 extends ix{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new ir(e.ctx.common.issues));return ic(t,{code:ie.invalid_union,unionErrors:r}),ih});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new ir(e));return ic(t,{code:ie.invalid_union,unionErrors:i}),ih}}get options(){return this._def.options}}i2.create=(e,t)=>new i2({options:e,typeName:aj.ZodUnion,...iS(t)});let i6=e=>{if(e instanceof st)return i6(e.schema);if(e instanceof so)return i6(e.innerType());if(e instanceof sr)return[e.value];if(e instanceof si)return e.options;if(e instanceof ss)return aM.objectValues(e.enum);else if(e instanceof sc)return i6(e._def.innerType);else if(e instanceof iH)return[void 0];else if(e instanceof iW)return[null];else if(e instanceof sl)return[void 0,...i6(e.unwrap())];else if(e instanceof su)return[null,...i6(e.unwrap())];else if(e instanceof sp)return i6(e.unwrap());else if(e instanceof sm)return i6(e.unwrap());else if(e instanceof sd)return i6(e._def.innerType);else return[]};class i4 extends ix{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==n9.object)return ic(t,{code:ie.invalid_type,expected:n9.object,received:t.parsedType}),ih;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(ic(t,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ih)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=i6(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new i4({typeName:aj.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...iS(r)})}}class i5 extends ix{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(im(e)||im(n))return ih;let i=function e(t,r){let n=n7(t),i=n7(r);if(t===r)return{valid:!0,data:t};if(n===n9.object&&i===n9.object){let n=aM.objectKeys(r),i=aM.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===n9.array&&i===n9.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}if(n===n9.date&&i===n9.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return i.valid?((iy(e)||iy(n))&&t.dirty(),{status:t.value,value:i.data}):(ic(r,{code:ie.invalid_intersection_types}),ih)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}i5.create=(e,t,r)=>new i5({left:e,right:t,typeName:aj.ZodIntersection,...iS(r)});class i3 extends ix{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==n9.array)return ic(r,{code:ie.invalid_type,expected:n9.array,received:r.parsedType}),ih;if(r.data.length<this._def.items.length)return ic(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ih;!this._def.rest&&r.data.length>this._def.items.length&&(ic(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new i_(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>id.mergeArray(t,e)):id.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new i3({...this._def,rest:e})}}i3.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new i3({items:e,typeName:aj.ZodTuple,rest:null,...iS(t)})};class i8 extends ix{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==n9.object)return ic(r,{code:ie.invalid_type,expected:n9.object,received:r.parsedType}),ih;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new i_(r,e,r.path,e)),value:s._parse(new i_(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?id.mergeObjectAsync(t,n):id.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new i8(t instanceof ix?{keyType:e,valueType:t,typeName:aj.ZodRecord,...iS(r)}:{keyType:iF.create(),valueType:e,typeName:aj.ZodRecord,...iS(t)})}}class i9 extends ix{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==n9.map)return ic(r,{code:ie.invalid_type,expected:n9.map,received:r.parsedType}),ih;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new i_(r,e,r.path,[s,"key"])),value:i._parse(new i_(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return ih;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return ih;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}i9.create=(e,t,r)=>new i9({valueType:t,keyType:e,typeName:aj.ZodMap,...iS(r)});class i7 extends ix{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==n9.set)return ic(r,{code:ie.invalid_type,expected:n9.set,received:r.parsedType}),ih;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(ic(r,{code:ie.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(ic(r,{code:ie.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return ih;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new i_(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new i7({...this._def,minSize:{value:e,message:aD.toString(t)}})}max(e,t){return new i7({...this._def,maxSize:{value:e,message:aD.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}i7.create=(e,t)=>new i7({valueType:e,minSize:null,maxSize:null,typeName:aj.ZodSet,...iS(t)});class se extends ix{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==n9.function)return ic(t,{code:ie.invalid_type,expected:n9.function,received:t.parsedType}),ih;function r(e,r){return il({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,is,ii].filter(e=>!!e),issueData:{code:ie.invalid_arguments,argumentsError:r}})}function n(e,r){return il({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,is,ii].filter(e=>!!e),issueData:{code:ie.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof sa){let e=this;return ig(async function(...t){let a=new ir([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw a.addIssue(n(l,e)),a})})}{let e=this;return ig(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new ir([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new ir([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new se({...this._def,args:i3.create(e).rest(iK.create())})}returns(e){return new se({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new se({args:e||i3.create([]).rest(iK.create()),returns:t||iK.create(),typeName:aj.ZodFunction,...iS(r)})}}class st extends ix{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}st.create=(e,t)=>new st({getter:e,typeName:aj.ZodLazy,...iS(t)});class sr extends ix{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ic(t,{received:t.data,code:ie.invalid_literal,expected:this._def.value}),ih}return{status:"valid",value:e.data}}get value(){return this._def.value}}function sn(e,t){return new si({values:e,typeName:aj.ZodEnum,...iS(t)})}sr.create=(e,t)=>new sr({value:e,typeName:aj.ZodLiteral,...iS(t)});class si extends ix{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return ic(t,{expected:aM.joinValues(r),received:t.parsedType,code:ie.invalid_type}),ih}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return ic(t,{received:t.data,code:ie.invalid_enum_value,options:r}),ih}return ig(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return si.create(e,{...this._def,...t})}exclude(e,t=this._def){return si.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}si.create=sn;class ss extends ix{_parse(e){let t=aM.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==n9.string&&r.parsedType!==n9.number){let e=aM.objectValues(t);return ic(r,{expected:aM.joinValues(e),received:r.parsedType,code:ie.invalid_type}),ih}if(this._cache||(this._cache=new Set(aM.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=aM.objectValues(t);return ic(r,{received:r.data,code:ie.invalid_enum_value,options:e}),ih}return ig(e.data)}get enum(){return this._def.values}}ss.create=(e,t)=>new ss({values:e,typeName:aj.ZodNativeEnum,...iS(t)});class sa extends ix{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==n9.promise&&!1===t.common.async?(ic(t,{code:ie.invalid_type,expected:n9.promise,received:t.parsedType}),ih):ig((t.parsedType===n9.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}sa.create=(e,t)=>new sa({type:e,typeName:aj.ZodPromise,...iS(t)});class so extends ix{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===aj.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{ic(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ih;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?ih:"dirty"===n.status||"dirty"===t.value?ip(n.value):n});{if("aborted"===t.value)return ih;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?ih:"dirty"===n.status||"dirty"===t.value?ip(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?ih:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?ih:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>ib(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):ih);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ib(e))return ih;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}aM.assertNever(n)}}so.create=(e,t,r)=>new so({schema:e,typeName:aj.ZodEffects,effect:t,...iS(r)}),so.createWithPreprocess=(e,t,r)=>new so({schema:t,effect:{type:"preprocess",transform:e},typeName:aj.ZodEffects,...iS(r)});class sl extends ix{_parse(e){return this._getType(e)===n9.undefined?ig(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sl.create=(e,t)=>new sl({innerType:e,typeName:aj.ZodOptional,...iS(t)});class su extends ix{_parse(e){return this._getType(e)===n9.null?ig(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}su.create=(e,t)=>new su({innerType:e,typeName:aj.ZodNullable,...iS(t)});class sc extends ix{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===n9.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sc.create=(e,t)=>new sc({innerType:e,typeName:aj.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...iS(t)});class sd extends ix{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return iv(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ir(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new ir(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}sd.create=(e,t)=>new sd({innerType:e,typeName:aj.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...iS(t)});class sh extends ix{_parse(e){if(this._getType(e)!==n9.nan){let t=this._getOrReturnCtx(e);return ic(t,{code:ie.invalid_type,expected:n9.nan,received:t.parsedType}),ih}return{status:"valid",value:e.data}}}sh.create=e=>new sh({typeName:aj.ZodNaN,...iS(e)});let sf=Symbol("zod_brand");class sp extends ix{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class sg extends ix{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?ih:"dirty"===e.status?(t.dirty(),ip(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?ih:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new sg({in:e,out:t,typeName:aj.ZodPipeline})}}class sm extends ix{_parse(e){let t=this._def.innerType._parse(e),r=e=>(ib(e)&&(e.value=Object.freeze(e.value)),e);return iv(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function sy(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function sb(e,t={},r){return e?iX.create().superRefine((n,i)=>{let s=e(n);if(s instanceof Promise)return s.then(e=>{if(!e){let e=sy(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=sy(t,n),s=e.fatal??r??!0;i.addIssue({code:"custom",...e,fatal:s})}}):iX.create()}sm.create=(e,t)=>new sm({innerType:e,typeName:aj.ZodReadonly,...iS(t)});let sv={object:i1.lazycreate};(aI=aj||(aj={})).ZodString="ZodString",aI.ZodNumber="ZodNumber",aI.ZodNaN="ZodNaN",aI.ZodBigInt="ZodBigInt",aI.ZodBoolean="ZodBoolean",aI.ZodDate="ZodDate",aI.ZodSymbol="ZodSymbol",aI.ZodUndefined="ZodUndefined",aI.ZodNull="ZodNull",aI.ZodAny="ZodAny",aI.ZodUnknown="ZodUnknown",aI.ZodNever="ZodNever",aI.ZodVoid="ZodVoid",aI.ZodArray="ZodArray",aI.ZodObject="ZodObject",aI.ZodUnion="ZodUnion",aI.ZodDiscriminatedUnion="ZodDiscriminatedUnion",aI.ZodIntersection="ZodIntersection",aI.ZodTuple="ZodTuple",aI.ZodRecord="ZodRecord",aI.ZodMap="ZodMap",aI.ZodSet="ZodSet",aI.ZodFunction="ZodFunction",aI.ZodLazy="ZodLazy",aI.ZodLiteral="ZodLiteral",aI.ZodEnum="ZodEnum",aI.ZodEffects="ZodEffects",aI.ZodNativeEnum="ZodNativeEnum",aI.ZodOptional="ZodOptional",aI.ZodNullable="ZodNullable",aI.ZodDefault="ZodDefault",aI.ZodCatch="ZodCatch",aI.ZodPromise="ZodPromise",aI.ZodBranded="ZodBranded",aI.ZodPipeline="ZodPipeline",aI.ZodReadonly="ZodReadonly";let s_=(e,t={message:`Input not instance of ${e.name}`})=>sb(t=>t instanceof e,t),sw=iF.create,sS=iQ.create,sx=sh.create,sE=iV.create,sT=iz.create,sP=iZ.create,sR=iG.create,sA=iH.create,sN=iW.create,sC=iX.create,sO=iK.create,sI=iY.create,sk=iJ.create,sM=i0.create,sL=i1.create,sD=i1.strictCreate,sj=i2.create,sB=i4.create,s$=i5.create,sU=i3.create,sq=i8.create,sF=i9.create,sQ=i7.create,sV=se.create,sz=st.create,sZ=sr.create,sG=si.create,sH=ss.create,sW=sa.create,sX=so.create,sK=sl.create,sY=su.create,sJ=so.createWithPreprocess,s0=sg.create,s1=()=>sw().optional(),s2=()=>sS().optional(),s6=()=>sT().optional(),s4={string:e=>iF.create({...e,coerce:!0}),number:e=>iQ.create({...e,coerce:!0}),boolean:e=>iz.create({...e,coerce:!0}),bigint:e=>iV.create({...e,coerce:!0}),date:e=>iZ.create({...e,coerce:!0})};e.s(["BRAND",0,sf,"NEVER",0,ih,"Schema",()=>ix,"ZodAny",()=>iX,"ZodArray",()=>i0,"ZodBigInt",()=>iV,"ZodBoolean",()=>iz,"ZodBranded",()=>sp,"ZodCatch",()=>sd,"ZodDate",()=>iZ,"ZodDefault",()=>sc,"ZodDiscriminatedUnion",()=>i4,"ZodEffects",()=>so,"ZodEnum",()=>si,"ZodFirstPartyTypeKind",()=>aj,"ZodFunction",()=>se,"ZodIntersection",()=>i5,"ZodLazy",()=>st,"ZodLiteral",()=>sr,"ZodMap",()=>i9,"ZodNaN",()=>sh,"ZodNativeEnum",()=>ss,"ZodNever",()=>iY,"ZodNull",()=>iW,"ZodNullable",()=>su,"ZodNumber",()=>iQ,"ZodObject",()=>i1,"ZodOptional",()=>sl,"ZodPipeline",()=>sg,"ZodPromise",()=>sa,"ZodReadonly",()=>sm,"ZodRecord",()=>i8,"ZodSchema",()=>ix,"ZodSet",()=>i7,"ZodString",()=>iF,"ZodSymbol",()=>iG,"ZodTransformer",()=>so,"ZodTuple",()=>i3,"ZodType",()=>ix,"ZodUndefined",()=>iH,"ZodUnion",()=>i2,"ZodUnknown",()=>iK,"ZodVoid",()=>iJ,"any",()=>sC,"array",()=>sM,"bigint",()=>sE,"boolean",()=>sT,"coerce",0,s4,"custom",()=>sb,"date",()=>sP,"datetimeRegex",()=>iq,"discriminatedUnion",()=>sB,"effect",()=>sX,"enum",()=>sG,"function",()=>sV,"instanceof",()=>s_,"intersection",()=>s$,"late",0,sv,"lazy",()=>sz,"literal",()=>sZ,"map",()=>sF,"nan",()=>sx,"nativeEnum",()=>sH,"never",()=>sI,"null",()=>sN,"nullable",()=>sY,"number",()=>sS,"object",()=>sL,"oboolean",()=>s6,"onumber",()=>s2,"optional",()=>sK,"ostring",()=>s1,"pipeline",()=>s0,"preprocess",()=>sJ,"promise",()=>sW,"record",()=>sq,"set",()=>sQ,"strictObject",()=>sD,"string",()=>sw,"symbol",()=>sR,"transformer",()=>sX,"tuple",()=>sU,"undefined",()=>sA,"union",()=>sj,"unknown",()=>sO,"void",()=>sk],17958),e.i(17958),e.i(15235),e.s(["BRAND",0,sf,"DIRTY",0,ip,"EMPTY_PATH",0,iu,"INVALID",0,ih,"NEVER",0,ih,"OK",0,ig,"ParseStatus",()=>id,"Schema",()=>ix,"ZodAny",()=>iX,"ZodArray",()=>i0,"ZodBigInt",()=>iV,"ZodBoolean",()=>iz,"ZodBranded",()=>sp,"ZodCatch",()=>sd,"ZodDate",()=>iZ,"ZodDefault",()=>sc,"ZodDiscriminatedUnion",()=>i4,"ZodEffects",()=>so,"ZodEnum",()=>si,"ZodError",()=>ir,"ZodFirstPartyTypeKind",()=>aj,"ZodFunction",()=>se,"ZodIntersection",()=>i5,"ZodIssueCode",0,ie,"ZodLazy",()=>st,"ZodLiteral",()=>sr,"ZodMap",()=>i9,"ZodNaN",()=>sh,"ZodNativeEnum",()=>ss,"ZodNever",()=>iY,"ZodNull",()=>iW,"ZodNullable",()=>su,"ZodNumber",()=>iQ,"ZodObject",()=>i1,"ZodOptional",()=>sl,"ZodParsedType",0,n9,"ZodPipeline",()=>sg,"ZodPromise",()=>sa,"ZodReadonly",()=>sm,"ZodRecord",()=>i8,"ZodSchema",()=>ix,"ZodSet",()=>i7,"ZodString",()=>iF,"ZodSymbol",()=>iG,"ZodTransformer",()=>so,"ZodTuple",()=>i3,"ZodType",()=>ix,"ZodUndefined",()=>iH,"ZodUnion",()=>i2,"ZodUnknown",()=>iK,"ZodVoid",()=>iJ,"addIssueToContext",()=>ic,"any",()=>sC,"array",()=>sM,"bigint",()=>sE,"boolean",()=>sT,"coerce",0,s4,"custom",()=>sb,"date",()=>sP,"datetimeRegex",()=>iq,"defaultErrorMap",0,ii,"discriminatedUnion",()=>sB,"effect",()=>sX,"enum",()=>sG,"function",()=>sV,"getErrorMap",()=>io,"getParsedType",0,n7,"instanceof",()=>s_,"intersection",()=>s$,"isAborted",0,im,"isAsync",0,iv,"isDirty",0,iy,"isValid",0,ib,"late",0,sv,"lazy",()=>sz,"literal",()=>sZ,"makeIssue",0,il,"map",()=>sF,"nan",()=>sx,"nativeEnum",()=>sH,"never",()=>sI,"null",()=>sN,"nullable",()=>sY,"number",()=>sS,"object",()=>sL,"objectUtil",()=>aL,"oboolean",()=>s6,"onumber",()=>s2,"optional",()=>sK,"ostring",()=>s1,"pipeline",()=>s0,"preprocess",()=>sJ,"promise",()=>sW,"quotelessJson",0,it,"record",()=>sq,"set",()=>sQ,"setErrorMap",()=>ia,"strictObject",()=>sD,"string",()=>sw,"symbol",()=>sR,"transformer",()=>sX,"tuple",()=>sU,"undefined",()=>sA,"union",()=>sj,"unknown",()=>sO,"util",()=>aM,"void",()=>sk],35907);var s5=e.i(35907);e.s(["z",0,s5],22632);var s5=s5;let s3={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:0xffffff,INT32_MIN:-0x80000000,INT32_MAX:0x7fffffff,INT32_UNSIGNED_MAX:0xffffffff,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-0x8000000000000000n,INT64_MAX:0x7fffffffffffffffn,INT64_UNSIGNED_MAX:0xffffffffffffffffn};function s8(e,t){return t.includes(e.columnType)}let s9=s5.union([s5.string(),s5.number(),s5.boolean(),s5.null()]),s7=s5.union([s9,s5.record(s5.any()),s5.array(s5.any())]),ae=s5.custom(e=>e instanceof Buffer);function at(e){return tW(e)?rs(e):e[t$].selectedFields}let ar={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},an=(e,t)=>(function e(t,r,n,i){let s={};for(let[a,o]of Object.entries(t)){if(!tg(o,ty)&&!tg(o,t0)&&!tg(o,t0.Aliased)&&"object"==typeof o){let t=tW(o)||"object"==typeof o&&null!==o&&re in o?at(o):o;s[a]=e(t,r[a]??{},n,i);continue}let t=r[a];if(void 0!==t&&"function"!=typeof t){s[a]=t;continue}let l=tg(o,ty)?o:void 0,u=l?function e(t,r){let n,i=r?.zodInstance??s5,s=r?.coerce??{};return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0&&(n=t.enumValues.length?i.enum(t.enumValues):i.string()),n||(s8(t,["PgGeometry","PgPointTuple"])?n=i.tuple([i.number(),i.number()]):s8(t,["PgGeometryObject","PgPointObject"])?n=i.object({x:i.number(),y:i.number()}):s8(t,["PgHalfVector","PgVector"])?(n=i.array(i.number()),n=t.dimensions?n.length(t.dimensions):n):s8(t,["PgLine"])?n=i.tuple([i.number(),i.number(),i.number()]):s8(t,["PgLineABC"])?n=i.object({a:i.number(),b:i.number(),c:i.number()}):s8(t,["PgArray"])?(n=i.array(e(t.baseColumn,i)),n=t.size?n.length(t.size):n):"array"===t.dataType?n=i.array(i.any()):"number"===t.dataType?n=function(e,t,r){let n,i,s=e.getSQLType().includes("unsigned"),a=!1;s8(e,["MySqlTinyInt","SingleStoreTinyInt"])?(n=s?0:s3.INT8_MIN,i=s?s3.INT8_UNSIGNED_MAX:s3.INT8_MAX,a=!0):s8(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(n=s?0:s3.INT16_MIN,i=s?s3.INT16_UNSIGNED_MAX:s3.INT16_MAX,a=!0):s8(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(n=s?0:s3.INT24_MIN,i=s?s3.INT24_UNSIGNED_MAX:s3.INT24_MAX,a=s8(e,["MySqlMediumInt","SingleStoreMediumInt"])):s8(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(n=s?0:s3.INT32_MIN,i=s?s3.INT32_UNSIGNED_MAX:s3.INT32_MAX,a=!0):s8(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(n=s?0:s3.INT48_MIN,i=s?s3.INT48_UNSIGNED_MAX:s3.INT48_MAX):s8(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=(s=s||s8(e,["MySqlSerial","SingleStoreSerial"]))?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):s8(e,["MySqlYear","SingleStoreYear"])?(n=1901,i=2155,a=!0):(n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=!0===r||r?.number?t.coerce.number():t.number();return o=o.min(n).max(i),a?o.int():o}(t,i,s):"bigint"===t.dataType?n=function(e,t,r){let n=e.getSQLType().includes("unsigned"),i=n?0n:s3.INT64_MIN,s=n?s3.INT64_UNSIGNED_MAX:s3.INT64_MAX;return(!0===r||r?.bigint?t.coerce.bigint():t.bigint()).min(i).max(s)}(t,i,s):"boolean"===t.dataType?n=!0===s||s.boolean?i.coerce.boolean():i.boolean():"date"===t.dataType?n=!0===s||s.date?i.coerce.date():i.date():"string"===t.dataType?n=function(e,t,r){let n,i;if(s8(e,["PgUUID"]))return t.string().uuid();let s=!1;s8(e,["PgVarchar","SQLiteText"])?n=e.length:s8(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??s3.INT16_UNSIGNED_MAX:s8(e,["MySqlText","SingleStoreText"])&&(n="longtext"===e.textType?s3.INT32_UNSIGNED_MAX:"mediumtext"===e.textType?s3.INT24_UNSIGNED_MAX:"text"===e.textType?s3.INT16_UNSIGNED_MAX:s3.INT8_UNSIGNED_MAX),s8(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,s=!0),s8(e,["PgBinaryVector"])&&(i=/^[01]+$/,n=e.dimensions);let a=!0===r||r?.string?t.coerce.string():t.string();return a=i?a.regex(i):a,n&&s?a.length(n):n?a.max(n):a}(t,i,s):"json"===t.dataType?n=s7:"custom"===t.dataType?n=i.any():"buffer"===t.dataType&&(n=ae)),n||(n=i.any()),n}(l,i):s5.any(),c="function"==typeof t?t(u):u;!n.never(l)&&(s[a]=c,l&&(n.nullable(l)&&(s[a]=s[a].nullable()),n.optional(l)&&(s[a]=s[a].optional())))}return s5.object(s)})(at(e),t??{},ar);var s5=s5;let ai=n8("users",{id:nz("id").primaryKey().default(t5`gen_random_uuid()`),username:nO("username").notNull().unique(),password:nO("password").notNull()}),as=n8("contact_requests",{id:nz("id").primaryKey().default(t5`gen_random_uuid()`),name:nO("name").notNull(),email:nO("email").notNull(),company:nO("company"),message:nO("message").notNull(),createdAt:nO("created_at").default(t5`CURRENT_TIMESTAMP`)}),aa=n8("projects",{id:nz("id").primaryKey().default(t5`gen_random_uuid()`),title:nO("title").notNull(),description:nO("description").notNull(),category:nO("category").notNull(),imageUrl:nO("image_url").notNull(),link:nO("link"),featured:nO("featured").default("false")}),ao=n8("payments",{id:nz("id").primaryKey().default(t5`gen_random_uuid()`),txRef:nO("tx_ref").notNull().unique(),email:nO("email").notNull(),amount:nO("amount").notNull(),currency:nO("currency").notNull(),status:nO("status").notNull().default("pending"),data:nO("data"),createdAt:nO("created_at").default(t5`CURRENT_TIMESTAMP`)}),al=an(ai).pick({username:!0,password:!0}),au=an(as).omit({id:!0,createdAt:!0}).extend({name:s5.string().min(2,"Name must be at least 2 characters"),email:s5.string().email("Please enter a valid email address"),message:s5.string().min(10,"Message must be at least 10 characters")}),ac=an(aa).omit({id:!0}),ad=an(ao).omit({id:!0,createdAt:!0});e.s(["contactRequests",0,as,"insertContactSchema",0,au,"insertPaymentSchema",0,ad,"insertProjectSchema",0,ac,"insertUserSchema",0,al,"payments",0,ao,"projects",0,aa,"users",0,ai],90337);var ah,af,ap,ag,am,ay,ab,av,a_,aw,aS,ax,aE,aT,aP,aR,aA,aN,aC,aO,aI,ak,aM,aL,aD,aj,aB,a$,aU,aq,aF,aQ=e.i(54799),aV=Object.create,az=Object.defineProperty,aZ=Object.getOwnPropertyDescriptor,aG=Object.getOwnPropertyNames,aH=Object.getPrototypeOf,aW=Object.prototype.hasOwnProperty,aX=(e,t)=>az(e,"name",{value:t,configurable:!0}),aK=(e,t)=>()=>(e&&(t=e(e=0)),t),aY=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),aJ=(e,t)=>{for(var r in t)az(e,r,{get:t[r],enumerable:!0})},a0=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of aG(t))aW.call(e,i)||i===r||az(e,i,{get:()=>t[i],enumerable:!(n=aZ(t,i))||n.enumerable});return e},a1=(e,t,r)=>(r=null!=e?aV(aH(e)):{},a0(!t&&e&&e.__esModule?r:az(r,"default",{value:e,enumerable:!0}),e)),a2=e=>a0(az({},"__esModule",{value:!0}),e),a6=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?az(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r},a4=aY(e=>{a8(),e.byteLength=l,e.toByteArray=c,e.fromByteArray=f;var t,r,n=[],i=[],s="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=a.length;t<r;++t)n[t]=a[t],i[a.charCodeAt(t)]=t;function o(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=o(e),r=t[0],n=t[1];return(r+n)*3/4-n}function u(e,t,r){return(t+r)*3/4-r}function c(e){var t,r,n=o(e),a=n[0],l=n[1],c=new s(u(e,a,l)),d=0,h=l>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===l&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===l&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function h(e,t,r){for(var n=[],i=t;i<r;i+=3)n.push(d((e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2])));return n.join("")}function f(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(h(e,a,a+16383>o?o:a+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")}i[45]=62,i[95]=63,aX(o,"getLens"),aX(l,"byteLength"),aX(u,"_byteLength"),aX(c,"toByteArray"),aX(d,"tripletToBase64"),aX(h,"encodeChunk"),aX(f,"fromByteArray")}),a5=aY(e=>{a8(),e.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,l=(1<<o)-1,u=l>>1,c=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+e[t+d],d+=h,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===s)s=1-u;else{if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=u}return(f?-1:1)*a*Math.pow(2,s-n)},e.write=function(e,t,r,n,i,s){var a,o,l,u=8*s-i-1,c=(1<<u)-1,d=c>>1,h=5960464477539062e-23*(23===i),f=n?0:s-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=c?(o=0,a=c):a+d>=1?(o=(t*l-1)*Math.pow(2,i),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&o,f+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[r+f]=255&a,f+=p,a/=256,u-=8);e[r+f-p]|=128*g}}),a3=aY(e=>{a8();var t=a4(),r=a5(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(){try{let e=new Uint8Array(1),t={foo:aX(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e)return d(e,t);if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(er(e,ArrayBuffer)||e&&er(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(er(e,SharedArrayBuffer)||e&&er(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);let i=g(e);if(i)return i;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,r){return l(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}function c(e){return l(e),s(e<0?0:0|m(e))}function d(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|b(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function h(e){let t=e.length<0?0:0|m(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e){if(er(e,Uint8Array)){let t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}function p(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function g(e){if(a.isBuffer(e)){let t=0|m(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||en(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}function m(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function y(e){return+e!=e&&(e=0),a.alloc(+e)}function b(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||er(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ee(e).length;default:if(i)return n?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return N(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),en(r*=1)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:S(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):S(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function S(e,t,r,n,i){let s,a=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(aX(u,"read"),i){let n=-1;for(s=r;s<o;s++)if(u(e,s)===u(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===l)return n*a}else -1!==n&&(s-=s-n),n=-1}else for(r+l>o&&(r=o-l),s=r;s>=0;s--){let r=!0;for(let n=0;n<l;n++)if(u(e,s+n)!==u(t,n)){r=!1;break}if(r)return s}return -1}function x(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(en(n))break;e[r+i]=n}return i}function E(e,t,r,n){return et(K(t,e.length-r),e,r,n)}function T(e,t,r,n){return et(Y(t),e,r,n)}function P(e,t,r,n){return et(ee(t),e,r,n)}function R(e,t,r,n){return et(J(t,e.length-r),e,r,n)}function A(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function N(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,l;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(s=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}return C(n)}function C(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=ei[e[n]];return i}function M(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function j(e,t,r,n,i){Z(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function B(e,t,r,n,i){Z(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function $(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function U(e,t,n,i,s){return t*=1,n>>>=0,s||$(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function q(e,t,n,i,s){return t*=1,n>>>=0,s||$(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=a,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),aX(i,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:aX(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:aX(function(){if(a.isBuffer(this))return this.byteOffset},"get")}),aX(s,"createBuffer"),aX(a,"Buffer"),a.poolSize=8192,aX(o,"from"),a.from=function(e,t,r){return o(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),aX(l,"assertSize"),aX(u,"alloc"),a.alloc=function(e,t,r){return u(e,t,r)},aX(c,"allocUnsafe"),a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},aX(d,"fromString"),aX(h,"fromArrayLike"),aX(f,"fromArrayView"),aX(p,"fromArrayBuffer"),aX(g,"fromObject"),aX(m,"checked"),aX(y,"SlowBuffer"),a.isBuffer=aX(function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},"isBuffer"),a.compare=aX(function(e,t){if(er(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),er(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},"compare"),a.isEncoding=aX(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=aX(function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(er(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},"concat"),aX(b,"byteLength"),a.byteLength=b,aX(v,"slowToString"),a.prototype._isBuffer=!0,aX(_,"swap"),a.prototype.swap16=aX(function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)_(this,t,t+1);return this},"swap16"),a.prototype.swap32=aX(function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},"swap32"),a.prototype.swap64=aX(function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},"swap64"),a.prototype.toString=aX(function(){let e=this.length;return 0===e?"":0==arguments.length?N(this,0,e):v.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=aX(function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},"equals"),a.prototype.inspect=aX(function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},"inspect"),n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=aX(function(e,t,r,n,i){if(er(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,o=r-t,l=Math.min(s,o),u=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<l;++e)if(u[e]!==c[e]){s=u[e],o=c[e];break}return s<o?-1:+(o<s)},"compare"),aX(w,"bidirectionalIndexOf"),aX(S,"arrayIndexOf"),a.prototype.includes=aX(function(e,t,r){return -1!==this.indexOf(e,t,r)},"includes"),a.prototype.indexOf=aX(function(e,t,r){return w(this,e,t,r,!0)},"indexOf"),a.prototype.lastIndexOf=aX(function(e,t,r){return w(this,e,t,r,!1)},"lastIndexOf"),aX(x,"hexWrite"),aX(E,"utf8Write"),aX(T,"asciiWrite"),aX(P,"base64Write"),aX(R,"ucs2Write"),a.prototype.write=aX(function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return T(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(s)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},"write"),a.prototype.toJSON=aX(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),aX(A,"base64Slice"),aX(N,"utf8Slice"),aX(C,"decodeCodePointsArray"),aX(O,"asciiSlice"),aX(I,"latin1Slice"),aX(k,"hexSlice"),aX(M,"utf16leSlice"),a.prototype.slice=aX(function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},"slice"),aX(L,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=aX(function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=aX(function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=aX(function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=aX(function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=aX(function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=aX(function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=aX(function(e,t){return e>>>=0,t||L(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=es(aX(function(e){G(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&H(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=es(aX(function(e){G(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&H(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)},"readBigUInt64BE")),a.prototype.readIntLE=aX(function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},"readIntLE"),a.prototype.readIntBE=aX(function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},"readIntBE"),a.prototype.readInt8=aX(function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},"readInt8"),a.prototype.readInt16LE=aX(function(e,t){e>>>=0,t||L(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},"readInt16LE"),a.prototype.readInt16BE=aX(function(e,t){e>>>=0,t||L(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},"readInt16BE"),a.prototype.readInt32LE=aX(function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE"),a.prototype.readInt32BE=aX(function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE"),a.prototype.readBigInt64LE=es(aX(function(e){G(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&H(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])},"readBigInt64LE")),a.prototype.readBigInt64BE=es(aX(function(e){G(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&H(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)},"readBigInt64BE")),a.prototype.readFloatLE=aX(function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=aX(function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=aX(function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=aX(function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!1,52,8)},"readDoubleBE"),aX(D,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=aX(function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;D(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=aX(function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;D(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeUInt32BE"),aX(j,"wrtBigUInt64LE"),aX(B,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=es(aX(function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=es(aX(function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=aX(function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},"writeIntLE"),a.prototype.writeIntBE=aX(function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},"writeIntBE"),a.prototype.writeInt8=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},"writeInt8"),a.prototype.writeInt16LE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeInt16LE"),a.prototype.writeInt16BE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeInt16BE"),a.prototype.writeInt32LE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},"writeInt32LE"),a.prototype.writeInt32BE=aX(function(e,t,r){return e*=1,t>>>=0,r||D(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeInt32BE"),a.prototype.writeBigInt64LE=es(aX(function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=es(aX(function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),aX($,"checkIEEE754"),aX(U,"writeFloat"),a.prototype.writeFloatLE=aX(function(e,t,r){return U(this,e,t,!0,r)},"writeFloatLE"),a.prototype.writeFloatBE=aX(function(e,t,r){return U(this,e,t,!1,r)},"writeFloatBE"),aX(q,"writeDouble"),a.prototype.writeDoubleLE=aX(function(e,t,r){return q(this,e,t,!0,r)},"writeDoubleLE"),a.prototype.writeDoubleBE=aX(function(e,t,r){return q(this,e,t,!1,r)},"writeDoubleBE"),a.prototype.copy=aX(function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},"copy"),a.prototype.fill=aX(function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=a.isBuffer(e)?e:a.from(e,n),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this},"fill");var F={};function Q(e,t,r){var n;F[e]=(aX(n=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},"NodeError"),n)}function V(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r){G(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&H(t,e.length-(r+1))}function Z(e,t,r,n,i,s){if(e>r||e<t){let n="bigint"==typeof t?"n":"",i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${(s+1)*8}${n}`:`>= -(2${n} ** ${(s+1)*8-1}${n}) and \
< 2 ** ${(s+1)*8-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,e)}z(n,i,s)}function G(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){throw Math.floor(e)!==e?(G(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}aX(Q,"E"),Q("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argum\
ent must be of type number. Received type ${typeof t}`},TypeError),Q("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=V(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),n+=` It\
 must be ${t}. Received ${i}`},RangeError),aX(V,"addNumericalSeparator"),aX(z,"checkBounds"),aX(Z,"checkIntBI"),aX(G,"validateNumber"),aX(H,"boundsError");var W=/[^+/0-9A-Za-z-_]/g;function X(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function K(e,t){t=t||1/0;let r,n=e.length,i=null,s=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function Y(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function J(e,t){let r,n,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}function ee(e){return t.toByteArray(X(e))}function et(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function er(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function en(e){return e!=e}aX(X,"base64clean"),aX(K,"utf8ToBytes"),aX(Y,"asciiToBytes"),aX(J,"utf16leToBytes"),aX(ee,"base64ToBytes"),aX(et,"blitBuffer"),aX(er,"isInstance"),aX(en,"numberIsNaN");var ei=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function es(e){return typeof BigInt>"u"?ea:e}function ea(){throw Error("BigInt not supported")}aX(es,"defineBigIntMethod"),aX(ea,"BufferBigIntNotDefined")}),a8=aK(()=>{aB=globalThis,a$=globalThis.setImmediate??(e=>setTimeout(e,0)),(aU=globalThis.crypto??{}).subtle??(aU.subtle={}),aq="function"==typeof globalThis.Buffer&&"function"==typeof globalThis.Buffer.allocUnsafe?globalThis.Buffer:a3().Buffer,(aF=globalThis.process??{}).env??(aF.env={});try{aF.nextTick(()=>{})}catch{let e=Promise.resolve();aF.nextTick=e.then.bind(e)}}),a9=aY((e,t)=>{a8();var r,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:aX(function(e,t,r){return Function.prototype.apply.call(e,t,r)},"ReflectApply");function s(e){console&&console.warn&&console.warn(e)}r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?aX(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):aX(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys"),aX(s,"ProcessEmitWarning");var a=Number.isNaN||aX(function(e){return e!=e},"NumberIsNaN");function o(){o.init.call(this)}aX(o,"EventEmitter"),t.exports=o,t.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var i,a,o;if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s(l)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?b(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function v(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}aX(i,"errorListener"),aX(s,"resolver"),w(e,t,s,{once:!0}),"error"!==t&&_(e,i,{once:!0})})}function _(e,t,r){"function"==typeof e.on&&w(e,"error",t,r)}function w(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,aX(function i(s){n.once&&e.removeEventListener(t,i),r(s)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}aX(u,"checkListener"),Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:aX(function(){return l},"get"),set:aX(function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e},"set")}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=aX(function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners"),aX(c,"_getMaxListeners"),o.prototype.getMaxListeners=aX(function(){return c(this)},"getMaxListeners"),o.prototype.emit=aX(function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else for(var u=l.length,c=m(l,u),r=0;r<u;++r)i(c[r],this,t);return!0},"emit"),aX(d,"_addListener"),o.prototype.addListener=aX(function(e,t){return d(this,e,t,!1)},"addListener"),o.prototype.on=o.prototype.addListener,o.prototype.prependListener=aX(function(e,t){return d(this,e,t,!0)},"prependListener"),aX(h,"onceWrapper"),aX(f,"_onceWrap"),o.prototype.once=aX(function(e,t){return u(t),this.on(e,f(this,e,t)),this},"once"),o.prototype.prependOnceListener=aX(function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},"prependOnceListener"),o.prototype.removeListener=aX(function(e,t){var r,n,i,s,a;if(u(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():y(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},"removeListener"),o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=aX(function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},"removeAllListeners"),aX(p,"_listeners"),o.prototype.listeners=aX(function(e){return p(this,e,!0)},"listeners"),o.prototype.rawListeners=aX(function(e){return p(this,e,!1)},"rawListeners"),o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},o.prototype.listenerCount=g,aX(g,"listenerCount"),o.prototype.eventNames=aX(function(){return this._eventsCount>0?r(this._events):[]},"eventNames"),aX(m,"arrayClone"),aX(y,"spliceOne"),aX(b,"unwrapListeners"),aX(v,"once"),aX(_,"addErrorHandlerIfEventEmitter"),aX(w,"eventTargetAgnosticAddListener")}),a7={};aJ(a7,{default:()=>oe});var oe,ot=aK(()=>{a8(),oe={}});function or(e){let t=0x6a09e667,r=0xbb67ae85,n=0x3c6ef372,i=0xa54ff53a,s=0x510e527f,a=0x9b05688c,o=0x1f83d9ab,l=0x5be0cd19,u=0,c=0,d=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],h=aX((e,t)=>e>>>t|e<<32-t,"rrot"),f=new Uint32Array(64),p=new Uint8Array(64),g=aX(()=>{for(let e=0,t=0;e<16;e++,t+=4)f[e]=p[t]<<24|p[t+1]<<16|p[t+2]<<8|p[t+3];for(let e=16;e<64;e++){let t=h(f[e-15],7)^h(f[e-15],18)^f[e-15]>>>3,r=h(f[e-2],17)^h(f[e-2],19)^f[e-2]>>>10;f[e]=f[e-16]+t+f[e-7]+r|0}let e=t,u=r,g=n,m=i,y=s,b=a,v=o,_=l;for(let t=0;t<64;t++){let r=_+(h(y,6)^h(y,11)^h(y,25))+(y&b^~y&v)+d[t]+f[t]|0,n=(h(e,2)^h(e,13)^h(e,22))+(e&u^e&g^u&g)|0;_=v,v=b,b=y,y=m+r|0,m=g,g=u,u=e,e=r+n|0}t=t+e|0,r=r+u|0,n=n+g|0,i=i+m|0,s=s+y|0,a=a+b|0,o=o+v|0,l=l+_|0,c=0},"process"),m=aX(e=>{"string"==typeof e&&(e=new TextEncoder().encode(e));for(let t=0;t<e.length;t++)p[c++]=e[t],64===c&&g();u+=e.length},"add"),y=aX(()=>{if(p[c++]=128,64==c&&g(),c+8>64){for(;c<64;)p[c++]=0;g()}for(;c<58;)p[c++]=0;let e=8*u;p[c++]=e/0x10000000000&255,p[c++]=e/0x100000000&255,p[c++]=e>>>24,p[c++]=e>>>16&255,p[c++]=e>>>8&255,p[c++]=255&e,g();let d=new Uint8Array(32);return d[0]=t>>>24,d[1]=t>>>16&255,d[2]=t>>>8&255,d[3]=255&t,d[4]=r>>>24,d[5]=r>>>16&255,d[6]=r>>>8&255,d[7]=255&r,d[8]=n>>>24,d[9]=n>>>16&255,d[10]=n>>>8&255,d[11]=255&n,d[12]=i>>>24,d[13]=i>>>16&255,d[14]=i>>>8&255,d[15]=255&i,d[16]=s>>>24,d[17]=s>>>16&255,d[18]=s>>>8&255,d[19]=255&s,d[20]=a>>>24,d[21]=a>>>16&255,d[22]=a>>>8&255,d[23]=255&a,d[24]=o>>>24,d[25]=o>>>16&255,d[26]=o>>>8&255,d[27]=255&o,d[28]=l>>>24,d[29]=l>>>16&255,d[30]=l>>>8&255,d[31]=255&l,d},"digest");return void 0===e?{add:m,digest:y}:(m(e),y())}var on,oi,os=aK(()=>{a8(),aX(or,"sha256")}),oa=aK(()=>{a8(),aX(on=class e{constructor(){a6(this,"_dataLength",0),a6(this,"_bufferLength",0),a6(this,"_state",new Int32Array(4)),a6(this,"_buffer",new ArrayBuffer(68)),a6(this,"_buffer8"),a6(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){return this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(t){let r=e.hexChars,n=e.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=8*o,i=t[o],a=0;a<8;a+=2)n[s+1+a]=r.charAt(15&i),i>>>=4,n[s+0+a]=r.charAt(15&i),i>>>=4;return n.join("")}static _md5cycle(e,t){let r=e[0],n=e[1],i=e[2],s=e[3];r+=(n&i|~n&s)+t[0]-0x28955b88|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[1]-0x173848aa|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[2]+0x242070db|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[3]-0x3e423112|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&s)+t[4]-0xa83f051|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[5]+0x4787c62a|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[6]-0x57cfb9ed|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[7]-0x2b96aff|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&s)+t[8]+0x698098d8|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[9]-0x74bb0851|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[10]-42063|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[11]-0x76a32842|0,r+=((n=(n<<22|n>>>10)+i|0)&i|~n&s)+t[12]+0x6b901122|0,s+=((r=(r<<7|r>>>25)+n|0)&n|~r&i)+t[13]-0x2678e6d|0,i+=((s=(s<<12|s>>>20)+r|0)&r|~s&n)+t[14]-0x5986bc72|0,n+=((i=(i<<17|i>>>15)+s|0)&s|~i&r)+t[15]+0x49b40821|0,r+=((n=(n<<22|n>>>10)+i|0)&s|i&~s)+t[1]-0x9e1da9e|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[6]-0x3fbf4cc0|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[11]+0x265e5a51|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[0]-0x16493856|0,r+=((n=(n<<20|n>>>12)+i|0)&s|i&~s)+t[5]-0x29d0efa3|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[10]+0x2441453|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[15]-0x275e197f|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[4]-0x182c0438|0,r+=((n=(n<<20|n>>>12)+i|0)&s|i&~s)+t[9]+0x21e1cde6|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[14]-0x3cc8f82a|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[3]-0xb2af279|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[8]+0x455a14ed|0,r+=((n=(n<<20|n>>>12)+i|0)&s|i&~s)+t[13]-0x561c16fb|0,s+=((r=(r<<5|r>>>27)+n|0)&i|n&~i)+t[2]-0x3105c08|0,i+=((s=(s<<9|s>>>23)+r|0)&n|r&~n)+t[7]+0x676f02d9|0,n+=((i=(i<<14|i>>>18)+s|0)&r|s&~r)+t[12]-0x72d5b376|0,r+=((n=(n<<20|n>>>12)+i|0)^i^s)+t[5]-378558|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[8]-0x788e097f|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[11]+0x6d9d6122|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[14]-0x21ac7f4|0,r+=((n=(n<<23|n>>>9)+i|0)^i^s)+t[1]-0x5b4115bc|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[4]+0x4bdecfa9|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[7]-0x944b4a0|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[10]-0x41404390|0,r+=((n=(n<<23|n>>>9)+i|0)^i^s)+t[13]+0x289b7ec6|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[0]-0x155ed806|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[3]-0x2b10cf7b|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[6]+0x4881d05|0,r+=((n=(n<<23|n>>>9)+i|0)^i^s)+t[9]-0x262b2fc7|0,s+=((r=(r<<4|r>>>28)+n|0)^n^i)+t[12]-0x1924661b|0,i+=((s=(s<<11|s>>>21)+r|0)^r^n)+t[15]+0x1fa27cf8|0,n+=((i=(i<<16|i>>>16)+s|0)^s^r)+t[2]-0x3b53a99b|0,n=(n<<23|n>>>9)+i|0,r+=(i^(n|~s))+t[0]-0xbd6ddbc|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[7]+0x432aff97|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[14]-0x546bdc59|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[5]-0x36c5fc7|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~s))+t[12]+0x655b59c3|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[3]-0x70f3336e|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[10]-1051523|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[1]-0x7a7ba22f|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~s))+t[8]+0x6fa87e4f|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[15]-0x1d31920|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[6]-0x5cfebcec|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[13]+0x4e0811a1|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~s))+t[4]-0x8ac817e|0,r=(r<<6|r>>>26)+n|0,s+=(n^(r|~i))+t[11]-0x42c50dcb|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~n))+t[2]+0x2ad7d2bb|0,i=(i<<15|i>>>17)+s|0,n+=(s^(i|~r))+t[9]-0x14792c6f|0,n=(n<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(t){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<t.length;a+=1){if((s=t.charCodeAt(a))<128)r[i++]=s;else if(s<2048)r[i++]=(s>>>6)+192,r[i++]=63&s|128;else if(s<55296||s>56319)r[i++]=(s>>>12)+224,r[i++]=s>>>6&63|128,r[i++]=63&s|128;else{if((s=(s-55296)*1024+(t.charCodeAt(++a)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");r[i++]=(s>>>18)+240,r[i++]=s>>>12&63|128,r[i++]=s>>>6&63|128,r[i++]=63&s|128}i>=64&&(this._dataLength+=64,e._md5cycle(this._state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(t){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,a=0;for(;;){for(s=Math.min(t.length-a,64-i);s--;)r[i++]=t.charCodeAt(a++);if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(t){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,s,a=0;for(;;){for(s=Math.min(t.length-a,64-i);s--;)r[i++]=t[a++];if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,r=e.state,n=this._state,i;for(this._dataLength=e.length,this._bufferLength=e.buflen,n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],i=0;i<t.length;i+=1)this._buffer8[i]=t.charCodeAt(i)}end(t=!1){let r=this._bufferLength,n=this._buffer8,i=this._buffer32,s=(r>>2)+1;this._dataLength+=r;let a=8*this._dataLength;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,i.set(e.buffer32Identity.subarray(s),s),r>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),a<=0xffffffff)i[14]=a;else{let e=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;let t=parseInt(e[2],16),r=parseInt(e[1],16)||0;i[14]=t,i[15]=r}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)}},"Md5"),a6(on,"stateIdentity",new Int32Array([0x67452301,-0x10325477,-0x67452302,0x10325476])),a6(on,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),a6(on,"hexChars","0123456789abcdef"),a6(on,"hexOut",[]),a6(on,"onePassHasher",new on),oi=on}),oo={};function ol(e){return aU.getRandomValues(aq.alloc(e))}function ou(e){if("sha256"===e)return{update:aX(function(e){return{digest:aX(function(){return aq.from(or(e))},"digest")}},"update")};if("md5"===e)return{update:aX(function(e){return{digest:aX(function(){return"string"==typeof e?oi.hashStr(e):oi.hashByteArray(e)},"digest")}},"update")};throw Error(`Hash type '${e}' not supported`)}function oc(e,t){if("sha256"!==e)throw Error(`Only sha256 is supported (requested: '${e}')`);return{update:aX(function(e){return{digest:aX(function(){"string"==typeof t&&(t=new TextEncoder().encode(t)),"string"==typeof e&&(e=new TextEncoder().encode(e));let r=t.length;if(r>64)t=or(t);else if(r<64){let e=new Uint8Array(64);e.set(t),t=e}let n=new Uint8Array(64),i=new Uint8Array(64);for(let e=0;e<64;e++)n[e]=54^t[e],i[e]=92^t[e];let s=new Uint8Array(e.length+64);s.set(n,0),s.set(e,64);let a=new Uint8Array(96);return a.set(i,0),a.set(or(s),64),aq.from(or(a))},"digest")}},"update")}}aJ(oo,{createHash:()=>ou,createHmac:()=>oc,randomBytes:()=>ol});var od=aK(()=>{a8(),os(),oa(),aX(ol,"randomBytes"),aX(ou,"createHash"),aX(oc,"createHmac")}),oh=aY(e=>{a8(),e.parse=function(e,t){return new r(e,t).parse()};var t=class e{constructor(e,t){this.source=e,this.transform=t||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(t){var r,n,i;for(this.consumeDimensions();!this.isEof();)if("{"!==(r=this.nextCharacter()).value||i){if("}"!==r.value||i)'"'!==r.value||r.escaped?","!==r.value||i?this.record(r.value):this.newEntry():(i&&this.newEntry(!0),i=!i);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(n=new e(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}};aX(t,"ArrayParser");var r=t;function n(e){return e}aX(n,"identity")}),of=aY((e,t)=>{a8();var r=oh();t.exports={create:aX(function(e,t){return{parse:aX(function(){return r.parse(e,t)},"parse")}},"create")}}),op=aY((e,t)=>{a8();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,s=/^-?infinity$/;function a(e){var t=n.exec(e);if(t){var r=parseInt(t[1],10);t[4]&&(r=l(r));var i=new Date(r,parseInt(t[2],10)-1,t[3]);return u(r)&&i.setFullYear(r),i}}function o(e){if(e.endsWith("+00"))return 0;var t=i.exec(e.split(" ")[1]);if(t){var r=t[1];return"Z"===r?0:(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*("-"===r?-1:1)*1e3}}function l(e){return-(e-1)}function u(e){return e>=0&&e<100}t.exports=aX(function(e){if(s.test(e))return Number(e.replace("i","I"));var t=r.exec(e);if(!t)return a(e)||null;var n=!!t[8],i=parseInt(t[1],10);n&&(i=l(i));var c=parseInt(t[2],10)-1,d=t[3],h=parseInt(t[4],10),f=parseInt(t[5],10),p=parseInt(t[6],10),g=t[7];g=g?1e3*parseFloat(g):0;var m,y=o(e);return null!=y?(m=new Date(Date.UTC(i,c,d,h,f,p,g)),u(i)&&m.setUTCFullYear(i),0!==y&&m.setTime(m.getTime()-y)):(m=new Date(i,c,d,h,f,p,g),u(i)&&m.setFullYear(i)),m},"parseDate"),aX(a,"getDate"),aX(o,"timeZoneOffset"),aX(l,"bcYearToNegativeYear"),aX(u,"is0To99")}),og=aY((e,t)=>{a8(),t.exports=n;var r=Object.prototype.hasOwnProperty;function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}aX(n,"extend")}),om=aY((e,t)=>{a8();var r=og();function n(e){if(!(this instanceof n))return new n(e);r(this,f(e))}t.exports=n,aX(n,"PostgresInterval");var i=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var e=i.filter(this.hasOwnProperty,this);return this.milliseconds&&0>e.indexOf("seconds")&&e.push("seconds"),0===e.length?"0":e.map(function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e},this).join(" ")};var s={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},a=["years","months","days"],o=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){return"P"+a.map(e,this).join("")+"T"+o.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+s[e]}};var l="([+-]?\\d+)",u=new RegExp([l+"\\s+years?",l+"\\s+mons?",l+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(e){return"("+e+")?"}).join("\\s*")),c={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},d=["hours","minutes","seconds","milliseconds"];function h(e){return parseInt(e+"000000".slice(e.length),10)/1e3}function f(e){if(!e)return{};var t=u.exec(e),r="-"===t[8];return Object.keys(c).reduce(function(e,n){var i=t[c[n]];return i&&(i="milliseconds"===n?h(i):parseInt(i,10))&&(r&&~d.indexOf(n)&&(i*=-1),e[n]=i),e},{})}aX(h,"parseMilliseconds"),aX(f,"parse")}),oy=aY((e,t)=>{a8(),t.exports=aX(function(e){if(/^\\x/.test(e))return new aq(e.substr(2),"hex");for(var t="",r=0;r<e.length;)if("\\"!==e[r])t+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))t+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var n=1;r+n<e.length&&"\\"===e[r+n];)n++;for(var i=0;i<Math.floor(n/2);++i)t+="\\";r+=2*Math.floor(n/2)}return new aq(t,"binary")},"parseBytea")}),ob=aY((e,t)=>{a8();var r=oh(),n=of(),i=op(),s=om(),a=oy();function o(e){return aX(function(t){return null===t?t:e(t)},"nullAllowed")}function l(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function u(e){return e?r.parse(e,l):null}function c(e){return parseInt(e,10)}function d(e){return e?r.parse(e,o(c)):null}function h(e){return e?r.parse(e,o(function(e){return _(e).trim()})):null}aX(o,"allowNull"),aX(l,"parseBool"),aX(u,"parseBoolArray"),aX(c,"parseBaseTenInt"),aX(d,"parseIntegerArray"),aX(h,"parseBigIntegerArray");var f=aX(function(e){return e?n.create(e,function(e){return null!==e&&(e=S(e)),e}).parse():null},"parsePointArray"),p=aX(function(e){return e?n.create(e,function(e){return null!==e&&(e=parseFloat(e)),e}).parse():null},"parseFloatArray"),g=aX(function(e){return e?n.create(e).parse():null},"parseStringArray"),m=aX(function(e){return e?n.create(e,function(e){return null!==e&&(e=i(e)),e}).parse():null},"parseDateArray"),y=aX(function(e){return e?n.create(e,function(e){return null!==e&&(e=s(e)),e}).parse():null},"parseIntervalArray"),b=aX(function(e){return e?r.parse(e,o(a)):null},"parseByteAArray"),v=aX(function(e){return parseInt(e,10)},"parseInteger"),_=aX(function(e){var t=String(e);return/^\d+$/.test(t)?t:e},"parseBigInteger"),w=aX(function(e){return e?r.parse(e,o(JSON.parse)):null},"parseJsonArray"),S=aX(function(e){return"("!==e[0]?null:{x:parseFloat((e=e.substring(1,e.length-1).split(","))[0]),y:parseFloat(e[1])}},"parsePoint"),x=aX(function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",r="",n=!1,i=2;i<e.length-1;i++){if(n||(t+=e[i]),")"===e[i]){n=!0;continue}n&&","!==e[i]&&(r+=e[i])}var s=S(t);return s.radius=parseFloat(r),s},"parseCircle");t.exports={init:aX(function(e){e(20,_),e(21,v),e(23,v),e(26,v),e(700,parseFloat),e(701,parseFloat),e(16,l),e(1082,i),e(1114,i),e(1184,i),e(600,S),e(651,g),e(718,x),e(1e3,u),e(1001,b),e(1005,d),e(1007,d),e(1028,d),e(1016,h),e(1017,f),e(1021,p),e(1022,p),e(1231,p),e(1014,g),e(1015,g),e(1008,g),e(1009,g),e(1040,g),e(1041,g),e(1115,m),e(1182,m),e(1185,m),e(1186,s),e(1187,y),e(17,a),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,w),e(3807,w),e(3907,g),e(2951,g),e(791,g),e(1183,g),e(1270,g)},"init")}}),ov=aY((e,t)=>{function r(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),n="";t<0&&(t=~t+(0===r),r=~r+1>>>0,n="-");var i,s,a,o,l,u,c="";if(i=t%1e6,t=t/1e6>>>0,r=(s=0x100000000*i+r)/1e6>>>0,a=""+(s-1e6*r),0===r&&0===t)return n+a+c;for(o="",l=6-a.length,u=0;u<l;u++)o+="0";if(c=o+a+c,i=t%1e6,t=t/1e6>>>0,r=(s=0x100000000*i+r)/1e6>>>0,a=""+(s-1e6*r),0===r&&0===t)return n+a+c;for(o="",l=6-a.length,u=0;u<l;u++)o+="0";if(c=o+a+c,i=t%1e6,t=t/1e6>>>0,r=(s=0x100000000*i+r)/1e6>>>0,a=""+(s-1e6*r),0===r&&0===t)return n+a+c;for(o="",l=6-a.length,u=0;u<l;u++)o+="0";return c=o+a+c,n+(a=""+(s=0x100000000*(i=t%1e6)+r)%1e6)+c}a8(),aX(r,"readInt8"),t.exports=r}),o_=aY((e,t)=>{a8();var r=ov(),n=aX(function(e,t,r,n,i){r=r||0,n=n||!1,i=i||function(e,t,r){return e*Math.pow(2,r)+t};var s=r>>3,a=aX(function(e){return n?255&~e:e},"inv"),o=255,l=8-r%8;t<l&&(o=255<<8-t&255,l=t),r&&(o>>=r%8);var u=0;r%8+t>=8&&(u=i(0,a(e[s])&o,l));for(var c=t+r>>3,d=s+1;d<c;d++)u=i(u,a(e[d]),8);var h=(t+r)%8;return h>0&&(u=i(u,a(e[c])>>8-h,h)),u},"parseBits"),i=aX(function(e,t,r){var i=Math.pow(2,r-1)-1,s=n(e,1),a=n(e,r,1);if(0===a)return 0;var o=1,l=n(e,t,r+1,!1,aX(function(e,t,r){0===e&&(e=1);for(var n=1;n<=r;n++)o/=2,(t&1<<r-n)>0&&(e+=o);return e},"parsePrecisionBits"));return a==Math.pow(2,r+1)-1?0===l?0===s?1/0:-1/0:NaN:(0===s?1:-1)*Math.pow(2,a-i)*l},"parseFloatFromBits"),s=aX(function(e){return 1==n(e,1)?-1*(n(e,15,1,!0)+1):n(e,15,1)},"parseInt16"),a=aX(function(e){return 1==n(e,1)?-1*(n(e,31,1,!0)+1):n(e,31,1)},"parseInt32"),o=aX(function(e){return i(e,23,8)},"parseFloat32"),l=aX(function(e){return i(e,52,11)},"parseFloat64"),u=aX(function(e){var t=n(e,16,32);if(49152==t)return NaN;for(var r=Math.pow(1e4,n(e,16,16)),i=0,s=n(e,16),a=0;a<s;a++)i+=n(e,16,64+16*a)*r,r/=1e4;var o=Math.pow(10,n(e,16,48));return(0===t?1:-1)*Math.round(i*o)/o},"parseNumeric"),c=aX(function(e,t){var r=n(t,1),i=n(t,63,1),s=new Date((0===r?1:-1)*i/1e3+9466848e5);return e||s.setTime(s.getTime()+6e4*s.getTimezoneOffset()),s.usec=i%1e3,s.getMicroSeconds=function(){return this.usec},s.setMicroSeconds=function(e){this.usec=e},s.getUTCMicroSeconds=function(){return this.usec},s},"parseDate"),d=aX(function(e){for(var t=n(e,32),r=(n(e,32,32),n(e,32,64)),i=96,s=[],a=0;a<t;a++)s[a]=n(e,32,i),i+=64;var o=aX(function(t){var r,s=n(e,32,i);return(i+=32,0xffffffff==s)?null:23==t||20==t?(r=n(e,8*s,i),i+=8*s,r):25==t?e.toString(this.encoding,i>>3,(i+=s<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},"parseElement"),l=aX(function(e,t){var r,n=[];if(e.length>1){var i=e.shift();for(r=0;r<i;r++)n[r]=l(e,t);e.unshift(i)}else for(r=0;r<e[0];r++)n[r]=o(t);return n},"parse");return l(s,r)},"parseArray"),h=aX(function(e){return e.toString("utf8")},"parseText"),f=aX(function(e){return null===e?null:n(e,8)>0},"parseBool");t.exports={init:aX(function(e){e(20,r),e(21,s),e(23,a),e(26,a),e(1700,u),e(700,o),e(701,l),e(16,f),e(1114,c.bind(null,!1)),e(1184,c.bind(null,!0)),e(1e3,d),e(1007,d),e(1016,d),e(1008,d),e(1009,d),e(25,h)},"init")}}),ow=aY((e,t)=>{a8(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),oS=aY(e=>{a8();var t=ob(),r=o_(),n=of(),i=ow();e.getTypeParser=o,e.setTypeParser=l,e.arrayParser=n,e.builtins=i;var s={text:{},binary:{}};function a(e){return String(e)}function o(e,t){return s[t=t||"text"]&&s[t][e]||a}function l(e,t,r){"function"==typeof t&&(r=t,t="text"),s[t][e]=r}aX(a,"noParse"),aX(o,"getTypeParser"),aX(l,"setTypeParser"),t.init(function(e,t){s.text[e]=t}),r.init(function(e,t){s.binary[e]=t})}),ox=aY((e,t)=>{a8(),t.exports={host:"localhost",user:"win32"===aF.platform?aF.env.USERNAME:aF.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=oS(),n=r.getTypeParser(20,"text"),i=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(e){r.setTypeParser(20,"text",e?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",e?r.getTypeParser(1007,"text"):i)})}),oE=aY((e,t)=>{a8();var r=(od(),a2(oo)),n=ox();function i(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function s(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t+=","),null===e[r]||typeof e[r]>"u"?t+="NULL":Array.isArray(e[r])?t+=s(e[r]):e[r]instanceof aq?t+="\\\\x"+e[r].toString("hex"):t+=i(a(e[r]));return t+"}"}aX(i,"escapeElement"),aX(s,"arrayString");var a=aX(function(e,t){if(null==e)return null;if(e instanceof aq)return e;if(ArrayBuffer.isView(e)){var r=aq.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?n.parseInputDatesAsUTC?c(e):u(e):Array.isArray(e)?s(e):"object"==typeof e?o(e,t):e.toString()},"prepareValue");function o(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),a(e.toPostgres(a),t)}return JSON.stringify(e)}function l(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function u(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);var i=l(r,4)+"-"+l(e.getMonth()+1,2)+"-"+l(e.getDate(),2)+"T"+l(e.getHours(),2)+":"+l(e.getMinutes(),2)+":"+l(e.getSeconds(),2)+"."+l(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=l(Math.floor(t/60),2)+":"+l(t%60,2),n&&(i+=" BC"),i}function c(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var n=l(t,4)+"-"+l(e.getUTCMonth()+1,2)+"-"+l(e.getUTCDate(),2)+"T"+l(e.getUTCHours(),2)+":"+l(e.getUTCMinutes(),2)+":"+l(e.getUTCSeconds(),2)+"."+l(e.getUTCMilliseconds(),3);return n+="+00:00",r&&(n+=" BC"),n}function d(e,t,r){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),r&&(e.callback=r),e}aX(o,"prepareObject"),aX(l,"pad"),aX(u,"dateToString"),aX(c,"dateToStringUTC"),aX(d,"normalizeQueryConfig");var h=aX(function(e){return r.createHash("md5").update(e,"utf-8").digest("hex")},"md5"),f=aX(function(e,t,r){var n=h(t+e);return"md5"+h(aq.concat([aq.from(n),r]))},"postgresMd5PasswordHash");t.exports={prepareValue:aX(function(e){return a(e)},"prepareValueWrapper"),normalizeQueryConfig:d,postgresMd5PasswordHash:f,md5:h}}),oT=aY((e,t)=>{a8();var r=(od(),a2(oo));function n(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function i(e,t,r){if("SASLInitialResponse"!==e.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if("string"!=typeof r)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let n=u(r);if(n.nonce.startsWith(e.clientNonce)){if(n.nonce.length===e.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=p(t,aq.from(n.salt,"base64"),n.iteration),s=f(i,"Client Key"),a=h(s),o="n=*,r="+e.clientNonce,l="r="+n.nonce+",s="+n.salt+",i="+n.iteration,c="c=biws,r="+n.nonce,g=o+","+l+","+c,m=d(s,f(a,g)).toString("base64"),y=f(i,"Server Key"),b=f(y,g);e.message="SASLResponse",e.serverSignature=b.toString("base64"),e.response=c+",p="+m}function s(e,t){if("SASLResponse"!==e.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:r}=c(t);if(r!==e.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function a(e){if("string"!=typeof e)throw TypeError("SASL: text must be a string");return e.split("").map((t,r)=>e.charCodeAt(r)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function o(e){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(e)}function l(e){if("string"!=typeof e)throw TypeError("SASL: attribute pairs text must be a string");return new Map(e.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]}))}function u(e){let t=l(e),r=t.get("r");if(r){if(!a(r))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let n=t.get("s");if(n){if(!o(n))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let i=t.get("i");if(i){if(!/^[1-9][0-9]*$/.test(i))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:r,salt:n,iteration:parseInt(i,10)}}function c(e){let t=l(e).get("v");if(t){if(!o(t))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:t}}function d(e,t){if(!aq.isBuffer(e))throw TypeError("first argument must be a Buffer");if(!aq.isBuffer(t))throw TypeError("second argument must be a Buffer");if(e.length!==t.length)throw Error("Buffer lengths must match");if(0===e.length)throw Error("Buffers cannot be empty");return aq.from(e.map((r,n)=>e[n]^t[n]))}function h(e){return r.createHash("sha256").update(e).digest()}function f(e,t){return r.createHmac("sha256",e).update(t).digest()}function p(e,t,r){for(var n=f(e,aq.concat([t,aq.from([0,0,0,1])])),i=n,s=0;s<r-1;s++)i=d(i,n=f(e,n));return i}aX(n,"startSession"),aX(i,"continueSession"),aX(s,"finalizeSession"),aX(a,"isPrintableChars"),aX(o,"isBase64"),aX(l,"parseAttributePairs"),aX(u,"parseServerFirstMessage"),aX(c,"parseServerFinalMessage"),aX(d,"xorBuffers"),aX(h,"sha256"),aX(f,"hmacSha256"),aX(p,"Hi"),t.exports={startSession:n,continueSession:i,finalizeSession:s}}),oP={};function oR(...e){return e.join("/")}aJ(oP,{join:()=>oR});var oA=aK(()=>{a8(),aX(oR,"join")}),oN={};function oC(e,t){t(Error("No filesystem"))}aJ(oN,{stat:()=>oC});var oO=aK(()=>{a8(),aX(oC,"stat")}),oI={};aJ(oI,{default:()=>ok});var ok,oM=aK(()=>{a8(),ok={}}),oL={};aJ(oL,{StringDecoder:()=>oj});var oD,oj,oB=aK(()=>{a8(),aX(oD=class{constructor(e){a6(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},"StringDecoder"),oj=oD}),o$=aY((e,t)=>{a8();var{Transform:r}=(oM(),a2(oI)),{StringDecoder:n}=(oB(),a2(oL)),i=Symbol("last"),s=Symbol("decoder");function a(e,t,r){let n;if(this.overflow){if(1===(n=this[s].write(e).split(this.matcher)).length)return r();n.shift(),this.overflow=!1}else this[i]+=this[s].write(e),n=this[i].split(this.matcher);this[i]=n.pop();for(let e=0;e<n.length;e++)try{l(this,this.mapper(n[e]))}catch(e){return r(e)}(this.overflow=this[i].length>this.maxLength,this.overflow&&!this.skipOverflow)?r(Error("maximum buffer reached")):r()}function o(e){if(this[i]+=this[s].end(),this[i])try{l(this,this.mapper(this[i]))}catch(t){return e(t)}e()}function l(e,t){void 0!==t&&e.push(t)}function u(e){return e}function c(e,t,l){switch(e=e||/\r?\n/,t=t||u,l=l||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(l=e,e=/\r?\n/);break;case 2:"function"==typeof e?(l=t,t=e,e=/\r?\n/):"object"==typeof t&&(l=t,t=u)}(l=Object.assign({},l)).autoDestroy=!0,l.transform=a,l.flush=o,l.readableObjectMode=!0;let c=new r(l);return c[i]="",c[s]=new n("utf8"),c.matcher=e,c.mapper=t,c.maxLength=l.maxLength,c.skipOverflow=l.skipOverflow||!1,c.overflow=!1,c._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},c}aX(a,"transform"),aX(o,"flush"),aX(l,"push"),aX(u,"noop"),aX(c,"split"),t.exports=c}),oU=aY((e,t)=>{a8();var r=(oA(),a2(oP)),n=(oM(),a2(oI)).Stream,i=o$(),s=(ot(),a2(a7)),a="win32"===aF.platform,o=aF.stderr;function l(e){return(61440&e)==32768}aX(l,"isRegFile");var u=["host","port","database","user","password"],c=u.length,d=u[c-1];function h(){if(o instanceof n&&!0===o.writable){var e=Array.prototype.slice.call(arguments).concat(`
`);o.write(s.format.apply(s,e))}}aX(h,"warn"),Object.defineProperty(t.exports,"isWin",{get:aX(function(){return a},"get"),set:aX(function(e){a=e},"set")}),t.exports.warnTo=function(e){var t=o;return o=e,t},t.exports.getFileName=function(e){var t=e||aF.env;return t.PGPASSFILE||(a?r.join(t.APPDATA||"./","postgresql","pgpass.conf"):r.join(t.HOME||"./",".pgpass"))},t.exports.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(aF.env,"PGPASSWORD")&&(!!a||(t=t||"<unkn>",l(e.mode)?!(63&e.mode)||(h('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):(h('WARNING: password file "%s" is not a plain file',t),!1)))};var f=t.exports.match=function(e,t){return u.slice(0,-1).reduce(function(r,n,i){return 1==i&&Number(e[n]||5432)===Number(t[n])?r&&!0:r&&("*"===t[n]||t[n]===e[n])},!0)};t.exports.getPassword=function(e,t,r){var n,s=t.pipe(i());function a(t){var r=p(t);r&&g(r)&&f(e,r)&&(n=r[d],s.end())}aX(a,"onLine");var o=aX(function(){t.destroy(),r(n)},"onEnd"),l=aX(function(e){t.destroy(),h("WARNING: error on reading file: %s",e),r(void 0)},"onErr");t.on("error",l),s.on("data",a).on("end",o).on("error",l)};var p=t.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",n=0,i=0,s={},a=aX(function(t,r,n){var i=e.substring(r,n);Object.hasOwnProperty.call(aF.env,"PGPASS_NO_DEESCAPE")||(i=i.replace(/\\([:\\])/g,"$1")),s[u[t]]=i},"addToObj"),o=0;o<e.length-1;o+=1){if(t=e.charAt(o+1),r=e.charAt(o),n==c-1){a(n,i);break}o>=0&&":"==t&&"\\"!==r&&(a(n,i,o+1),i=o+2,n+=1)}return s=Object.keys(s).length===c?s:null},g=t.exports.isValidEntry=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||isFinite(e=Number(e))&&e>0&&e<0x20000000000000&&Math.floor(e)===e},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},r=0;r<u.length;r+=1)if(!(0,t[r])(e[u[r]]||""))return!1;return!0}}),oq=aY((e,t)=>{a8(),oA(),a2(oP);var r=(oO(),a2(oN)),n=oU();t.exports=function(e,t){var i=n.getFileName();r.stat(i,function(s,a){if(s||!n.usePgPass(a,i))return t(void 0);var o=r.createReadStream(i);n.getPassword(e,o,t)})},t.exports.warnTo=n.warnTo}),oF=aY((e,t)=>{a8();var r=oS();function n(e){this._types=e||r,this.text={},this.binary={}}aX(n,"TypeOverrides"),n.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(e,t,r){"function"==typeof t&&(r=t,t="text"),this.getOverrides(t)[e]=r},n.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},t.exports=n}),oQ={};aJ(oQ,{default:()=>oV});var oV,oz=aK(()=>{a8(),oV={}}),oZ={};function oG(e,t=!1){let{protocol:r}=new URL(e),{username:n,password:i,host:s,hostname:a,port:o,pathname:l,search:u,searchParams:c,hash:d}=new URL("http:"+e.substring(r.length));i=decodeURIComponent(i),n=decodeURIComponent(n),l=decodeURIComponent(l);let h=n+":"+i,f=t?Object.fromEntries(c.entries()):u;return{href:e,protocol:r,auth:h,username:n,password:i,host:s,hostname:a,port:o,pathname:l,search:u,query:f,hash:d}}aJ(oZ,{parse:()=>oG});var oH=aK(()=>{a8(),aX(oG,"parse")}),oW=aY((e,t)=>{a8();var r=(oH(),a2(oZ)),n=(oO(),a2(oN));function i(e){if("/"===e.charAt(0)){var t=e.split(" ");return{host:t[0],database:t[1]}}var i=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),t=i.query;for(var s in t)Array.isArray(t[s])&&(t[s]=t[s][t[s].length-1]);var a=(i.auth||":").split(":");if(t.user=a[0],t.password=a.splice(1).join(":"),t.port=i.port,"socket:"==i.protocol)return t.host=decodeURI(i.pathname),t.database=i.query.db,t.client_encoding=i.query.encoding,t;t.host||(t.host=i.hostname);var o=i.pathname;if(!t.host&&o&&/^%2f/i.test(o)){var l=o.split("/");t.host=decodeURIComponent(l[0]),o=l.splice(1).join("/")}switch(o&&"/"===o.charAt(0)&&(o=o.slice(1)||null),t.database=o&&decodeURI(o),("true"===t.ssl||"1"===t.ssl)&&(t.ssl=!0),"0"===t.ssl&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&(t.ssl.cert=n.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=n.readFileSync(t.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=n.readFileSync(t.sslrootcert).toString()),t.sslmode){case"disable":t.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":t.ssl.rejectUnauthorized=!1}return t}aX(i,"parse"),t.exports=i,i.parse=i}),oX=aY((e,t)=>{a8();var r=(oz(),a2(oQ)),n=ox(),i=oW().parse,s=aX(function(e,t,r){return void 0===r?r=aF.env["PG"+e.toUpperCase()]:!1===r||(r=aF.env[r]),t[e]||r||n[e]},"val"),a=aX(function(){switch(aF.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),o=aX(function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=aX(function(e,t,r){var n=t[r];null!=n&&e.push(r+"="+o(n))},"add"),u=class{constructor(e){(e="string"==typeof e?i(e):e||{}).connectionString&&(e=Object.assign({},e,i(e.connectionString))),this.user=s("user",e),this.database=s("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(s("port",e),10),this.host=s("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:s("password",e)}),this.binary=s("binary",e),this.options=s("options",e),this.ssl=typeof e.ssl>"u"?a():e.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=s("client_encoding",e),this.replication=s("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=s("application_name",e,"PGAPPNAME"),this.fallback_application_name=s("fallback_application_name",e,!1),this.statement_timeout=s("statement_timeout",e,!1),this.lock_timeout=s("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=s("idle_in_transaction_session_timeout",e,!1),this.query_timeout=s("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=aF.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];l(t,this,"user"),l(t,this,"password"),l(t,this,"port"),l(t,this,"application_name"),l(t,this,"fallback_application_name"),l(t,this,"connect_timeout"),l(t,this,"options");var n="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(t,n,"sslmode"),l(t,n,"sslca"),l(t,n,"sslkey"),l(t,n,"sslcert"),l(t,n,"sslrootcert"),this.database&&t.push("dbname="+o(this.database)),this.replication&&t.push("replication="+o(this.replication)),this.host&&t.push("host="+o(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+o(this.client_encoding)),r.lookup(this.host,function(r,n){return r?e(r,null):(t.push("hostaddr="+o(n)),e(null,t.join(" ")))})}};aX(u,"ConnectionParameters"),t.exports=u}),oK=aY((e,t)=>{a8();var r=oS(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,i=class{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){var t;(t=e.text?n.exec(e.text):n.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++){var i=e[r];null!==i?t[r]=this._parsers[r](i):t[r]=null}return t}parseRow(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r],s=this.fields[r].name;null!==i?t[s]=this._parsers[r](i):t[s]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=Array(e.length));for(var t=0;t<e.length;t++){var n=e[t];this._types?this._parsers[t]=this._types.getTypeParser(n.dataTypeID,n.format||"text"):this._parsers[t]=r.getTypeParser(n.dataTypeID,n.format||"text")}}};aX(i,"Result"),t.exports=i}),oY=aY((e,t)=>{a8();var{EventEmitter:r}=a9(),n=oK(),i=oE(),s=class extends r{constructor(e,t,r){super(),e=i.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,aF.domain&&e.callback&&(this.callback=aF.domain.bind(e.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){this._canceledDueToError=e;return}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(e){aF.nextTick(()=>{throw e})}this.emit("end",this._results)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?Error(`Prepared statements must be \
unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:i.prepareValue})}catch(t){this.handleError(t,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}};aX(s,"Query"),t.exports=s}),oJ={};function o0(e){return 0}aJ(oJ,{Socket:()=>o4,isIP:()=>o0});var o1,o2,o6,o4,o5=aK(()=>{a8(),o1=a1(a9(),1),aX(o0,"isIP"),o2=/^[^.]+\./,o6=class e extends o1.EventEmitter{constructor(){super(...arguments),a6(this,"opts",{}),a6(this,"connecting",!1),a6(this,"pending",!0),a6(this,"writable",!0),a6(this,"encrypted",!1),a6(this,"authorized",!1),a6(this,"destroyed",!1),a6(this,"ws",null),a6(this,"writeBuffer"),a6(this,"tlsState",0),a6(this,"tlsRead"),a6(this,"tlsWrite")}static get poolQueryViaFetch(){return e.opts.poolQueryViaFetch??e.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){e.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return e.opts.fetchEndpoint??e.defaults.fetchEndpoint}static set fetchEndpoint(t){e.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return e.opts.fetchFunction??e.defaults.fetchFunction}static set fetchFunction(t){e.opts.fetchFunction=t}static get webSocketConstructor(){return e.opts.webSocketConstructor??e.defaults.webSocketConstructor}static set webSocketConstructor(t){e.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??e.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return e.opts.wsProxy??e.defaults.wsProxy}static set wsProxy(t){e.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??e.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return e.opts.coalesceWrites??e.defaults.coalesceWrites}static set coalesceWrites(t){e.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??e.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return e.opts.useSecureWebSocket??e.defaults.useSecureWebSocket}static set useSecureWebSocket(t){e.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??e.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return e.opts.forceDisablePgSSL??e.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){e.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??e.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return e.opts.disableSNI??e.defaults.disableSNI}static set disableSNI(t){e.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??e.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return e.opts.pipelineConnect??e.defaults.pipelineConnect}static set pipelineConnect(t){e.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??e.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return e.opts.subtls??e.defaults.subtls}static set subtls(t){e.opts.subtls=t}get subtls(){return this.opts.subtls??e.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return e.opts.pipelineTLS??e.defaults.pipelineTLS}static set pipelineTLS(t){e.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??e.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return e.opts.rootCerts??e.defaults.rootCerts}static set rootCerts(t){e.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??e.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,t){let r=this.wsProxy;if(void 0===r)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return"function"==typeof r?r(e,t):`${r}?address=${e}:${t}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,t,r){this.connecting=!0,r&&this.once("connect",r);let n=aX(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=aX((e,t=!1)=>{e.binaryType="arraybuffer",e.addEventListener("error",e=>{this.emit("error",e),this.emit("close")}),e.addEventListener("message",e=>{if(0===this.tlsState){let t=aq.from(e.data);this.emit("data",t)}}),e.addEventListener("close",()=>{this.emit("close")}),t?n():e.addEventListener("open",n)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(t,"string"==typeof e?parseInt(e,10):e)}catch(e){this.emit("error",e),this.emit("close");return}try{let e=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(void 0!==this.webSocketConstructor)this.ws=new this.webSocketConstructor(e),i(this.ws);else try{this.ws=new WebSocket(e),i(this.ws)}catch{this.ws=new __unstable_WebSocket(e),i(this.ws)}}catch(e){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+s,{headers:{Upgrade:"websocket"}}).then(t=>{if(this.ws=t.webSocket,null==this.ws)throw e;this.ws.accept(),i(this.ws,!0)}).catch(e=>{this.emit("error",Error(`All attempts to open a WebSocket to\
 connect to the database failed. Please refer to https://github.com/neondatabase\
/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\
. Details: ${e.message}`)),this.emit("close")})}}async startTls(e){if(void 0===this.subtls)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let t=this.subtls.TrustedCert.fromPEM(this.rootCerts),r=new this.subtls.WebSocketReadQueue(this.ws),n=r.read.bind(r),i=this.rawWrite.bind(this),[s,a]=await this.subtls.startTls(e,t,n,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(void 0===e)break;{let t=aq.from(e);this.emit("data",t)}}}rawWrite(e){if(!this.coalesceWrites)return void this.ws.send(e);if(void 0===this.writeBuffer)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let t=new Uint8Array(this.writeBuffer.length+e.length);t.set(this.writeBuffer),t.set(e,this.writeBuffer.length),this.writeBuffer=t}}write(e,t="utf8",r=e=>{}){return 0===e.length?r():("string"==typeof e&&(e=aq.from(e,t)),0===this.tlsState?(this.rawWrite(e),r()):1===this.tlsState?this.once("secureConnection",()=>{this.write(e,t,r)}):(this.tlsWrite(e),r())),!0}end(e=aq.alloc(0),t="utf8",r=()=>{}){return this.write(e,t,()=>{this.ws.close(),r()}),this}destroy(){return this.destroyed=!0,this.end()}},aX(o6,"Socket"),a6(o6,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:aX((e,t,r)=>"https://"+(r?.jwtAuth?e.replace(o2,"apiauth."):e.replace(o2,"api."))+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:aX(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),a6(o6,"opts",{}),o4=o6}),o3=aY(e=>{a8(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(e,t,r){super(e),this.length=t,this.name=r}};aX(t,"DatabaseError"),e.DatabaseError=t;var r=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};aX(r,"CopyDataMessage"),e.CopyDataMessage=r;var n=class{constructor(e,t,r,n){this.length=e,this.name=t,this.binary=r,this.columnTypes=Array(n)}};aX(n,"CopyResponse"),e.CopyResponse=n;var i=class{constructor(e,t,r,n,i,s,a){this.name=e,this.tableID=t,this.columnID=r,this.dataTypeID=n,this.dataTypeSize=i,this.dataTypeModifier=s,this.format=a}};aX(i,"Field"),e.Field=i;var s=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=Array(this.fieldCount)}};aX(s,"RowDescriptionMessage"),e.RowDescriptionMessage=s;var a=class{constructor(e,t){this.length=e,this.parameterCount=t,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};aX(a,"ParameterDescriptionMessage"),e.ParameterDescriptionMessage=a;var o=class{constructor(e,t,r){this.length=e,this.parameterName=t,this.parameterValue=r,this.name="parameterStatus"}};aX(o,"ParameterStatusMessage"),e.ParameterStatusMessage=o;var l=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};aX(l,"AuthenticationMD5Password"),e.AuthenticationMD5Password=l;var u=class{constructor(e,t,r){this.length=e,this.processID=t,this.secretKey=r,this.name="backendKeyData"}};aX(u,"BackendKeyDataMessage"),e.BackendKeyDataMessage=u;var c=class{constructor(e,t,r,n){this.length=e,this.processId=t,this.channel=r,this.payload=n,this.name="notification"}};aX(c,"NotificationResponseMessage"),e.NotificationResponseMessage=c;var d=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};aX(d,"ReadyForQueryMessage"),e.ReadyForQueryMessage=d;var h=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};aX(h,"CommandCompleteMessage"),e.CommandCompleteMessage=h;var f=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}};aX(f,"DataRowMessage"),e.DataRowMessage=f;var p=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};aX(p,"NoticeMessage"),e.NoticeMessage=p}),o8=aY(e=>{a8(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=aq.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){var t=this.buffer,r=t.length+(t.length>>1)+e;this.buffer=aq.allocUnsafe(r),t.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){var t=aq.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){var t=aq.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(5*!e,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=aq.allocUnsafe(this.size),t}};aX(t,"Writer"),e.Writer=t}),o9=aY(e=>{a8(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=o8(),r=new t.Writer,n=aX(e=>{for(let t of(r.addInt16(3).addInt16(0),Object.keys(e)))r.addCString(t).addCString(e[t]);r.addCString("client_encoding").addCString("UTF8");var n=r.addCString("").flush(),i=n.length+4;return new t.Writer().addInt32(i).add(n).flush()},"startup"),i=aX(()=>{let e=aq.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(0x4d2162f,4),e},"requestSsl"),s=aX(e=>r.addCString(e).flush(112),"password"),a=aX(function(e,t){return r.addCString(e).addInt32(aq.byteLength(t)).addString(t),r.flush(112)},"sendSASLInitialResponseMessage"),o=aX(function(e){return r.addString(e).flush(112)},"sendSCRAMClientFinalMessage"),l=aX(e=>r.addCString(e).flush(81),"query"),u=[],c=aX(e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let n=e.types||u;for(var i=n.length,s=r.addCString(t).addCString(e.text).addInt16(i),a=0;a<i;a++)s.addInt32(n[a]);return r.flush(80)},"parse"),d=new t.Writer,h=aX(function(e,t){for(let n=0;n<e.length;n++){let i=t?t(e[n],n):e[n];null==i?(r.addInt16(0),d.addInt32(-1)):i instanceof aq?(r.addInt16(1),d.addInt32(i.length),d.add(i)):(r.addInt16(0),d.addInt32(aq.byteLength(i)),d.addString(i))}},"writeValues"),f=aX((e={})=>{let t=e.portal||"",n=e.statement||"",i=e.binary||!1,s=e.values||u,a=s.length;return r.addCString(t).addCString(n),r.addInt16(a),h(s,e.valueMapper),r.addInt16(a),r.add(d.flush()),r.addInt16(+!!i),r.flush(66)},"bind"),p=aq.from([69,0,0,0,9,0,0,0,0,0]),g=aX(e=>{if(!e||!e.portal&&!e.rows)return p;let t=e.portal||"",r=e.rows||0,n=aq.byteLength(t),i=4+n+1+4,s=aq.allocUnsafe(1+i);return s[0]=69,s.writeInt32BE(i,1),s.write(t,5,"utf-8"),s[n+5]=0,s.writeUInt32BE(r,s.length-4),s},"execute"),m=aX((e,t)=>{let r=aq.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},"cancel"),y=aX((e,t)=>{let r=4+aq.byteLength(t)+1,n=aq.allocUnsafe(1+r);return n[0]=e,n.writeInt32BE(r,1),n.write(t,5,"utf-8"),n[r]=0,n},"cstringMessage"),b=r.addCString("P").flush(68),v=r.addCString("S").flush(68),_=aX(e=>e.name?y(68,`${e.type}${e.name||""}`):"P"===e.type?b:v,"describe"),w=aX(e=>y(67,`${e.type}${e.name||""}`),"close"),S=aX(e=>r.add(e).flush(100),"copyData"),x=aX(e=>y(102,e),"copyFail"),E=aX(e=>aq.from([e,0,0,0,4]),"codeOnlyBuffer"),T=E(72),P=E(83),R=E(88),A=E(99);e.serialize={startup:n,password:s,requestSsl:i,sendSASLInitialResponseMessage:a,sendSCRAMClientFinalMessage:o,query:l,parse:c,bind:f,execute:g,describe:_,close:w,flush:aX(()=>T,"flush"),sync:aX(()=>P,"sync"),end:aX(()=>R,"end"),copyData:S,copyDone:aX(()=>A,"copyDone"),copyFail:x,cancel:m}}),o7=aY(e=>{a8(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=aq.allocUnsafe(0),r=class{constructor(e=0){this.offset=e,this.buffer=t,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){let e=this.offset,t=e;for(;0!==this.buffer[t++];);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}};aX(r,"BufferReader"),e.BufferReader=r}),le=aY(e=>{a8(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=o3(),r=o7(),n=aq.allocUnsafe(0),i=class{constructor(e){if(this.buffer=n,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,e?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,t){this.mergeBuffer(e);let r=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+5<=r;){let e=this.buffer[i],n=this.buffer.readUInt32BE(i+1),s=1+n;if(s+i<=r)t(this.handlePacket(i+5,e,n,this.buffer)),i+=s;else break}i===r?(this.buffer=n,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-i,this.bufferOffset=i)}mergeBuffer(e){if(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let e;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let r=2*this.buffer.byteLength;for(;t>=r;)r*=2;e=aq.allocUnsafe(r)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,r,n,i){switch(r){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(e,n,i);case 67:return this.parseCommandCompleteMessage(e,n,i);case 90:return this.parseReadyForQueryMessage(e,n,i);case 65:return this.parseNotificationMessage(e,n,i);case 82:return this.parseAuthenticationResponse(e,n,i);case 83:return this.parseParameterStatusMessage(e,n,i);case 75:return this.parseBackendKeyData(e,n,i);case 69:return this.parseErrorMessage(e,n,i,"error");case 78:return this.parseErrorMessage(e,n,i,"notice");case 84:return this.parseRowDescriptionMessage(e,n,i);case 116:return this.parseParameterDescriptionMessage(e,n,i);case 71:return this.parseCopyInMessage(e,n,i);case 72:return this.parseCopyOutMessage(e,n,i);case 100:return this.parseCopyData(e,n,i);default:return new t.DatabaseError("received invalid response: "+r.toString(16),n,"error")}}parseReadyForQueryMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.string(1);return new t.ReadyForQueryMessage(r,i)}parseCommandCompleteMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.cstring();return new t.CommandCompleteMessage(r,i)}parseCopyData(e,r,n){let i=n.slice(e,e+(r-4));return new t.CopyDataMessage(r,i)}parseCopyInMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyInResponse")}parseCopyOutMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyOutResponse")}parseCopyMessage(e,r,n,i){this.reader.setBuffer(e,n);let s=0!==this.reader.byte(),a=this.reader.int16(),o=new t.CopyResponse(r,i,s,a);for(let e=0;e<a;e++)o.columnTypes[e]=this.reader.int16();return o}parseNotificationMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.cstring(),a=this.reader.cstring();return new t.NotificationResponseMessage(r,i,s,a)}parseRowDescriptionMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int16(),s=new t.RowDescriptionMessage(r,i);for(let e=0;e<i;e++)s.fields[e]=this.parseField();return s}parseField(){let e=this.reader.cstring(),r=this.reader.int32(),n=this.reader.int16(),i=this.reader.int32(),s=this.reader.int16(),a=this.reader.int32(),o=0===this.reader.int16()?"text":"binary";return new t.Field(e,r,n,i,s,a,o)}parseParameterDescriptionMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int16(),s=new t.ParameterDescriptionMessage(r,i);for(let e=0;e<i;e++)s.dataTypeIDs[e]=this.reader.int32();return s}parseDataRowMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int16(),s=Array(i);for(let e=0;e<i;e++){let t=this.reader.int32();s[e]=-1===t?null:this.reader.string(t)}return new t.DataRowMessage(r,s)}parseParameterStatusMessage(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.cstring(),s=this.reader.cstring();return new t.ParameterStatusMessage(r,i,s)}parseBackendKeyData(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int32(),s=this.reader.int32();return new t.BackendKeyDataMessage(r,i,s)}parseAuthenticationResponse(e,r,n){this.reader.setBuffer(e,n);let i=this.reader.int32(),s={name:"authenticationOk",length:r};switch(i){case 0:break;case 3:8===s.length&&(s.name="authenticationCleartextPassword");break;case 5:if(12===s.length){s.name="authenticationMD5Password";let e=this.reader.bytes(4);return new t.AuthenticationMD5Password(r,e)}break;case 10:let a;s.name="authenticationSASL",s.mechanisms=[];do(a=this.reader.cstring())&&s.mechanisms.push(a);while(a)break;case 11:s.name="authenticationSASLContinue",s.data=this.reader.string(r-8);break;case 12:s.name="authenticationSASLFinal",s.data=this.reader.string(r-8);break;default:throw Error("Unknown authenticationOk message type "+i)}return s}parseErrorMessage(e,r,n,i){this.reader.setBuffer(e,n);let s={},a=this.reader.string(1);for(;"\0"!==a;)s[a]=this.reader.cstring(),a=this.reader.string(1);let o=s.M,l="notice"===i?new t.NoticeMessage(r,o):new t.DatabaseError(o,r,i);return l.severity=s.S,l.code=s.C,l.detail=s.D,l.hint=s.H,l.position=s.P,l.internalPosition=s.p,l.internalQuery=s.q,l.where=s.W,l.schema=s.s,l.table=s.t,l.column=s.c,l.dataType=s.d,l.constraint=s.n,l.file=s.F,l.line=s.L,l.routine=s.R,l}};aX(i,"Parser"),e.Parser=i}),lt=aY(e=>{a8(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=o3();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:aX(function(){return t.DatabaseError},"get")});var r=o9();Object.defineProperty(e,"serialize",{enumerable:!0,get:aX(function(){return r.serialize},"get")});var n=le();function i(e,t){let r=new n.Parser;return e.on("data",e=>r.parse(e,t)),new Promise(t=>e.on("end",()=>t()))}aX(i,"parse"),e.parse=i}),lr={};function ln({socket:e,servername:t}){return e.startTls(t),e}aJ(lr,{connect:()=>ln});var li=aK(()=>{a8(),aX(ln,"connect")}),ls=aY((e,t)=>{a8();var r=(o5(),a2(oJ)),n=a9().EventEmitter,{parse:i,serialize:s}=lt(),a=s.flush(),o=s.sync(),l=s.end(),u=class extends n{constructor(e){super(),e=e||{},this.stream=e.stream||new r.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",function(e){"message"===e&&(t._emitMessage=!0)})}connect(e,t){var n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=aX(function(e){n._ending&&("ECONNRESET"===e.code||"EPIPE"===e.code)||n.emit("error",e)},"reportStreamError");if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(e){switch(e.toString("utf8")){case"S":break;case"N":return n.stream.end(),n.emit("error",Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",Error("There was an error establishing an SSL connection"))}var s=(li(),a2(lr));let a={socket:n.stream};!0!==n.ssl&&(Object.assign(a,n.ssl),"key"in n.ssl&&(a.key=n.ssl.key)),0===r.isIP(t)&&(a.servername=t);try{n.stream=s.connect(a)}catch(e){return n.emit("error",e)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(e){e.on("end",()=>{this.emit("end")}),i(e,e=>{var t="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(t,e)})}requestSsl(){this.stream.write(s.requestSsl())}startup(e){this.stream.write(s.startup(e))}cancel(e,t){this._send(s.cancel(e,t))}password(e){this._send(s.password(e))}sendSASLInitialResponseMessage(e,t){this._send(s.sendSASLInitialResponseMessage(e,t))}sendSCRAMClientFinalMessage(e){this._send(s.sendSCRAMClientFinalMessage(e))}_send(e){return!!this.stream.writable&&this.stream.write(e)}query(e){this._send(s.query(e))}parse(e){this._send(s.parse(e))}bind(e){this._send(s.bind(e))}execute(e){this._send(s.execute(e))}flush(){this.stream.writable&&this.stream.write(a)}sync(){this._ending=!0,this._send(a),this._send(o)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){return(this._ending=!0,this._connecting&&this.stream.writable)?this.stream.write(l,()=>{this.stream.end()}):void this.stream.end()}close(e){this._send(s.close(e))}describe(e){this._send(s.describe(e))}sendCopyFromChunk(e){this._send(s.copyData(e))}endCopyFrom(){this._send(s.copyDone())}sendCopyFail(e){this._send(s.copyFail(e))}};aX(u,"Connection"),t.exports=u}),la=aY((e,t)=>{a8();var r=a9().EventEmitter,n=(ot(),a2(a7),oE()),i=oT(),s=oq(),a=oF(),o=oX(),l=oY(),u=ox(),c=ls(),d=class extends r{constructor(e){super(),this.connectionParameters=new o(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||aB.Promise,this._types=new a(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new c({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||u.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=aX(t=>{aF.nextTick(()=>{t.handleError(e,this.connection)})},"enqueueError");this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0}_connect(e){var t=this,r=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let t=Error("Client has already been connected. You cannot reuse a client.");aF.nextTick(()=>{e(t)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{r._ending=!0,r.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){t.ssl?r.requestSsl():r.startup(t.getStartupConf())}),r.on("sslconnect",function(){r.startup(t.getStartupConf())}),this._attachListeners(r),r.once("end",()=>{let e=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(e),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(e):this._handleErrorEvent(e):this._connectionError||this._handleErrorEvent(e)),aF.nextTick(()=>{this.emit("end")})})}connect(e){return e?void this._connect(e):new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let t=this.connection;"function"==typeof this.password?this._Promise.resolve().then(()=>this.password()).then(r=>{if(void 0!==r){if("string"!=typeof r)return void t.emit("error",TypeError("Password must be a string"));this.connectionParameters.password=this.password=r}else this.connectionParameters.password=this.password=null;e()}).catch(e=>{t.emit("error",e)}):null!==this.password?e():s(this.connectionParameters,t=>{void 0!==t&&(this.connectionParameters.password=this.password=t),e()})}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(()=>{let t=n.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{this.saslSession=i.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){i.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(e){i.finalizeSession(this.saslSession,e.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&t.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let t=this.activeQuery;t?(this.activeQuery=null,t.handleError(e,this.connection)):this._handleErrorEvent(e)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){var e=this.connectionParameters,t={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(t.application_name=r),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var r=this.connection;this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else -1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)}setTypeParser(e,t,r){return this._types.setTypeParser(e,t,r)}getTypeParser(e,t){return this._types.getTypeParser(e,t)}escapeIdentifier(e){return'"'+e.replace(/"/g,'""')+'"'}escapeLiteral(e){for(var t=!1,r="'",n=0;n<e.length;n++){var i=e[n];"'"===i?r+=i+i:"\\"===i?(r+=i+i,t=!0):r+=i}return r+="'",!0===t&&(r=" E"+r),r}_pulseQueryQueue(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&aF.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(e,t,r){var n,i,s,a,o;if(null==e)throw TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,"function"==typeof t&&(n.callback=n.callback||t)):(s=this.connectionParameters.query_timeout,(n=new l(e,t,r)).callback||(i=new this._Promise((e,t)=>{n.callback=(r,n)=>r?t(r):e(n)}))),s&&(o=n.callback,a=setTimeout(()=>{var e=Error("Query read timeout");aF.nextTick(()=>{n.handleError(e,this.connection)}),o(e),n.callback=()=>{};var t=this.queryQueue.indexOf(n);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},s),n.callback=(e,t)=>{clearTimeout(a),o(e,t)}),this.binary&&!n.binary&&(n.binary=!0),n._result&&!n._result._types&&(n._result._types=this._types),this._queryable?this._ending?aF.nextTick(()=>{n.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(n),this._pulseQueryQueue()):aF.nextTick(()=>{n.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),i}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting)if(!e)return this._Promise.resolve();else e();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)}};aX(d,"Client"),d.Query=l,t.exports=d}),lo=aY((e,t)=>{a8();var r=a9().EventEmitter,n=aX(function(){},"NOOP"),i=aX((e,t)=>{let r=e.findIndex(t);return -1===r?void 0:e.splice(r,1)[0]},"removeWhere"),s=class{constructor(e,t,r){this.client=e,this.idleListener=t,this.timeoutId=r}};aX(s,"IdleItem");var a=class{constructor(e){this.callback=e}};function o(){throw Error("Release called on client which has already been released to the pool.")}function l(e,t){let r,n;return t?{callback:t,result:void 0}:{callback:aX(function(e,t){e?r(e):n(t)},"cb"),result:new e(function(e,t){n=e,r=t}).catch(e=>{throw Error.captureStackTrace(e),e})}}function u(e,t){return aX(function r(n){n.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",n)}),e._remove(t),e.emit("error",n,t)},"idleListener")}aX(a,"PendingItem"),aX(o,"throwOnDoubleRelease"),aX(l,"promisify"),aX(u,"makeIdleListener");var c=class extends r{constructor(e,t){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),null!=e&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||t||lg().Client,this.Promise=this.options.Promise||aB.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this._idle.pop();clearTimeout(t.timeoutId);let r=t.client;r.ref&&r.ref();let n=t.idleListener;return this._acquireClient(r,e,n,!1)}if(!this._isFull())return this.newClient(e);throw Error("unexpected condition")}_remove(e){let t=i(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){let t=Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}let t=l(this.Promise,e),r=t.result;if(this._isFull()||this._idle.length){if(this._idle.length&&aF.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new a(t.callback)),r;let e=aX((e,r,n)=>{clearTimeout(s),t.callback(e,r,n)},"queueCallback"),n=new a(e),s=setTimeout(()=>{i(this._pendingQueue,t=>t.callback===e),n.timedOut=!0,t.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(n),r}return this.newClient(new a(t.callback)),r}newClient(e){let t=new this.Client(this.options);this._clients.push(t);let r=u(this,t);this.log("checking client timeout");let i,s=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),s=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(o=>{if(i&&clearTimeout(i),t.on("error",r),o)this.log("client failed to connect",o),this._clients=this._clients.filter(e=>e!==t),s&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(o,void 0,n);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let e=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(t),-1!==this._idle.findIndex(e=>e.client===t)&&this._acquireClient(t,new a((e,t,r)=>r()),r,!1)},1e3*this.options.maxLifetimeSeconds);e.unref(),t.once("end",()=>clearTimeout(e))}return this._acquireClient(t,e,r,!0)}})}_acquireClient(e,t,r,i){i&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),t.timedOut?i&&this.options.verify?this.options.verify(e,e.release):e.release():i&&this.options.verify?this.options.verify(e,r=>{if(r)return e.release(r),t.callback(r,void 0,n);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let r=!1;return n=>{r&&o(),r=!0,this._release(e,t,n)}}_release(e,t,r){let n;if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",r,e),r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log("remove expired client"),this._expired.delete(e),this._remove(e),this._pulseQueue();return}this.options.idleTimeoutMillis&&(n=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&n.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new s(e,t,n)),this._pulseQueue()}query(e,t,r){if("function"==typeof e){let t=l(this.Promise,e);return a$(function(){return t.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),t.result}"function"==typeof t&&(r=t,t=void 0);let n=l(this.Promise,r);return r=n.callback,this.connect((n,i)=>{if(n)return r(n);let s=!1,a=aX(e=>{s||(s=!0,i.release(e),r(e))},"onError");i.once("error",a),this.log("dispatching query");try{i.query(e,t,(e,t)=>{if(this.log("query dispatched"),i.removeListener("error",a),!s)return s=!0,i.release(e),e?r(e):r(void 0,t)})}catch(e){return i.release(e),r(e)}}),n.result}end(e){if(this.log("ending"),this.ending){let t=Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;let t=l(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,t)=>e+ +!!this._expired.has(t),0)}get totalCount(){return this._clients.length}};aX(c,"Pool"),t.exports=c}),ll={};aJ(ll,{default:()=>lu});var lu,lc=aK(()=>{a8(),lu={}}),ld=aY((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),lh=aY((e,t)=>{a8();var r=a9().EventEmitter,n=(ot(),a2(a7)),i=oE(),s=t.exports=function(e,t,n){r.call(this),e=i.normalizeQueryConfig(e,t,n),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(e){"row"===e&&(this._emitRowEvents=!0)}).bind(this))};n.inherits(s,r);var a={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};s.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t)e[a[r]||r]=t[r];this.callback?this.callback(e):this.emit("error",e),this.state="error"},s.prototype.then=function(e,t){return this._getPromise().then(e,t)},s.prototype.catch=function(e){return this._getPromise().catch(e)},s.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(e,t){this._once("end",e),this._once("error",t)}).bind(this))),this._promise},s.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=aX(function(r,n,i){if(e.native.arrayMode=!1,a$(function(){t.emit("_done")}),r)return t.handleError(r);t._emitRowEvents&&(i.length>1?n.forEach((e,r)=>{e.forEach(e=>{t.emit("row",e,i[r])})}):n.forEach(function(e){t.emit("row",e,i)})),t.state="end",t.emit("end",i),t.callback&&t.callback(null,i)},"after");if(aF.domain&&(r=aF.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var n=(this.values||[]).map(i.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let e=Error(`Pre\
pared statements must be unique - '${this.name}' was used for a different statem\
ent`);return r(e)}return e.native.execute(this.name,n,r)}return e.native.prepare(this.name,this.text,n.length,function(i){return i?r(i):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,n,r))})}if(this.values){if(!Array.isArray(this.values)){let e=Error("Query values must be an array");return r(e)}var s=this.values.map(i.prepareValue);e.native.query(this.text,s,r)}else e.native.query(this.text,r)}}),lf=aY((e,t)=>{a8();var r=(lc(),a2(ll)),n=oF(),i=(ld(),a9().EventEmitter),s=(ot(),a2(a7)),a=oX(),o=lh(),l=t.exports=function(e){i.call(this),e=e||{},this._Promise=e.Promise||aB.Promise,this._types=new n(e.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new a(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};l.Query=o,s.inherits(l,i),l.prototype._errorAllQueries=function(e){let t=aX(t=>{aF.nextTick(()=>{t.native=this.native,t.handleError(e)})},"enqueueError");this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},l.prototype._connect=function(e){var t=this;this._connecting?aF.nextTick(()=>e(Error("Client has already been connected. You cannot reuse a client."))):(this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(r)return e(r);t.native.connect(n,function(r){if(r)return t.native.end(),e(r);t._connected=!0,t.native.on("error",function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)}),t.native.on("notification",function(e){t.emit("notification",{channel:e.relname,payload:e.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})}))},l.prototype.connect=function(e){return e?void this._connect(e):new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})},l.prototype.query=function(e,t,r){var n,i,s,a,l;if(null==e)throw TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)s=e.query_timeout||this.connectionParameters.query_timeout,i=n=e,"function"==typeof t&&(e.callback=t);else if(s=this.connectionParameters.query_timeout,!(n=new o(e,t,r)).callback){let e,t;i=new this._Promise((r,n)=>{e=r,t=n}),n.callback=(r,n)=>r?t(r):e(n)}return s&&(l=n.callback,a=setTimeout(()=>{var e=Error("Query read timeout");aF.nextTick(()=>{n.handleError(e,this.connection)}),l(e),n.callback=()=>{};var t=this._queryQueue.indexOf(n);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},s),n.callback=(e,t)=>{clearTimeout(a),l(e,t)}),this._queryable?this._ending?(n.native=this.native,aF.nextTick(()=>{n.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(n),this._pulseQueryQueue()):(n.native=this.native,aF.nextTick(()=>{n.handleError(Error("Client has encountered a connection error and is not queryable"))})),i},l.prototype.end=function(e){var t,r=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise(function(t,r){e=aX(e=>e?r(e):t(),"cb")})),this.native.end(function(){r._errorAllQueries(Error("Connection terminated")),aF.nextTick(()=>{r.emit("end"),e&&e()})}),t},l.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},l.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})}},l.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},l.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}}),lp=aY((e,t)=>{a8(),t.exports=lf()}),lg=aY((e,t)=>{a8();var r=la(),n=ox(),i=ls(),s=lo(),{DatabaseError:a}=lt(),o=aX(e=>{var t;return aX(t=class extends s{constructor(t){super(t,e)}},"BoundPool"),t},"poolFactory"),l=aX(function(e){this.defaults=n,this.Client=e,this.Query=this.Client.Query,this.Pool=o(this.Client),this._pools=[],this.Connection=i,this.types=oS(),this.DatabaseError=a},"PG");"u">typeof aF.env.NODE_PG_FORCE_NATIVE?t.exports=new l(lp()):(t.exports=new l(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new l(lp())}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}return Object.defineProperty(t.exports,"native",{value:e}),e}}))});a8();var lm=a1(lg());o5(),a8(),o5(),oH();var ly=a1(oE()),lb=a1(oF());function lv(e){return e instanceof aq?"\\x"+e.toString("hex"):e}aX(lv,"encodeBuffersAsBytea");var l_=class e extends Error{constructor(t){super(t),a6(this,"name","NeonDbError"),a6(this,"severity"),a6(this,"code"),a6(this,"detail"),a6(this,"hint"),a6(this,"position"),a6(this,"internalPosition"),a6(this,"internalQuery"),a6(this,"where"),a6(this,"schema"),a6(this,"table"),a6(this,"column"),a6(this,"dataType"),a6(this,"constraint"),a6(this,"file"),a6(this,"line"),a6(this,"routine"),a6(this,"sourceError"),"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}};aX(l_,"NeonDbError");var lw="transaction() expects an array of queries, or a function returning an array of queries",lS=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function lx(e,{arrayMode:t,fullResults:r,fetchOptions:n,isolationLevel:i,readOnly:s,deferrable:a,queryCallback:o,resultCallback:l,authToken:u}={}){let c;if(!e)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{c=oG(e)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:d,username:h,hostname:f,port:p,pathname:g}=c;if("postgres:"!==d&&"postgresql:"!==d||!h||!f||!g)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function m(e,...t){let r,n;if("string"==typeof e)r=e,n=t[1],t=t[0]??[];else{r="";for(let n=0;n<e.length;n++)r+=e[n],n<t.length&&(r+="$"+(n+1))}let i={query:r,params:t=t.map(e=>lv((0,ly.prepareValue)(e)))};return o&&o(i),lE(y,i,n)}async function y(o,c,d){let h,{fetchEndpoint:g,fetchFunction:m}=o4,y=Array.isArray(o)?{queries:o}:o,b=n??{},v=t??!1,_=r??!1,w=i,S=s,x=a;void 0!==d&&(void 0!==d.fetchOptions&&(b={...b,...d.fetchOptions}),void 0!==d.arrayMode&&(v=d.arrayMode),void 0!==d.fullResults&&(_=d.fullResults),void 0!==d.isolationLevel&&(w=d.isolationLevel),void 0!==d.readOnly&&(S=d.readOnly),void 0!==d.deferrable&&(x=d.deferrable)),void 0===c||Array.isArray(c)||void 0===c.fetchOptions||(b={...b,...c.fetchOptions});let E=u;Array.isArray(c)||c?.authToken===void 0||(E=c.authToken);let T="function"==typeof g?g(f,p,{jwtAuth:void 0!==E}):g,P={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},R=await lP(E);R&&(P.Authorization=`Bearer ${R}`),Array.isArray(o)&&(void 0!==w&&(P["Neon-Batch-Isolation-Level"]=w),void 0!==S&&(P["Neon-Batch-Read-Only"]=String(S)),void 0!==x&&(P["Neon-Batch-Deferrable"]=String(x)));try{h=await (m??fetch)(T,{method:"POST",body:JSON.stringify(y),headers:P,...b})}catch(t){let e=new l_(`Error connecting to database: ${t.message}`);throw e.sourceError=t,e}if(h.ok){let e=await h.json();if(Array.isArray(o)){let t=e.results;if(!Array.isArray(t))throw new l_("Neon internal error: unexpected result format");return t.map((e,t)=>{let r=c[t]??{};return lT(e,{arrayMode:r.arrayMode??v,fullResults:r.fullResults??_,parameterizedQuery:o[t],resultCallback:l,types:r.types})})}{let t=c??{};return lT(e,{arrayMode:t.arrayMode??v,fullResults:t.fullResults??_,parameterizedQuery:o,resultCallback:l,types:t.types})}}{let{status:e}=h;if(400===e){let e=await h.json(),t=new l_(e.message);for(let r of lS)t[r]=e[r]??void 0;throw t}{let t=await h.text();throw new l_(`Server er\
ror (HTTP status ${e}): ${t}`)}}}return aX(m,"resolve"),m.transaction=async(e,t)=>{if("function"==typeof e&&(e=e(m)),!Array.isArray(e))throw Error(lw);return e.forEach(e=>{if("NeonQueryPromise"!==e[Symbol.toStringTag])throw Error(lw)}),y(e.map(e=>e.parameterizedQuery),e.map(e=>e.opts??{}),t)},aX(y,"execute"),m}function lE(e,t,r){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:r,then:aX((n,i)=>e(t,r).then(n,i),"then"),catch:aX(n=>e(t,r).catch(n),"catch"),finally:aX(n=>e(t,r).finally(n),"finally")}}function lT(e,{arrayMode:t,fullResults:r,parameterizedQuery:n,resultCallback:i,types:s}){let a=new lb.default(s),o=e.fields.map(e=>e.name),l=e.fields.map(e=>a.getTypeParser(e.dataTypeID)),u=!0===t?e.rows.map(e=>e.map((e,t)=>null===e?null:l[t](e))):e.rows.map(e=>Object.fromEntries(e.map((e,t)=>[o[t],null===e?null:l[t](e)])));return i&&i(n,e,u,{arrayMode:t,fullResults:r}),r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=u,e._parsers=l,e._types=a,e):u}async function lP(e){if("string"==typeof e)return e;if("function"==typeof e)try{return await Promise.resolve(e())}catch(t){let e=new l_("Error getting auth token.");throw t instanceof Error&&(e=new l_(`Error getting auth toke\
n: ${t.message}`)),e}}aX(lx,"neon"),aX(lE,"createNeonQueryPromise"),aX(lT,"processQueryResult"),aX(lP,"getAuthToken");var lR=a1(oX()),lA=a1(lg()),lN=class extends lm.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:t}=this;t.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&t.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let r=this.config?.host!==void 0||this.config?.connectionString!==void 0||void 0!==aF.env.PGHOST,n=aF.env.USER??aF.env.USERNAME;if(!r&&"localhost"===this.host&&this.user===n&&this.database===n&&null===this.password)throw Error(`No datab\
ase host or connection string was set, and key parameters have default values (h\
ost: localhost, user: ${n}, db: ${n}, password: null). Is an environment variabl\
e missing? Alternatively, if you intended to connect with these parameters, plea\
se set the host to 'localhost' explicitly.`);let i=super.connect(e),s=t.pipelineTLS&&this.ssl,a="password"===t.pipelineConnect;if(!s&&!t.pipelineConnect)return i;let o=this.connection;if(s&&o.on("connect",()=>o.stream.emit("data","S")),a){o.removeAllListeners("authenticationCleartextPassword"),o.removeAllListeners("readyForQuery"),o.once("readyForQuery",()=>o.on("readyForQuery",this._handleReadyForQuery.bind(this)));let e=this.ssl?"sslconnect":"connect";o.on(e,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(e){let t=this.saslSession,r=this.password,n=e.data;if("SASLInitialResponse"!==t.message||"string"!=typeof r||"string"!=typeof n)throw Error("SASL: protocol error");let i=Object.fromEntries(n.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]})),s=i.r,a=i.s,o=i.i;if(!s||!/^[!-+--~]+$/.test(s))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!a||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(a))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!o||!/^[1-9][0-9]*$/.test(o))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!s.startsWith(t.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(s.length===t.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let l=parseInt(o,10),u=aq.from(a,"base64"),c=new TextEncoder,d=c.encode(r),h=await aU.subtle.importKey("raw",d,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),f=new Uint8Array(await aU.subtle.sign("HMAC",h,aq.concat([u,aq.from([0,0,0,1])]))),p=f;for(var g=0;g<l-1;g++)f=new Uint8Array(await aU.subtle.sign("HMAC",h,f)),p=aq.from(p.map((e,t)=>p[t]^f[t]));let m=p,y=await aU.subtle.importKey("raw",m,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),b=new Uint8Array(await aU.subtle.sign("HMAC",y,c.encode("Client Key"))),v=await aU.subtle.digest("SHA-256",b),_="n=*,r="+t.clientNonce,w="r="+s+",s="+a+",i="+l,S="c=biws,r="+s,x=_+","+w+","+S,E=await aU.subtle.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var T=new Uint8Array(await aU.subtle.sign("HMAC",E,c.encode(x))),P=aq.from(b.map((e,t)=>b[t]^T[t])).toString("base64");let R=await aU.subtle.importKey("raw",m,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),A=await aU.subtle.sign("HMAC",R,c.encode("Server Key")),N=await aU.subtle.importKey("raw",A,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var C=aq.from(await aU.subtle.sign("HMAC",N,c.encode(x)));t.message="SASLResponse",t.serverSignature=C.toString("base64"),t.response=S+",p="+P,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};function lC(e,t){let r,n;return t?{callback:t,result:void 0}:{callback:aX(function(e,t){e?r(e):n(t)},"cb"),result:new e(function(e,t){n=e,r=t})}}aX(lN,"NeonClient"),aX(lC,"promisify"),aX(class extends lm.Pool{constructor(){super(...arguments),a6(this,"Client",lN),a6(this,"hasFetchUnsupportedListeners",!1)}on(e,t){return"error"!==e&&(this.hasFetchUnsupportedListeners=!0),super.on(e,t)}query(e,t,r){if(!o4.poolQueryViaFetch||this.hasFetchUnsupportedListeners||"function"==typeof e)return super.query(e,t,r);"function"==typeof t&&(r=t,t=void 0);let n=lC(this.Promise,r);r=n.callback;try{let n=new lR.default(this.options),i=encodeURIComponent,s=encodeURI,a=`postgresql://${i(n.user)}:${i(n.password)}@${i(n.host)}/${s(n.database)}`,o="string"==typeof e?e:e.text,l=t??e.values??[];lx(a,{fullResults:!0,arrayMode:"array"===e.rowMode})(o,l,{types:e.types??this.options?.types}).then(e=>r(void 0,e)).catch(e=>r(e))}catch(e){r(e)}return n.result}},"NeonPool"),lA.ClientBase,lA.Connection,lA.DatabaseError,lA.Query,lA.defaults;var lO=lA.types;class lI{static [tp]="ConsoleLogWriter";write(e){console.log(e)}}class lk{static [tp]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new lI}logQuery(e,t){let r=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),n=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${n}`)}}class lM{static [tp]="NoopLogger";logQuery(){}}class lL{static [tp]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}class lD{constructor(e){this.table=e}static [tp]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class lj{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [tp]="TableAliasProxyHandler";get(e,t){if(t===tH.Symbol.IsAlias)return!0;if(t===tH.Symbol.Name||this.replaceOriginalName&&t===tH.Symbol.OriginalName)return this.alias;if(t===t$)return{...e[t$],name:this.alias,isAlias:!0};if(t===tH.Symbol.Columns){let t=e[tH.Symbol.Columns];if(!t)return t;let r={};return Object.keys(t).map(n=>{r[n]=new Proxy(t[n],new lD(new Proxy(e,this)))}),r}let r=e[t];return tg(r,ty)?new Proxy(r,new lD(new Proxy(e,this))):r}}class lB{constructor(e){this.alias=e}static [tp]="RelationTableAliasProxyHandler";get(e,t){return"sourceTable"===t?l$(e.sourceTable,this.alias):e[t]}}function l$(e,t){return new Proxy(e,new lj(t,!1))}function lU(e,t){return new Proxy(e,new lD(new Proxy(e.table,new lj(t,!1))))}function lq(e,t){return new t0.Aliased(lF(e.sql,t),e.fieldAlias)}function lF(e,t){return t5.join(e.queryChunks.map(e=>tg(e,ty)?lU(e,t):tg(e,t0)?lF(e,t):tg(e,t0.Aliased)?lq(e,t):e))}class lQ{static [tp]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if("_"===t)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(t===t$)return{...e[t$],selectedFields:new Proxy(e[t$].selectedFields,this)};if("symbol"==typeof t)return e[t];let r=(tg(e,tD)?e._.selectedFields:tg(e,rt)?e[t$].selectedFields:e)[t];if(tg(r,t0.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!r.isSelectionField)return r.sql;let e=r.clone();return e.isSelectionField=!0,e}if(tg(r,t0)){if("sql"===this.config.sqlBehavior)return r;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return tg(r,ty)?this.config.alias?new Proxy(r,new lD(new Proxy(r.table,new lj(this.config.alias,this.config.replaceOriginalName??!1)))):r:"object"!=typeof r||null===r?r:new Proxy(r,new lQ(this.config))}}class lV extends lL{constructor(e,t,r,n){super(),this.session=t,this.dialect=r,this.config={table:e,withList:n}}static [tp]="PgDelete";config;where(e){return this.config.where=e,this}returning(e=this.config.table[tH.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=rr(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return tB("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>tB("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new lQ({alias:this.config.table[tb],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}function lz(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function lZ(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,r)=>e+(0===r?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function lG(e){return e}class lH{static [tp]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?lz:"camelCase"===e?lZ:lG}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[tH.Symbol.Schema]??"public",r=e.table[tH.Symbol.OriginalName],n=`${t}.${r}.${e.name}`;return this.cache[n]||this.cacheTable(e.table),this.cache[n]}cacheTable(e){let t=e[tH.Symbol.Schema]??"public",r=e[tH.Symbol.OriginalName],n=`${t}.${r}`;if(!this.cachedTables[n]){for(let t of Object.values(e[tH.Symbol.Columns])){let e=`${n}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[n]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class lW extends Error{static [tp]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class lX extends lW{static [tp]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class lK{static [tp]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new lY(e,this.columns,this.name)}}class lY{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [tp]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[n3.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}function lJ(e,t){return"object"!=typeof t||null===t||!("mapToDriverValue"in t)||"function"!=typeof t.mapToDriverValue||tY(e)||tg(e,t4)||tg(e,t9)||tg(e,ty)||tg(e,tH)||tg(e,rt)?e:new t4(e,t)}let l0=(e,t)=>t5`${e} = ${lJ(t,e)}`,l1=(e,t)=>t5`${e} <> ${lJ(t,e)}`;function l2(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new t0(1===t.length?t:[new tJ("("),t5.join(t,new tJ(" and ")),new tJ(")")])}function l6(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new t0(1===t.length?t:[new tJ("("),t5.join(t,new tJ(" or ")),new tJ(")")])}function l4(e){return t5`not ${e}`}let l5=(e,t)=>t5`${e} > ${lJ(t,e)}`,l3=(e,t)=>t5`${e} >= ${lJ(t,e)}`,l8=(e,t)=>t5`${e} < ${lJ(t,e)}`,l9=(e,t)=>t5`${e} <= ${lJ(t,e)}`;function l7(e,t){return Array.isArray(t)?0===t.length?t5`false`:t5`${e} in ${t.map(t=>lJ(t,e))}`:t5`${e} in ${lJ(t,e)}`}function ue(e,t){return Array.isArray(t)?0===t.length?t5`true`:t5`${e} not in ${t.map(t=>lJ(t,e))}`:t5`${e} not in ${lJ(t,e)}`}function ut(e){return t5`${e} is null`}function ur(e){return t5`${e} is not null`}function un(e){return t5`exists ${e}`}function ui(e){return t5`not exists ${e}`}function us(e,t,r){return t5`${e} between ${lJ(t,e)} and ${lJ(r,e)}`}function ua(e,t,r){return t5`${e} not between ${lJ(t,e)} and ${lJ(r,e)}`}function uo(e,t){return t5`${e} like ${t}`}function ul(e,t){return t5`${e} not like ${t}`}function uu(e,t){return t5`${e} ilike ${t}`}function uc(e,t){return t5`${e} not ilike ${t}`}function ud(e){return t5`${e} asc`}function uh(e){return t5`${e} desc`}class uf{constructor(e,t,r){this.sourceTable=e,this.referencedTable=t,this.relationName=r,this.referencedTableName=t[tH.Symbol.Name]}static [tp]="Relation";referencedTableName;fieldName}class up{constructor(e,t){this.table=e,this.config=t}static [tp]="Relations"}class ug extends uf{constructor(e,t,r,n){super(e,t,r?.relationName),this.config=r,this.isNullable=n}static [tp]="One";withFieldName(e){let t=new ug(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class um extends uf{constructor(e,t,r){super(e,t,r?.relationName),this.config=r}static [tp]="Many";withFieldName(e){let t=new um(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function uy(e){return{one:function(t,r){return new ug(e,t,r,r?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,r){return new um(e,t,r)}}}class ub extends rt{static [tp]="PgViewBase"}class uv{static [tp]="PgDialect";casing;constructor(e){this.casing=new lH(e?.casing)}async migrate(e,t,r){let n="string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i="string"==typeof r?"drizzle":r.migrationsSchema??"drizzle",s=t5`
			CREATE TABLE IF NOT EXISTS ${t5.identifier(i)}.${t5.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute(t5`CREATE SCHEMA IF NOT EXISTS ${t5.identifier(i)}`),await t.execute(s);let a=(await t.all(t5`select id, hash, created_at from ${t5.identifier(i)}.${t5.identifier(n)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let r of e)if(!a||Number(a.created_at)<r.folderMillis){for(let e of r.sql)await t.execute(t5.raw(e));await t.execute(t5`insert into ${t5.identifier(i)}.${t5.identifier(n)} ("hash", "created_at") values(${r.hash}, ${r.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[t5`with `];for(let[r,n]of e.entries())t.push(t5`${t5.identifier(n._.alias)} as (${n._.sql})`),r<e.length-1&&t.push(t5`, `);return t.push(t5` `),t5.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:n}){let i=this.buildWithCTE(n),s=r?t5` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,a=t?t5` where ${t}`:void 0;return t5`${i}delete from ${e}${a}${s}`}buildUpdateSet(e,t){let r=e[tH.Symbol.Columns],n=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),i=n.length;return t5.join(n.flatMap((e,n)=>{let s=r[e],a=t[e]??t5.param(s.onUpdateFn(),s),o=t5`${t5.identifier(this.casing.getColumnCasing(s))} = ${a}`;return n<i-1?[o,t5.raw(", ")]:[o]}))}buildUpdateQuery({table:e,set:t,where:r,returning:n,withList:i,from:s,joins:a}){let o=this.buildWithCTE(i),l=e[n3.Symbol.Name],u=e[n3.Symbol.Schema],c=e[n3.Symbol.OriginalName],d=l===c?void 0:l,h=t5`${u?t5`${t5.identifier(u)}.`:void 0}${t5.identifier(c)}${d&&t5` ${t5.identifier(d)}`}`,f=this.buildUpdateSet(e,t),p=s&&t5.join([t5.raw(" from "),this.buildFromTable(s)]),g=this.buildJoins(a),m=n?t5` returning ${this.buildSelection(n,{isSingleTable:!s})}`:void 0,y=r?t5` where ${r}`:void 0;return t5`${o}update ${h} set ${f}${p}${g}${y}${m}`}buildSelection(e,{isSingleTable:t=!1}={}){let r=e.length,n=e.flatMap(({field:e},n)=>{let i=[];if(tg(e,t0.Aliased)&&e.isSelectionField)i.push(t5.identifier(e.fieldAlias));else if(tg(e,t0.Aliased)||tg(e,t0)){let r=tg(e,t0.Aliased)?e.sql:e;t?i.push(new t0(r.queryChunks.map(e=>tg(e,tA)?t5.identifier(this.casing.getColumnCasing(e)):e))):i.push(r),tg(e,t0.Aliased)&&i.push(t5` as ${t5.identifier(e.fieldAlias)}`)}else tg(e,ty)&&(t?i.push(t5.identifier(this.casing.getColumnCasing(e))):i.push(e));return n<r-1&&i.push(t5`, `),i});return t5.join(n)}buildJoins(e){if(!e||0===e.length)return;let t=[];for(let[r,n]of e.entries()){0===r&&t.push(t5` `);let i=n.table,s=n.lateral?t5` lateral`:void 0;if(tg(i,n3)){let e=i[n3.Symbol.Name],r=i[n3.Symbol.Schema],a=i[n3.Symbol.OriginalName],o=e===a?void 0:n.alias;t.push(t5`${t5.raw(n.joinType)} join${s} ${r?t5`${t5.identifier(r)}.`:void 0}${t5.identifier(a)}${o&&t5` ${t5.identifier(o)}`} on ${n.on}`)}else if(tg(i,rt)){let e=i[t$].name,r=i[t$].schema,a=i[t$].originalName,o=e===a?void 0:n.alias;t.push(t5`${t5.raw(n.joinType)} join${s} ${r?t5`${t5.identifier(r)}.`:void 0}${t5.identifier(a)}${o&&t5` ${t5.identifier(o)}`} on ${n.on}`)}else t.push(t5`${t5.raw(n.joinType)} join${s} ${i} on ${n.on}`);r<e.length-1&&t.push(t5` `)}return t5.join(t)}buildFromTable(e){if(tg(e,tH)&&e[tH.Symbol.OriginalName]!==e[tH.Symbol.Name]){let t=t5`${t5.identifier(e[tH.Symbol.OriginalName])}`;return e[tH.Symbol.Schema]&&(t=t5`${t5.identifier(e[tH.Symbol.Schema])}.${t}`),t5`${t} ${t5.identifier(e[tH.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:t,fieldsFlat:r,where:n,having:i,table:s,joins:a,orderBy:o,groupBy:l,limit:u,offset:c,lockingClause:d,distinct:h,setOperators:f}){let p,g,m,y=r??rr(t);for(let e of y){let t;if(tg(e.field,ty)&&e.field.table[tb]!==(tg(s,tD)?s._.alias:tg(s,ub)?s[t$].name:tg(s,t0)?void 0:s[tb])&&(t=e.field.table,!a?.some(({alias:e})=>e===(t[tH.Symbol.IsAlias]?t[tb]:t[tH.Symbol.BaseName])))){let t=e.field.table[tb];throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let b=!a||0===a.length,v=this.buildWithCTE(e);h&&(p=!0===h?t5` distinct`:t5` distinct on (${t5.join(h.on,t5`, `)})`);let _=this.buildSelection(y,{isSingleTable:b}),w=this.buildFromTable(s),S=this.buildJoins(a),x=n?t5` where ${n}`:void 0,E=i?t5` having ${i}`:void 0;o&&o.length>0&&(g=t5` order by ${t5.join(o,t5`, `)}`),l&&l.length>0&&(m=t5` group by ${t5.join(l,t5`, `)}`);let T="object"==typeof u||"number"==typeof u&&u>=0?t5` limit ${u}`:void 0,P=c?t5` offset ${c}`:void 0,R=t5.empty();if(d){let e=t5` for ${t5.raw(d.strength)}`;d.config.of&&e.append(t5` of ${t5.join(Array.isArray(d.config.of)?d.config.of:[d.config.of],t5`, `)}`),d.config.noWait?e.append(t5` no wait`):d.config.skipLocked&&e.append(t5` skip locked`),R.append(e)}let A=t5`${v}select${p} ${_} from ${w}${S}${x}${m}${E}${g}${T}${P}${R}`;return f.length>0?this.buildSetOperations(A,f):A}buildSetOperations(e,t){let[r,...n]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===n.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),n)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:r,rightSelect:n,limit:i,orderBy:s,offset:a}}){let o,l=t5`(${e.getSQL()}) `,u=t5`(${n.getSQL()})`;if(s&&s.length>0){let e=[];for(let t of s)if(tg(t,tA))e.push(t5.identifier(t.name));else if(tg(t,t0)){for(let e=0;e<t.queryChunks.length;e++){let r=t.queryChunks[e];tg(r,tA)&&(t.queryChunks[e]=t5.identifier(r.name))}e.push(t5`${t}`)}else e.push(t5`${t}`);o=t5` order by ${t5.join(e,t5`, `)} `}let c="object"==typeof i||"number"==typeof i&&i>=0?t5` limit ${i}`:void 0,d=t5.raw(`${t} ${r?"all ":""}`),h=a?t5` offset ${a}`:void 0;return t5`${l}${d}${u}${o}${c}${h}`}buildInsertQuery({table:e,values:t,onConflict:r,returning:n,withList:i,select:s,overridingSystemValue_:a}){let o=[],l=Object.entries(e[tH.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),u=l.map(([,e])=>t5.identifier(this.casing.getColumnCasing(e)));if(s)tg(t,t0)?o.push(t):o.push(t.getSQL());else for(let[e,r]of(o.push(t5.raw("values ")),t.entries())){let n=[];for(let[e,t]of l){let i=r[e];if(void 0===i||tg(i,t4)&&void 0===i.value)if(void 0!==t.defaultFn){let e=t.defaultFn(),r=tg(e,t0)?e:t5.param(e,t);n.push(r)}else if(t.default||void 0===t.onUpdateFn)n.push(t5`default`);else{let e=t.onUpdateFn(),r=tg(e,t0)?e:t5.param(e,t);n.push(r)}else n.push(i)}o.push(n),e<t.length-1&&o.push(t5`, `)}let c=this.buildWithCTE(i),d=t5.join(o),h=n?t5` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,f=r?t5` on conflict ${r}`:void 0,p=!0===a?t5`overriding system value `:void 0;return t5`${c}insert into ${e} ${u} ${p}${d}${f}${h}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:r}){let n=t?t5` concurrently`:void 0,i=r?t5` with no data`:void 0;return t5`refresh materialized view${n} ${e}${i}`}prepareTyping(e){if(tg(e,rJ)||tg(e,rX))return"json";if(tg(e,nn))return"decimal";if(tg(e,nk))return"time";if(tg(e,nD)||tg(e,nB))return"timestamp";if(tg(e,rk)||tg(e,rL))return"date";else if(tg(e,nq))return"uuid";else return"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:n,tableConfig:i,queryConfig:s,tableAlias:a,nestedQueryRelation:o,joinOn:l}){let u,c=[],d,h,f=[],p,g=[];if(!0===s)c=Object.entries(i.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:lU(t,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let n=Object.fromEntries(Object.entries(i.columns).map(([e,t])=>[e,lU(t,a)]));if(s.where){let e="function"==typeof s.where?s.where(n,{and:l2,between:us,eq:l0,exists:un,gt:l5,gte:l3,ilike:uu,inArray:l7,isNull:ut,isNotNull:ur,like:uo,lt:l8,lte:l9,ne:l1,not:l4,notBetween:ua,notExists:ui,notLike:ul,notIlike:uc,notInArray:ue,or:l6,sql:t5}):s.where;p=e&&lF(e,a)}let o=[],l=[];if(s.columns){let e=!1;for(let[t,r]of Object.entries(s.columns))void 0!==r&&t in i.columns&&(e||!0!==r||(e=!0),l.push(t));l.length>0&&(l=e?l.filter(e=>s.columns?.[e]===!0):Object.keys(i.columns).filter(e=>!l.includes(e)))}else l=Object.keys(i.columns);for(let e of l){let t=i.columns[e];o.push({tsKey:e,value:t})}let u=[];if(s.with&&(u=Object.entries(s.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:i.relations[e]}))),s.extras)for(let[e,t]of Object.entries("function"==typeof s.extras?s.extras(n,{sql:t5}):s.extras))o.push({tsKey:e,value:lq(t,a)});for(let{tsKey:e,value:t}of o)c.push({dbKey:tg(t,t0.Aliased)?t.fieldAlias:i.columns[e].name,tsKey:e,field:tg(t,ty)?lU(t,a):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let m="function"==typeof s.orderBy?s.orderBy(n,{sql:t5,asc:ud,desc:uh}):s.orderBy??[];for(let{tsKey:n,queryConfig:i,relation:o}of(Array.isArray(m)||(m=[m]),f=m.map(e=>tg(e,ty)?lU(e,a):lF(e,a)),d=s.limit,h=s.offset,u)){let s=function(e,t,r){if(tg(r,ug)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=t[tX(r.referencedTable)];if(!n)throw Error(`Table "${r.referencedTable[tH.Symbol.Name]}" not found in schema`);let i=e[n];if(!i)throw Error(`Table "${n}" not found in schema`);let s=r.sourceTable,a=t[tX(s)];if(!a)throw Error(`Table "${s[tH.Symbol.Name]}" not found in schema`);let o=[];for(let e of Object.values(i.relations))(r.relationName&&r!==e&&e.relationName===r.relationName||!r.relationName&&e.referencedTable===r.sourceTable)&&o.push(e);if(o.length>1)throw r.relationName?Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):Error(`There are multiple relations between "${n}" and "${r.sourceTable[tH.Symbol.Name]}". Please specify relation name`);if(o[0]&&tg(o[0],ug)&&o[0].config)return{fields:o[0].config.references,references:o[0].config.fields};throw Error(`There is not enough information to infer relation "${a}.${r.fieldName}"`)}(t,r,o),l=r[tX(o.referencedTable)],u=`${a}_${n}`,d=l2(...s.fields.map((e,t)=>l0(lU(s.references[t],u),lU(e,a)))),h=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:e[l],tableConfig:t[l],queryConfig:tg(o,ug)?!0===i?{limit:1}:{...i,limit:1}:i,tableAlias:u,joinOn:d,nestedQueryRelation:o}),f=t5`${t5.identifier(u)}.${t5.identifier("data")}`.as(n);g.push({on:t5`true`,table:new tD(h.sql,{},u),alias:u,joinType:"left",lateral:!0}),c.push({dbKey:n,tsKey:n,field:f,relationTableTsKey:l,isJson:!0,selection:h.selection})}}if(0===c.length)throw new lW({message:`No fields selected for table "${i.tsName}" ("${a}")`});if(p=l2(l,p),o){let e=t5`json_build_array(${t5.join(c.map(({field:e,tsKey:t,isJson:r})=>r?t5`${t5.identifier(`${a}_${t}`)}.${t5.identifier("data")}`:tg(e,t0.Aliased)?e.sql:e),t5`, `)})`;tg(o,um)&&(e=t5`coalesce(json_agg(${e}${f.length>0?t5` order by ${t5.join(f,t5`, `)}`:void 0}), '[]'::json)`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:c}];void 0!==d||void 0!==h||f.length>0?(u=this.buildSelectQuery({table:l$(n,a),fields:{},fieldsFlat:[{path:[],field:t5.raw("*")}],where:p,limit:d,offset:h,orderBy:f,setOperators:[]}),p=void 0,d=void 0,h=void 0,f=[]):u=l$(n,a),u=this.buildSelectQuery({table:tg(u,n3)?u:new tD(u,{},a),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:tg(e,ty)?lU(e,a):e})),joins:g,where:p,limit:d,offset:h,orderBy:f,setOperators:[]})}else u=this.buildSelectQuery({table:l$(n,a),fields:{},fieldsFlat:c.map(({field:e})=>({path:[],field:tg(e,ty)?lU(e,a):e})),joins:g,where:p,limit:d,offset:h,orderBy:f,setOperators:[]});return{tableTsKey:i.tsName,sql:u,selection:c}}}class u_{static [tp]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class uw{static [tp]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let t,r=!!this.fields;return t=this.fields?this.fields:tg(e,tD)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):tg(e,ub)?e[t$].selectedFields:tg(e,t0)?{}:rs(e),new ux({table:e,fields:t,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class uS extends u_{static [tp]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:r,session:n,dialect:i,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=n,this.dialect=i,this._={selectedFields:t},this.tableName=ra(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(t,r)=>{let n=this.tableName,i=ra(t);if("string"==typeof i&&this.config.joins?.some(e=>e.alias===i))throw Error(`Alias "${i}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof n&&(this.config.fields={[n]:this.config.fields}),"string"==typeof i&&!tg(t,t0))){let e=tg(t,tD)?t._.selectedFields:tg(t,rt)?t[t$].selectedFields:t[tH.Symbol.Columns];this.config.fields[i]=e}if("function"==typeof r&&(r=r(new Proxy(this.config.fields,new lQ({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:t,joinType:e,alias:i}),"string"==typeof i)switch(e){case"left":this.joinsNotNullableMap[i]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[i]=!0;break;case"inner":this.joinsNotNullableMap[i]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[i]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return r=>{let n="function"==typeof r?r(uT()):r;if(!rn(this.getSelectedFields(),n.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:n}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new lQ({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new lQ({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new lQ({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new lQ({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new tD(this.getSQL(),this.config.fields,e),new lQ({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new lQ({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class ux extends uS{static [tp]="PgSelect";_prepare(e){let{session:t,config:r,dialect:n,joinsNotNullableMap:i,authToken:s}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");return tB("drizzle.prepareQuery",()=>{let a=rr(r.fields),o=t.prepareQuery(n.sqlToQuery(this.getSQL()),a,e,!0);return o.joinsNotNullableMap=i,o.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>tB("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}for(let e of[lL])for(let t of Object.getOwnPropertyNames(e.prototype))"constructor"!==t&&Object.defineProperty(ux.prototype,t,Object.getOwnPropertyDescriptor(e.prototype,t)||Object.create(null));function uE(e,t){return(r,n,...i)=>{let s=[n,...i].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of s)if(!rn(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(s)}}let uT=()=>({union:uP,unionAll:uR,intersect:uA,intersectAll:uN,except:uC,exceptAll:uO}),uP=uE("union",!1),uR=uE("union",!0),uA=uE("intersect",!1),uN=uE("intersect",!0),uC=uE("except",!1),uO=uE("except",!0);class uI{static [tp]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=tg(e,uv)?e:void 0,this.dialectConfig=tg(e,uv)?void 0:e}$with=(e,t)=>{let r=this;return{as:n=>("function"==typeof n&&(n=n(r)),new Proxy(new tj(n.getSQL(),t??("getSelectedFields"in n?n.getSelectedFields()??{}:{}),e,!0),new lQ({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new uw({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new uw({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,r){return new uw({fields:r??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new uw({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new uw({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new uw({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new uv(this.dialectConfig)),this.dialect}}class uk{constructor(e,t,r,n,i){this.table=e,this.session=t,this.dialect=r,this.withList=n,this.overridingSystemValue_=i}static [tp]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},r=this.table[tH.Symbol.Columns];for(let n of Object.keys(e)){let i=e[n];t[n]=tg(i,t0)?i:new t4(i,r[n])}return t});return new uM(this.table,t,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let t="function"==typeof e?e(new uI):e;if(!tg(t,t0)&&!rn(this.table[tq],t._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new uM(this.table,t,this.session,this.dialect,this.withList,!0)}}class uM extends lL{constructor(e,t,r,n,i,s,a){super(),this.session=r,this.dialect=n,this.config={table:e,values:t,withList:i,select:s,overridingSystemValue_:a}}static [tp]="PgInsert";config;returning(e=this.config.table[tH.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=rr(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=t5`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let r=e.where?t5` where ${e.where}`:void 0;this.config.onConflict=t5`(${t5.raw(t)})${r} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?t5` where ${e.where}`:void 0,r=e.targetWhere?t5` where ${e.targetWhere}`:void 0,n=e.setWhere?t5` where ${e.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,ri(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=t5`(${t5.raw(s)})${r} do update set ${i}${t}${n}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return tB("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>tB("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new lQ({alias:this.config.table[tb],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class uL{constructor(e,t,r,n){this.table=e,this.session=t,this.dialect=r,this.withList=n}static [tp]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new uD(this.table,ri(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class uD extends lL{constructor(e,t,r,n,i){super(),this.session=r,this.dialect=n,this.config={set:t,table:e,withList:i,joins:[]},this.tableName=ra(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [tp]="PgUpdate";config;tableName;joinsNotNullableMap;from(e){let t=ra(e);return"string"==typeof t&&(this.joinsNotNullableMap[t]=!0),this.config.from=e,this}getTableLikeFields(e){return tg(e,n3)?e[tH.Symbol.Columns]:tg(e,tD)?e._.selectedFields:e[t$].selectedFields}createJoin(e){return(t,r)=>{let n=ra(t);if("string"==typeof n&&this.config.joins.some(e=>e.alias===n))throw Error(`Alias "${n}" is already used in this query`);if("function"==typeof r){let e=this.config.from&&!tg(this.config.from,t0)?this.getTableLikeFields(this.config.from):void 0;r=r(new Proxy(this.config.table[tH.Symbol.Columns],new lQ({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new lQ({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:r,table:t,joinType:e,alias:n}),"string"==typeof n)switch(e){case"left":this.joinsNotNullableMap[n]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[n]=!0;break;case"inner":this.joinsNotNullableMap[n]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[n]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[tH.Symbol.Columns]),this.config.from)){let t=ra(this.config.from);if("string"==typeof t&&this.config.from&&!tg(this.config.from,t0)){let r=this.getTableLikeFields(this.config.from);e[t]=r}for(let t of this.config.joins){let r=ra(t.table);if("string"==typeof r&&!tg(t.table,t0)){let n=this.getTableLikeFields(t.table);e[r]=n}}}return this.config.returningFields=e,this.config.returning=rr(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){let t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new lQ({alias:this.config.table[tb],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class uj extends t0{constructor(e){super(uj.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=uj.buildCount(e.source,e.filters)}sql;token;static [tp]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return t5`(select count(*) from ${e}${t5.raw(" where ").if(t)}${t})`}static buildCount(e,t){return t5`select count(*) as count from ${e}${t5.raw(" where ").if(t)}${t};`}setToken(e){return this.token=e,this}then(e,t){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}class uB{constructor(e,t,r,n,i,s,a){this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=s,this.session=a}static [tp]="PgRelationalQueryBuilder";findMany(e){return new u$(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new u$(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class u$ extends lL{constructor(e,t,r,n,i,s,a,o,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=s,this.session=a,this.config=o,this.mode=l}static [tp]="PgRelationalQuery";_prepare(e){return tB("drizzle.prepareQuery",()=>{let{query:t,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,e,!0,(e,r)=>{let n=e.map(e=>(function e(t,r,n,i,s=e=>e){let a={};for(let[o,l]of i.entries())if(l.isJson){let i=r.relations[l.tsKey],u=n[o],c="string"==typeof u?JSON.parse(u):u;a[l.tsKey]=tg(i,ug)?c&&e(t,t[l.relationTableTsKey],c,l.selection,s):c.map(r=>e(t,t[l.relationTableTsKey],r,l.selection,s))}else{let e,t=s(n[o]),r=l.field;e=tg(r,ty)?r:tg(r,t0)?r.decoder:r.sql.decoder,a[l.tsKey]=null===t?null:e.mapFromDriverValue(t)}return a})(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?n[0]:n})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return tB("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class uU extends lL{constructor(e,t,r,n){super(),this.execute=e,this.sql=t,this.query=r,this.mapBatchResult=n}static [tp]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class uq extends lL{constructor(e,t,r){super(),this.session=t,this.dialect=r,this.config={view:e}}static [tp]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return tB("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>tB("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class uF{constructor(e,t,r){if(this.dialect=e,this.session=t,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(const[n,i]of Object.entries(this._.schema))this.query[n]=new uB(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[n],i,e,t)}static [tp]="PgDatabase";query;$with=(e,t)=>{let r=this;return{as:n=>("function"==typeof n&&(n=n(new uI(r.dialect))),new Proxy(new tj(n.getSQL(),t??("getSelectedFields"in n?n.getSelectedFields()??{}:{}),e,!0),new lQ({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new uj({source:e,filters:t,session:this.session})}with(...e){let t=this;return{select:function(r){return new uw({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new uw({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(r,n){return new uw({fields:n??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:r}})},update:function(r){return new uL(r,t.session,t.dialect,e)},insert:function(r){return new uk(r,t.session,t.dialect,e)},delete:function(r){return new lV(r,t.session,t.dialect,e)}}}select(e){return new uw({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new uw({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new uw({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new uL(e,this.session,this.dialect)}insert(e){return new uk(e,this.session,this.dialect)}delete(e){return new lV(e,this.session,this.dialect)}refreshMaterializedView(e){return new uq(e,this.session,this.dialect)}authToken;execute(e){let t="string"==typeof e?t5.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(t),n=this.session.prepareQuery(r,void 0,void 0,!1);return new uU(()=>n.execute(void 0,this.authToken),t,r,e=>n.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}class uQ{constructor(e){this.query=e}authToken;getQuery(){return this.query}mapResult(e,t){return e}setToken(e){return this.authToken=e,this}static [tp]="PgPreparedQuery";joinsNotNullableMap}class uV{constructor(e){this.dialect=e}static [tp]="PgSession";execute(e,t){return tB("drizzle.operation",()=>tB("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(t).execute(void 0,t))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,t){return Number((await this.execute(e,t))[0].count)}}class uz extends uF{constructor(e,t,r,n=0){super(e,t,r),this.schema=r,this.nestedIndex=n}static [tp]="PgTransaction";rollback(){throw new lX}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),t5.raw(t.join(" "))}setTransaction(e){return this.session.execute(t5`set transaction ${this.getTransactionConfigSQL(e)}`)}}let uZ={arrayMode:!1,fullResults:!0},uG={arrayMode:!0,fullResults:!0};class uH extends uQ{constructor(e,t,r,n,i,s){super(t),this.client=e,this.logger=r,this.fields=n,this._isResponseInArrayMode=i,this.customResultMapper=s}static [tp]="NeonHttpPreparedQuery";async execute(e={},t=this.authToken){let r=t7(this.query.params,e);this.logger.logQuery(this.query.sql,r);let{fields:n,client:i,query:s,customResultMapper:a}=this;if(!n&&!a)return i(s.sql,r,void 0===t?uZ:{...uZ,authToken:t});let o=await i(s.sql,r,void 0===t?uG:{...uG,authToken:t});return this.mapResult(o)}mapResult(e){if(!this.fields&&!this.customResultMapper)return e;let t=e.rows;return this.customResultMapper?this.customResultMapper(t):t.map(e=>(function(e,t,r){let n={},i=e.reduce((e,{path:i,field:s},a)=>{let o;o=tg(s,ty)?s:tg(s,t0)?s.decoder:s.sql.decoder;let l=e;for(let[e,u]of i.entries())if(e<i.length-1)u in l||(l[u]={}),l=l[u];else{let e=t[a],c=l[u]=null===e?null:o.mapFromDriverValue(e);if(r&&tg(s,ty)&&2===i.length){let e=i[0];e in n?"string"==typeof n[e]&&n[e]!==s.table[tb]&&(n[e]=!1):n[e]=null===c&&s.table[tb]}}return e},{});if(r&&Object.keys(n).length>0)for(let[e,t]of Object.entries(n))"string"!=typeof t||r[t]||(i[e]=null);return i})(this.fields,e,this.joinsNotNullableMap))}all(e={}){let t=t7(this.query.params,e);return this.logger.logQuery(this.query.sql,t),this.client(this.query.sql,t,void 0===this.authToken?uZ:{...uZ,authToken:this.authToken}).then(e=>e.rows)}values(e={},t){let r=t7(this.query.params,e);return this.logger.logQuery(this.query.sql,r),this.client(this.query.sql,r,{arrayMode:!0,fullResults:!0,authToken:t}).then(e=>e.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}}class uW extends uV{constructor(e,t,r,n={}){super(t),this.client=e,this.schema=r,this.options=n,this.logger=n.logger??new lM}static [tp]="NeonHttpSession";logger;prepareQuery(e,t,r,n,i){return new uH(this.client,e,this.logger,t,n,i)}async batch(e){let t=[],r=[];for(let n of e){let e=n._prepare(),i=e.getQuery();t.push(e),r.push(this.client(i.sql,i.params,{fullResults:!0,arrayMode:e.isResponseInArrayMode()}))}return(await this.client.transaction(r,uG)).map((e,r)=>t[r].mapResult(e,!0))}async query(e,t){return this.logger.logQuery(e,t),await this.client(e,t,{arrayMode:!0,fullResults:!0})}async queryObjects(e,t){return this.client(e,t,{arrayMode:!1,fullResults:!0})}async count(e,t){return Number((await this.execute(e,t)).rows[0].count)}async transaction(e,t={}){throw Error("No transactions support in neon-http driver")}}class uX extends uz{static [tp]="NeonHttpTransaction";async transaction(e){throw Error("No transactions support in neon-http driver")}}class uK{constructor(e,t,r={}){this.client=e,this.dialect=t,this.options=r,this.initMappers()}static [tp]="NeonHttpDriver";createSession(e){return new uW(this.client,this.dialect,e,{logger:this.options.logger})}initMappers(){lO.setTypeParser(lO.builtins.TIMESTAMPTZ,e=>e),lO.setTypeParser(lO.builtins.TIMESTAMP,e=>e),lO.setTypeParser(lO.builtins.DATE,e=>e),lO.setTypeParser(lO.builtins.INTERVAL,e=>e)}}function uY(e,t,r,n){return new Proxy(e,{get(e,i){let s=e[i];return"function"!=typeof s&&("object"!=typeof s||null===s)?s:n?uY(s,t,r):"query"===i?uY(s,t,r,!0):new Proxy(s,{apply(e,n,s){let a=e.call(n,...s);return"object"==typeof a&&null!==a&&"setToken"in a&&"function"==typeof a.setToken&&a.setToken(t),r(e,i,a)}})}})}class uJ extends uF{static [tp]="NeonHttpDatabase";$withAuth(e){return this.authToken=e,uY(this,e,(t,r,n)=>"with"===r?uY(n,e,(e,t,r)=>r):n)}async batch(e){return this.session.batch(e)}}function u0(e,t={}){let r,n,i=new uv({casing:t.casing});if(!0===t.logger?r=new lk:!1!==t.logger&&(r=t.logger),t.schema){let e=function(e,t){1===Object.keys(e).length&&"default"in e&&!tg(e.default,tH)&&(e=e.default);let r={},n={},i={};for(let[s,a]of Object.entries(e))if(tg(a,tH)){let e=tX(a),t=n[e];for(let n of(r[e]=s,i[s]={tsName:s,dbName:a[tH.Symbol.Name],schema:a[tH.Symbol.Schema],columns:a[tH.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(a[tH.Symbol.Columns])))n.primary&&i[s].primaryKey.push(n);let o=a[tH.Symbol.ExtraConfigBuilder]?.(a[tH.Symbol.ExtraConfigColumns]);if(o)for(let e of Object.values(o))tg(e,lK)&&i[s].primaryKey.push(...e.columns)}else if(tg(a,up)){let e,s=tX(a.table),o=r[s];for(let[r,l]of Object.entries(a.config(t(a.table))))if(o){let t=i[o];t.relations[r]=l,e&&t.primaryKey.push(...e)}else s in n||(n[s]={relations:{},primaryKey:e}),n[s].relations[r]=l}return{tables:i,tableNamesMap:r}}(t.schema,uy);n={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let s=new uK(e,i,{logger:r}).createSession(n),a=new uJ(i,s,n);return a.$client=e,a}function u1(...e){if("string"==typeof e[0])return u0(lx(e[0]),e[1]);if(function(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.logger;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.logger;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}(e[0])){let{connection:t,client:r,...n}=e[0];if(r)return u0(r,n);if("object"==typeof t){let{connectionString:e,...r}=t;return u0(lx(e,r),n)}return u0(lx(t),n)}return u0(e[0],e[1])}(u1||(u1={})).mock=function(e){return u0({},e)};var u2=e.i(90337);process.env.DATABASE_URL||process.env.MONGO_URI||console.warn("DATABASE_URL is not set and MONGO_URI is missing. Database features will not work.");let u6=process.env.DATABASE_URL&&(process.env.DATABASE_URL.startsWith("postgres")||process.env.DATABASE_URL.startsWith("neondb"));process.env.DATABASE_URL&&!u6&&console.warn("DATABASE_URL is set but does not look like a Postgres URL (e.g. MongoDB). Falling back to in-memory storage.");let u4=u6?u1(lx(process.env.DATABASE_URL),{schema:u2}):null;var u5=e.i(64328);let u3=async()=>{if(!(u5.default.connection.readyState>=1)){if(!process.env.MONGO_URI)throw Error("MONGO_URI not set");await u5.default.connect(process.env.MONGO_URI,{serverSelectionTimeoutMS:5e3,family:4})}},u8=new u5.default.Schema({id:{type:String,default:()=>aQ.default.randomUUID(),unique:!0},username:{type:String,required:!0,unique:!0},password:{type:String,required:!0}}),u9=new u5.default.Schema({id:{type:String,default:()=>aQ.default.randomUUID(),unique:!0},title:{type:String,required:!0},description:{type:String,required:!0},category:{type:String,required:!0},imageUrl:{type:String,required:!0},link:{type:String},featured:{type:String,default:"false"}}),u7=new u5.default.Schema({id:{type:String,default:()=>aQ.default.randomUUID(),unique:!0},name:{type:String,required:!0},email:{type:String,required:!0},company:{type:String},message:{type:String,required:!0},createdAt:{type:Date,default:Date.now}}),ce=new u5.default.Schema({id:{type:String,default:()=>aQ.default.randomUUID(),unique:!0},txRef:{type:String,required:!0,unique:!0},email:{type:String,required:!0},amount:{type:String,required:!0},currency:{type:String,required:!0},status:{type:String,default:"pending"},data:{type:String},createdAt:{type:Date,default:Date.now}}),ct=u5.default.models.User||u5.default.model("User",u8),cr=u5.default.models.Project||u5.default.model("Project",u9),cn=u5.default.models.ContactRequest||u5.default.model("ContactRequest",u7),ci=u5.default.models.Payment||u5.default.model("Payment",ce);class cs{constructor(){u3().catch(e=>console.error("MongoDB connection error:",e))}mapDoc(e){let t=e.toObject();return t.createdAt instanceof Date&&(t.createdAt=t.createdAt.toISOString()),delete t._id,delete t.__v,t}async ensureConnection(){if(1!==u5.connection.readyState)try{await u3()}catch(e){throw console.error("MongoDB still disconnected. Operation may fail or timeout."),e}}async getUser(e){try{await this.ensureConnection();let t=await ct.findOne({id:e});return t?this.mapDoc(t):void 0}catch(e){console.error("MongoStorage.getUser fallback error:",e);return}}async getUserByUsername(e){try{await this.ensureConnection();let t=await ct.findOne({username:e});return t?this.mapDoc(t):void 0}catch(e){console.error("MongoStorage.getUserByUsername fallback error:",e);return}}async createUser(e){await this.ensureConnection();let t=await ct.create(e);return this.mapDoc(t)}async createContactRequest(e){await this.ensureConnection();let t=await cn.create(e);return this.mapDoc(t)}async getProjects(){try{1!==u5.connection.readyState&&(console.warn("[MongoStorage] MongoDB not connected, returning empty list or fallback projects would be better here."),await Promise.race([this.ensureConnection(),new Promise((e,t)=>setTimeout(()=>t(Error("Timeout")),2e3))]));let e=await cr.find().lean();if(0===e.length){for(let e of[{title:"TenantFlow  Landlord CRM template",description:"A vertical starter product for small landlords. Listings, tenant onboarding, rent collection, and basic analytics.",category:"Featured",imageUrl:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=2565&auto=format&fit=crop",link:"#",featured:"true"},{title:"XPlus Commerce",description:"A high-performance e-commerce platform built for the Nigerian market. Features real-time inventory, secure payments via Flutterwave, and a modular architecture for rapid scaling.",category:"E-commerce",imageUrl:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=2670&auto=format&fit=crop",link:"https://xplus.com.ng",featured:"true"},{title:"Stripe Billing",description:"Customer portal, subscriptions.",category:"Integration",imageUrl:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2670&auto=format&fit=crop",link:"#",featured:"false"},{title:"Admin Panel",description:"Role management, user controls.",category:"Infrastructure",imageUrl:"https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?q=80&w=2574&auto=format&fit=crop",link:"#",featured:"false"}])try{await cr.create(e)}catch(e){}return(await cr.find().lean()).map(e=>this.mapDoc(e))}return e.map(e=>this.mapDoc(e))}catch(e){return console.error("[MongoStorage] Critical failure, returning static fallback projects:",e),[{id:"fb-1",title:"System Online (Offline Mode)",description:"The database is currently unreachable. Some projects might be hidden.",category:"Service",imageUrl:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=2670&auto=format&fit=crop",link:"#",featured:"true"}]}}async createProject(e){await this.ensureConnection();let t=await cr.create(e);return this.mapDoc(t)}async createPayment(e){try{await this.ensureConnection();let t=await ci.create(e);return this.mapDoc(t)}catch(t){return console.error("[MongoStorage] createPayment failed, falling back to transaction log:",t),{...e,id:(0,aQ.randomUUID)(),status:"pending",createdAt:new Date().toISOString(),data:e.data||null}}}async getPaymentByTxRef(e){try{await this.ensureConnection();let t=await ci.findOne({txRef:e});return t?this.mapDoc(t):void 0}catch(e){return}}async updatePaymentStatus(e,t,r){try{await this.ensureConnection();let n=await ci.findOneAndUpdate({txRef:e},{status:t,data:r},{new:!0});if(!n)throw Error("Payment not found");return this.mapDoc(n)}catch(e){throw console.error("[MongoStorage] updatePaymentStatus failed:",e),e}}}class ca{async getUser(e){let[t]=await u4.select().from(ai).where(l0(ai.id,e));return t}async getUserByUsername(e){let[t]=await u4.select().from(ai).where(l0(ai.username,e));return t}async createUser(e){let[t]=await u4.insert(ai).values(e).returning();return t}async createContactRequest(e){let[t]=await u4.insert(as).values(e).returning();return t}async getProjects(){let e=await u4.select().from(aa);if(0===e.length){for(let e of[{title:"TenantFlow  Landlord CRM template",description:"A vertical starter product for small landlords. Listings, tenant onboarding, rent collection, and basic analytics.",category:"Featured",imageUrl:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=2565&auto=format&fit=crop",link:"#",featured:"true"},{title:"XPlus Commerce",description:"A high-performance e-commerce platform built for the Nigerian market. Features real-time inventory, secure payments via Flutterwave, and a modular architecture for rapid scaling.",category:"E-commerce",imageUrl:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=2670&auto=format&fit=crop",link:"https://xplus.com.ng",featured:"true"},{title:"Stripe Billing",description:"Customer portal, subscriptions.",category:"Integration",imageUrl:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2670&auto=format&fit=crop",link:"#",featured:"false"},{title:"Admin Panel",description:"Role management, user controls.",category:"Infrastructure",imageUrl:"https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?q=80&w=2574&auto=format&fit=crop",link:"#",featured:"false"}])try{await u4.insert(aa).values(e)}catch(t){console.warn("Failed to seed project (might already exist):",e.title)}return await u4.select().from(aa)}return e}async createProject(e){let[t]=await u4.insert(aa).values(e).returning();return t}async createPayment(e){let[t]=await u4.insert(ao).values(e).returning();return t}async getPaymentByTxRef(e){let[t]=await u4.select().from(ao).where(l0(ao.txRef,e));return t}async updatePaymentStatus(e,t,r){let[n]=await u4.update(ao).set({status:t,data:r}).where(l0(ao.txRef,e)).returning();if(!n)throw Error("Payment not found");return n}}class co{users;contactRequests;projects;payments;constructor(){this.users=new Map,this.contactRequests=new Map,this.projects=new Map,this.payments=new Map,this.seedProjects()}seedProjects(){[{title:"TenantFlow  Landlord CRM template",description:"A vertical starter product for small landlords. Listings, tenant onboarding, rent collection, and basic analytics.",category:"Featured",imageUrl:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=2565&auto=format&fit=crop",link:"#",featured:"true"},{title:"XPlus Commerce",description:"A high-performance e-commerce platform built for the Nigerian market. Features real-time inventory, secure payments via Flutterwave, and a modular architecture for rapid scaling.",category:"E-commerce",imageUrl:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=2670&auto=format&fit=crop",link:"https://xplus.com.ng",featured:"true"},{title:"Stripe Billing",description:"Customer portal, subscriptions.",category:"Integration",imageUrl:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2670&auto=format&fit=crop",link:"#",featured:"false"},{title:"Admin Panel",description:"Role management, user controls.",category:"Infrastructure",imageUrl:"https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?q=80&w=2574&auto=format&fit=crop",link:"#",featured:"false"}].forEach(e=>{let t=(0,aQ.randomUUID)();this.projects.set(t,{...e,id:t,link:e.link??null,featured:e.featured??"false"})})}async getUser(e){return this.users.get(e)}async getUserByUsername(e){return Array.from(this.users.values()).find(t=>t.username===e)}async createUser(e){let t=(0,aQ.randomUUID)(),r={...e,id:t};return this.users.set(t,r),r}async createContactRequest(e){let t=(0,aQ.randomUUID)(),r={...e,id:t,company:e.company??null,createdAt:new Date().toISOString()};return this.contactRequests.set(t,r),r}async getProjects(){return Array.from(this.projects.values())}async createProject(e){let t=(0,aQ.randomUUID)(),r={...e,id:t,link:e.link??null,featured:e.featured??"false"};return this.projects.set(t,r),r}async createPayment(e){let t=(0,aQ.randomUUID)(),r={...e,id:t,status:e.status??"pending",data:e.data??null,createdAt:new Date().toISOString()};return this.payments.set(t,r),r}async getPaymentByTxRef(e){return Array.from(this.payments.values()).find(t=>t.txRef===e)}async updatePaymentStatus(e,t,r){let n=Array.from(this.payments.values()).find(t=>t.txRef===e);if(!n)throw Error("Payment not found");return n.status=t,r&&(n.data=r),n}}let cl=new co;(async function(){let e=process.env.MONGO_URI,t=process.env.DATABASE_URL;if(e)try{console.log("[Storage] Attempting to connect to MongoDB..."),await u5.connect(e,{serverSelectionTimeoutMS:5e3}),console.log("[Storage] Using MongoDB Storage"),cl=new cs;return}catch(e){console.error("[Storage] MongoDB connection failed:",e.message)}t&&(t.startsWith("postgres")||t.startsWith("neondb"))?(console.log("[Storage] Using Database Storage (Postgres)"),cl=new ca):(console.warn("[Storage] Using In-Memory Storage (Data will be lost on restart)"),cl=new co)})().catch(e=>{console.error("[Storage] Critical initialization error:",e)}),e.s(["storage",()=>cl],21127)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__22fb2520._.js.map